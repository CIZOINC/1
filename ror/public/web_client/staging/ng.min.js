"use strict";function AppCtrl(e,t,r,n,o,i,s,a,l){function c(){t.storage.showMatureScreen=!1,e.$broadcast("loginOpen")}function d(){t.storage.showMatureScreen=!1,o.go("home",{},{reload:!0})}function u(){e.$broadcast("loginClose"),o.go("reset")}function m(){t.storage.showMatureScreen=!1,e.loginTarget=void 0,e.loginTargetParams=void 0}function p(){t.storage.token=i.getItem(t.storage.storageUserToken),t.storage.token&&s.isUnexpiredToken(t.storage.token)&&a(function(){s.updateToken(t.hostName,t.storage.token).then(function(e){i.setItem(t.storage.storageUserToken,e.data),t.storage.token=e.data})},3e4),s.isUnexpiredToken(t.storage.token)?t.storage.userAuthorized=!0:(i.deleteItem(t.storage.storageUserToken),t.storage.userAuthorized=!1)}function g(){e.wentFrom="",e.wentFromParams=void 0,e.$on("$stateChangeSuccess",function(t,r,n,o,i){"register"!==o.name&&"login"!==o.name&&"reset"!==o.name&&"terms"!==o.name&&"privacy"!==o.name&&("undefined"!=typeof e.loginTarget?(e.wentFrom=e.loginTarget,e.wentFromParams=e.loginTargetParams,e.loginTarget=void 0,e.loginTargetParams=void 0):(e.wentFrom=o,e.wentFromParams=i))})}function y(){e.$on("loginOpen",function(){t.showLogin=!0}),e.$on("loginClose",function(){t.showLogin=!1})}function h(){e.$on("registerOpen",function(){t.showRegister=!0}),e.$on("registerClose",function(){t.showRegister=!1})}function f(){t.storage.seenItems=i.getItem(t.storage.storageSeenKey),null==t.storage.seenItems&&(t.storage.seenItems=[]),t.storage.unseenItems=i.getItem(t.storage.storageUnseenKey),null==t.storage.unseenItems&&(t.storage.unseenItems=[]),t.storage.favoritesItems=i.getItem(t.storage.storageFavoritesKey),null==t.storage.favoritesItems&&(t.storage.favoritesItems=[]),t.storage.skippedItems=i.getItem(t.storage.storageSkippedKey),null==t.storage.skippedItems&&(t.storage.skippedItems=[])}e.isInitLoad=!0,t=angular.extend(t,{title:"CIZO",hostName:"https://staging.cizo.com",sharingPath:"https://staging.cizo.com/app",facebookAppId:"459923084193687",videosList:[],categoriesList:[],featuredList:[],showLogin:!1,showRegister:!1,checkMature:function(){return t.storage.showMatureScreen},storage:{userAuthorized:!1,showMatureScreen:!1,storageSeenKey:"seen",storageFavoritesKey:"favorites",storageUnseenKey:"unseen",storageSkippedKey:"skipped",storageUserToken:"token",seenItems:[],favoritesItems:[],unseenItems:[],skippedItems:[],token:void 0},linkToLogin:c,linkToHome:d,resetPassword:u,closeMatureScreen:m}),l.init({appId:t.facebookAppId}),p(),r.configureStates(n),g(),f(),t.storage.userAuthorized&&s.refreshStoragesFromNetwork(t.hostName,t.storage),y(),h()}function categoriesServ(e,t,r){function n(n){return t(function(t,o){function i(e){r.info("categories list obtained"),t(e)}function s(e){r.info("categories list obtaining error with status "+e.status),o(e)}e({method:"GET",url:n.hostName+"/categories"}).then(i,s)})}function o(n,o){return t(function(t,i){function s(e){r.info("category data created"),t(e)}function a(e){r.info("category data creation error with status "+e.status),i(e)}e({method:"POST",url:n.hostName+"/categories",data:o}).then(s,a)})}function i(n,o){return t(function(t,i){function s(e){r.info("category data delivered"),t(e)}function a(e){r.info("category data getting error with status "+e.status),i(e)}e({method:"GET",url:n.hostName+"/categories/"+o}).then(s,a)})}function s(n,o,i){return t(function(t,s){function a(e){r.info("category data updated"),t(e)}function l(e){r.info("category data updating error with status "+e.status),s(e)}e({method:"PUT",url:n.hostName+"/categories/"+o,data:i}).then(a,l)})}function a(n,o){return t(function(t,i){function s(e){r.info("category data deleted"),t(e)}function a(e){r.info("category data deleting error with status "+e.status),i(e)}e({method:"DELETE",url:n.hostName+"/categories/"+o}).then(s,a)})}return{getCategoriesList:n,makeCategory:o,getCategory:i,setCategory:s,deleteCategory:a}}function playerServ(e,t,r,n,o,i,s,a){function l(e){function t(){L.isFullScreen=!L.isFullScreen,e&&e()}document.addEventListener("fullscreenchange",function(){t()},!1),document.addEventListener("mozfullscreenchange",function(){t()},!1),document.addEventListener("webkitfullscreenchange",function(){t()},!1),document.addEventListener("msfullscreenchange",function(){t()},!1)}function c(){return!document.fullscreenElement&&!document.mozFullScreenElement&&null!==document.webkitFullscreenElement&&!document.msFullscreenElement}function d(t){return e(function(e){var r=c();r?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():$document.msExitFullscreen&&document.msExitFullscreen(),e()):(t.screen.requestFullscreen?t.screen.requestFullscreen():t.screen.mozRequestFullScreen?t.screen.mozRequestFullScreen():t.screen.webkitRequestFullScreen?t.screen.webkitRequestFullScreen():t.screen.msRequestFullscreen&&t.screen.msRequestFullscreen(),e())})}function u(e,t){if(e&&e.id){var r=e.id,n=void 0,o=a.findIndex(t,function(e){return e.id===r});return o>0&&(n=t[o-1]),n}}function m(e,t){if(e){var r=e.id,n=void 0,o=a.filter(t,function(t){return t.category_id===e.category_id}),i=a.findIndex(o,function(e){return e.id===r});return i+1<t.length&&(n=t[i+1]),n}}function p(e){t.go("share",{videoId:e})}function g(t){return e(function(e){o.getFeaturedList(t).then(function(n){r.featuredList=t.featuredList,t.featuredList=n.data.data,e(t)})})}function y(t){return e(function(e){n.getCategoriesList(t).then(function(n){t.categoriesList=n.data.data,r.categoriesList=n.data.data,e(t)})})}function h(t){return e(function(e){var n=a.map(t.categoriesList,function(e){return a.some(t.videosList,function(t){return t.category_id===e.id})||(e.empty=!0),e});t.categoriesList=n,r.categoriesList=n,e(t)})}function f(t){return e(function(e){o.getVideosList(t).then(function(r){t.videosList=a.filter(r.data.data,function(e){return e.hero_images&&e.hero_images.hero_image_link&&e.streams&&e.streams.length}),e(t)})})}function v(e){var t=moment(e),r=moment();return r.to(t)}function _(t){return e(function(e){var r=a.map(t.videosList,function(e){var r=a.find(t.categoriesList,function(t){return t.id===e.category_id});return r&&(e.categoryName=r.title,e.categoryId=r.category_id,e.humanizedDate=e&&e.created_at?v(e.created_at):void 0,e.instantPlay=!1),t.storage.seenItems&&t.storage.seenItems.length&&(e.isWatched=a.some(t.storage.seenItems,function(t){return t===e.id})),t.storage.favoritesItems&&t.storage.favoritesItems.length?e.favorites=a.some(t.storage.favoritesItems,function(t){return t===e.id}):e.favorites=!1,e});t.videosList=r,e(t.videosList)})}function b(e,t,r){var n=e.unseenItems.indexOf(r);n>=0&&(e.unseenItems.splice(n,1),i.setItem(e.storageUnseenKey,e.unseenItems)),e.seenItems.push(r),e.seenItems=a.uniq(e.seenItems),i.setItem(e.storageSeenKey,e.seenItems),s.setVideoSeen(t,e.token.access_token,r)}function w(e){e.userAuthorized=!1,e.token=void 0,i.setItem(e.storageUserToken,void 0),t.go("home")}function I(e,t,r,n){e.message.title=t,e.message.description=r,n&&(e.message.callback=n),e.message.isVisible=!0}function S(e){var t=a.find(r.categoriesList,function(t){return t.id==e});if(!t)return"all";var n={movies:"movie",tv:"tv",games:"games",tech:"tech",lifestyle:"lifestyle"};return n[t.canonical_title]}var L=this;return{toggleFullScreen:d,getElementFullscreenState:c,getPreviousVideo:u,getNextVideo:m,shareVideo:p,getFeaturedList:g,getCategories:y,updateCategories:h,getVideos:f,updateVideos:_,getIconName:S,setVideoWatched:b,userLogout:w,showMessage:I,addFullScreenWatcher:l,isFullScreen:!1}}function userServ(e,t,r,n,o,i){function s(n,o){return t(function(t,i){function s(e){r.info("user registered"),t(e)}function a(e){r.info("user register obtaining error with status "+e.status),i(e)}e({method:"POST",url:n+"/users",data:{user:o}}).then(s,a)})}function a(e,t){i.setItem(e.storageUserToken,t),e.token=t,e.userAuthorized=!0}function l(e,t,r){t.userAuthorized&&_.each(r,function(r){N(e,t.token.access_token,r)})}function c(e,t){return P(e,t.token.access_token).then(function(r){var n=_.map(r,function(e){return e.id}),o=i.getItem(t.storageFavoritesKey),s=_.union(n,o),a=_.difference(o,n);l(e,t,a),i.setItem(t.storageFavoritesKey,s),t.favoritesItems=s})}function d(e,t){return S(e,t.token.access_token).then(function(e){var r=_.map(e,function(e){return e.id}),n=i.getItem(t.storageSeenKey),o=_.union(r,n);i.setItem(t.storageSeenKey,o),t.seenItems=o})}function u(e,t){return I(e,t.token.access_token).then(function(e){var r=_.map(e,function(e){return e.id}),n=i.getItem(t.storageUnseenKey),o=_.union(r,n);i.setItem(t.storageUnseenKey,o),t.unseenItems=o})}function m(e,t){return T(e,t.token.access_token).then(function(e){var r=_.map(e,function(e){return e.id}),n=i.getItem(t.storageSkippedKey),o=_.union(r,n);i.setItem(t.storageSkippedKey,o),t.skippedItems=o})}function p(e,t){c(e,t),d(e,t),u(e,t),m(e,t)}function g(n,o){return t(function(t,i){function s(e){r.info("user logged in"),t(e)}function a(e){r.info("user login obtaining error with status "+e.status),i(e)}e({method:"POST",url:n+("/oauth/token?grant_type=password&username="+encodeURIComponent(o.login)+"&password="+encodeURIComponent(o.password))}).then(s,a)})}function y(r){return t(function(t,n){o.login(function(o){if(o.authResponse){var i=o.authResponse.accessToken;t(e({method:"GET",url:r+("/oauth/facebook?access_token="+i)}).then(function(e){return e.data}))}else n()},{scope:"public_profile,email"})})}function h(n,o){return t(function(t,i){function s(e){r.info("user logged in"),t(e)}function a(e){r.info("user login obtaining error with status "+e.status),i(e)}e({method:"POST",url:n+("/oauth/token?grant_type=refresh_token&refresh_token="+o.refresh_token)}).then(s,a)})}function f(n,o){return t(function(t,i){function s(e){r.info("password link successfully sent"),t(e)}function a(e){r.info("password link sending error with status "+e.status),i(e)}e({method:"POST",url:n+("/users/password_reset?email="+encodeURIComponent(o))}).then(s,a)})}function v(n,o,i){return t(function(t,s){function a(e){r.info("password successfully updated"),t(e)}function l(e){r.info("password updating error with status "+e.status),s(e)}e({method:"PUT",url:n+"/users/me",data:{user:{password:o,password_confirmation:o}},headers:{Authorization:"Bearer "+i}}).then(a,l)})}function b(n,o,i){return t(function(t,s){function a(e){r.info("password successfully updated"),t(e)}function l(e){r.info("password updating error with status "+e.status),s(e)}e({method:"PUT",url:n+("/users/password?password="+encodeURIComponent(o)+"&reset_password_token="+encodeURIComponent(i))}).then(a,l)})}function w(e){if(!e||null===e)return!1;var t=n(e.created_at),r=n(),o=t.add(e.expires_in);return r.diff(o)>0}function I(n,o,i){return t(function(t,s){function a(e){r.info("unseen videos obtained"),t(e.data.data)}function l(e){r.info("unseen videos obtaining error with status "+e.status),s(e)}o||s(),e({method:"GET",url:n+"/users/me/videos/unseen",params:i,headers:{Authorization:"Bearer "+o}}).then(a,l)})}function S(n,o,i){return t(function(t,s){function a(e){r.info("seen videos obtained"),t(e.data.data)}function l(e){r.info("seen videos obtaining error with status "+e.status),s(e)}o||s(),e({method:"GET",url:n+"/users/me/videos/seen",params:i,headers:{Authorization:"Bearer "+o}}).then(a,l)})}function L(n,o,i){return t(function(t,s){function a(e){r.info("seen videos set"),t(e.data.data)}function l(e){r.info("seen videos set error with status "+e.status),s(e)}o||s(),e({method:"PUT",url:n+("/users/me/videos/seen/"+i),headers:{Authorization:"Bearer "+o}}).then(a,l)})}function T(n,o,i){return t(function(t,s){function a(e){r.info("skipped videos obtained"),t(e.data.data)}function l(e){r.info("skipped videos obtaining error with status "+e.status),s(e)}o||s(),e({method:"GET",url:n+"/users/me/videos/skipped",params:i,headers:{Authorization:"Bearer "+o}}).then(a,l)})}function E(n,o,i){return t(function(t,s){function a(e){r.info("skipped videos set"),t(e.data.data)}function l(e){r.info("skipped videos set error with status "+e.status),s(e)}o||s(),e({method:"PUT",url:n+("/users/me/videos/skipped/"+i),headers:{Authorization:"Bearer "+o}}).then(a,l)})}function P(n,o,i){return t(function(t,s){function a(e){r.info("liked videos obtained"),t(e.data.data)}function l(e){r.info("liked videos obtaining error with status "+e.status),s(e)}o||s(),e({method:"GET",url:n+"/users/me/videos/liked",params:i,headers:{Authorization:"Bearer "+o}}).then(a,l)})}function N(n,o,i){return t(function(t,s){function a(e){r.info("liked videos set"),t(e.data.data)}function l(e){r.info("liked videos set error with status "+e.status),s(e)}o||s(),e({method:"PUT",url:n+("/users/me/videos/liked/"+i),headers:{Authorization:"Bearer "+o}}).then(a,l)})}function k(n,o,i){return t(function(t,s){function a(e){r.info("liked videos deleted"),t(e.data.data)}function l(e){r.info("liked videos delete error with status "+e.status),s(e)}o||s(),e({method:"DELETE",url:n+("/users/me/videos/liked/"+i),headers:{Authorization:"Bearer "+o}}).then(a,l)})}return{registerUser:s,login:g,refreshStoragesFromNetwork:p,refreshFavoritesFromNetwork:c,refreshSeenFromNetwork:d,refreshUnseenFromNetwork:u,refreshSkippedFromNetwork:m,storeAuthToken:a,facebookAuth:y,updateToken:h,resetPassword:f,updatePassword:b,updatePasswordOnline:v,isUnexpiredToken:w,getUnseenList:I,setVideoSeen:L,getVideoSeen:S,getSkipped:T,setSkipped:E,getLiked:P,setLiked:N,deleteLiked:k}}function videoServ(e,t,r){function n(n){return t(function(t,o){function i(e){r.info("video list obtained"),t(e)}function s(e){r.info("video list obtaining error with status "+e.status),o(e)}e({method:"GET",url:n.hostName+"/videos"}).then(i,s)})}function o(n,o){return t(function(t,i){function s(e){r.info("video data created"),t(e)}function a(e){r.info("video data creation error with status "+e.status),i(e)}e({method:"POST",url:n.hostName+"/videos",data:o}).then(s,a)})}function i(n,o){return t(function(t,i){function s(e){r.info("video data delivered"),t(e)}function a(e){r.info("video data getting error with status "+e.status),i(e)}e({method:"GET",url:n.hostName+"/videos/"+o}).then(s,a)})}function s(n,o,i){return t(function(t,s){function a(e){r.info("video data updated"),t(e)}function l(e){r.info("video data updating error with status "+e.status),s(e)}e({method:"PUT",url:n.hostName+"/videos/"+o,data:i}).then(a,l)})}function a(n,o){return t(function(t,i){function s(e){r.info("video data deleted"),t(e)}function a(e){r.info("video data deleting error with status "+e.status),i(e)}e({method:"DELETE",url:n.hostName+"/videos/"+o}).then(s,a)})}function l(n){return t(function(t,o){function i(e){r.info("video list obtained"),t(e)}function s(e){r.info("video list obtaining error with status "+e.status),o(e)}e({method:"GET",url:n.hostName+"/featured"}).then(i,s)})}function c(n,o,i){var s=new FormData,a=s.append("heroImage",i);return t(function(t,i){function s(e){r.info("hero image uploaded"),t(e)}function l(e){r.info("hero image uploading error with status "+e.status),i(e)}e({method:"POST",url:n.hostName+"/videos/"+o+"/heroimage",data:a}).then(s,l)})}function d(n,o){return t(function(t,i){function s(e){r.info("streams called"),r.info(JSON.stringify(e)),t(e)}function a(e){r.info("streams call receiving error with status "+e.status),i(e)}e({method:"POST",url:n.hostName+"/videos/"+o+"/streams"}).then(s,a)})}return{getVideosList:n,makeVideo:o,getVideo:i,setVideo:s,deleteVideo:a,getFeaturedList:l,uploadHeroImage:c,sendStreams:d}}function videoSrc(){return{restrict:"A",link:{pre:function(e,t,r){function n(){if(o&&o.length){for(var t=0,r=o.length;t<r;t++)if(i=s[0].canPlayType(o[t].type),"maybe"==i||"probably"==i){s.attr("src",o[t].src),s.attr("type",o[t].type);break}""==i&&e.$emit("onVideoError",{type:"Can't play file"})}}var o,i,s=t;e.$watch(r.videoSrc,function(e,t){o&&e==t||(o=e,n())})}}}}function _lodash(e){return _}function _moment(){return moment}function routerHelperProvider(e,t,r){function n(e){function n(e,n){for(var o=0;o<e.length;o++)t.state(e[o].state,e[o].config);n&&!i&&(i=!0,r.otherwise(n))}function o(){return e.get()}var i=!1;return{configureStates:n,getStates:o}}this.$get=n,n.$inject=["$state"]}function storageServ(e){function t(t){var r=e.localStorage.getItem(t);return"undefined"===r?void 0:JSON.parse(e.localStorage.getItem(t))}function r(t,r){var n=r?JSON.stringify(r):void 0;e.localStorage.setItem(t,n),e.localStorage.getItem(t)!==n&&console.warn("Failed to save value to localstorage")}function n(t){e.localStorage.removeItem(t)}return{getItem:t,setItem:r,deleteItem:n}}function categoryItems(e,t,r,n,o,i){function s(s){function a(e,t){var n=void 0;if(n=parseInt(t)?r.filter(e,function(e){return e.category_id===parseInt(t)}):e,n.length>7){for(var o=[],i=0;i<7;i++)o.push(n[i]);s.manyItems=!0,n=o}return n}function l(e,t){var n=void 0;if(parseInt(t)){var o=r.find(e,function(e){return e.id===parseInt(t)});o&&o.title&&(n=o.title)}else n="All";return n}function c(e){var t=e.mature_content&&!o.isUnexpiredToken(s.storage.token);return t&&(s.storage.showMatureScreen=!0),t}function d(r){if(!c(r)){var n=r.id,o={videoId:n};t.$emit("replayVideo",o),t.$broadcast("replayVideo",o),e.go("play",o)}}function u(t){e.go("play",{videoId:s.videosList[0].id,categoryId:t})}s=angular.extend(s,{videosList:[],title:"",manyItems:!1,moveToPlayPage:d,iconName:n.getIconName(s.categoryId),moveToCategory:u}),s.$watch("videos",function(e){s.videosList=a(e,s.categoryId),i(function(){r.each(s.videosList,function(e){var t=document.querySelector("#category-play-item-"+e.id);t&&e.isWatched&&(t.querySelector(".category-items_videos_item_overlay").classList.add("category-items_videos_item_overlay--watched"),t.querySelector(".category-items_videos_item_title").classList.add("category-items_videos_item_title--watched"),t.querySelector(".icon-play").classList.add("hidden-layer"),t.querySelector(".icon-replay").classList.remove("hidden-layer"))})})}),s.$watch("categories",function(e){s.title=l(e,s.categoryId)})}return{restrict:"E",templateUrl:"components/category-items/category-items.html",link:s,transclude:!1,scope:{videos:"=",categoryId:"@",categories:"=",storage:"="}}}function featuredCarousel(e,t){function r(r){function n(e){var n=e.mature_content&&!t.isUnexpiredToken(r.storage.token);return n&&(r.storage.showMatureScreen=!0),n}function o(t){if(!n(t)){var o=t.id,i=e.find(r.featuredList,function(e){return e.id===parseInt(o)});i.instantPlay=!0,r.selectedVideo=i,r.$emit("replayVideo",{videoId:i.id}),r.$broadcast("replayVideo",{videoId:i.id})}}function i(){var e=r.featuredList.length/(r.currentStep*a)>1;e&&(r.currentStep++,r.itemsOffset=-1*l*(r.currentStep-1)+"px")}function s(){r.currentStep>1&&(r.currentStep--,r.itemsOffset=-1*l*(r.currentStep-1)+"px")}var a=4,l=1220;r=angular.extend(r,{itemsOffset:0,currentStep:1,playFeatured:o,moveNext:i,movePrev:s})}return{restrict:"E",templateUrl:"components/featured-carousel/featured-carousel.html",link:r,transclude:!1,scope:{featuredList:"=",selectedVideo:"=",replay:"&onReplay",storage:"="}}}function featuredSection(e,t,r){function n(e,n,o){function i(){e.featuredListCut=(e.featuredList||[]).slice(0,4)}function s(){e.category=e.categoriesList&&e.categoriesList.find(function(t){return t.id===e.video.category_id})}function a(e){return e&&r.getIconName(e.id)}function l(t){e.video=t}function c(t){if(e.featuredListCut.length){var r=e.featuredListCut.indexOf(e.video);r+=t,r<0?r+=e.featuredListCut.length:r>=e.featuredListCut.length&&(r-=e.featuredListCut.length),e.video=e.featuredListCut[r]}}function d(e){t.go("play",{videoId:e.id})}e=angular.extend(e,{category:void 0,featuredListCut:(e.featuredList||[]).slice(0,4),getIconName:a,selectVideo:l,playVideo:d,scroll:c}),i(),s(),e.$watchCollection("featuredList",i),e.$watchCollection("video",s)}return{restrict:"E",templateUrl:"components/featured-section/featured-section.html",link:n,scope:{video:"=",featuredList:"=",featuredItem:"=",categoriesList:"=",hostName:"@",storage:"=",videos:"="}}}function featuredPlayer(e,t,r,n,o,i,s,a,l,c,d,u,m){function p(u,p,g){function y(){return!(!u.video.mature_content||m.isUnexpiredToken(u.storage.token))&&(u.storage.showMatureScreen=!0,u.screen.pause(),u.intermissionStopTimer&&l.cancel(u.intermissionStopTimer),!0)}function h(){u.carouselItem.classList.add("featured-carousel_content_item--playing"),u.carouselItemTitle=angular.element(u.carouselItem.querySelector(".featured-carousel_content_item_title"))[0],u.carouselItemTitle.classList.add("featured-carousel_content_item_title--playing")}function f(){return{start:0,value:0,options:{floor:0,ceil:500,hideLimitLabels:!0,onChange:function(){u.sliderModel.start>0&&(u.sliderModel.value=u.sliderModel.start,u.sliderModel.start=0),y()||(u.screen.currentTime=u.sliderModel.value)}}}}function v(){return{start:0,value:0,options:{floor:0,ceil:10,hideLimitLabels:!0,vertical:!0,onChange:function(){u.soundSliderModel.start>0&&(u.soundSliderModel.value=u.soundSliderModel.start,u.soundSliderModel.start=0),u.screen.volume=u.soundSliderModel.value/10}}}}function _(e,t){e&&e.stopPropagation(),j(t)}function b(){u.isIntermissionState=!0,W(),z(!0),u.intermissionCountdownValue=0,u.isPlaying=!1,u.featuredPlayerInside.classList.remove("featured-player--playing"),u.imageLayer.classList.remove("featured-player_hero-image-layer--playing"),u.bottomElements.classList.add("hidden-layer"),document.querySelector(".home_wrapper").classList.remove("home_wrapper--playing"),u.intermissionStopTimer=l(function(){u.intermissionCountdownValue++,u.intermissionCountdownValue>u.intermissionCountdownMax&&(l.cancel(u.intermissionStopTimer),u.playNextVideo())},50)}function w(e,t){e&&e.stopPropagation(),t&&(u.isIntermissionPaused=!1,u.intermissionStopTimer&&l.cancel(u.intermissionStopTimer)),u.isIntermissionPaused?(u.intermissionStopTimer=l(function(){u.intermissionCountdownValue++,u.intermissionCountdownValue>u.intermissionCountdownMax&&(l.cancel(u.intermissionStopTimer),u.playNextVideo())},50),u.isIntermissionPaused=!1):(u.intermissionStopTimer&&l.cancel(u.intermissionStopTimer),u.isIntermissionPaused=!0)}function I(){if(u.video){var e=u.video.id,t=void 0,r=n.findIndex(u.featuredList,function(t){return t.id===e});return r+1<u.featuredList.length&&(t=u.featuredList[r+1]),t}}function S(e){e&&e.stopPropagation(),u.isPlaying=!0,u.featuredPlayerInside.classList.add("featured-player--playing"),u.imageLayer.classList.add("featured-player_hero-image-layer--playing"),u.bottomElements.classList.remove("hidden-layer"),document.querySelector(".home_wrapper").classList.add("home_wrapper--playing"),w(void 0,!0);var t=I();t&&t.featured?(u.screen.pause(),u.video=t,u.isIntermissionState=!1,z(!1),i(function(){u.screen.play(),y()},500)):u.screen.pause()}function L(e){e&&e.stopPropagation(),u.isPlaying=!0,u.featuredPlayerInside.classList.add("featured-player--playing"),u.imageLayer.classList.add("featured-player_hero-image-layer--playing"),u.bottomElements.classList.remove("hidden-layer"),document.querySelector(".home_wrapper").classList.add("home_wrapper--playing"),w(void 0,!0);var r=T(u.video,u.featuredList);r&&(u.screen.pause(),u.video=r,u.isIntermissionState=!1,z(!1),i(function(){t.loginTarget="play",t.loginTargetParams={videoId:u.video.id,categoryId:u.video.category_id},u.screen.play(),y()},500))}function T(){if(u.video&&u.video.id){var e=u.video.id,t=void 0,r=n.findIndex(u.featuredList,function(t){return t.id===e});return r>0&&(t=u.featuredList[r-1]),t}}function E(e){e&&e.stopPropagation(),u.intermissionStopTimer&&l.cancel(u.intermissionStopTimer),z(!1),u.$root.isInitLoad&&(u.$root.isInitLoad=!1,h()),u.isPlaying=!0,u.featuredPlayerInside.classList.add("featured-player--playing"),u.imageLayer.classList.add("featured-player_hero-image-layer--playing"),u.bottomElements.classList.remove("hidden-layer"),document.querySelector(".home_wrapper").classList.add("home_wrapper--playing"),u.screen.currentTime=0,u.isIntermissionState=!1,i(function(){u.screen.play(),y()},500)}function P(e){e&&e.stopPropagation(),d.shareVideo(u.video.id)}function N(e){if(e&&e.stopPropagation(),u.video.favorites=!u.video.favorites,G(u.video.favorites),u.video.favorites)u.storage.favoritesItems.push(u.video.id),m.setLiked(u.hostName,u.storage.token.access_token,u.video.id);else{var t=n.indexOf(u.storage.favoritesItems,u.video.id);u.storage.favoritesItems.splice(t,1),m.deleteLiked(u.hostName,u.storage.token.access_token,u.video.id)}}function k(){u.video.isWatched=!0;var e=n.filter(u.videos,function(e){return e.id===u.video.id});e.isWatched=!0;var t=document.querySelector("#category-play-item-"+u.video.id);t&&(t.querySelector(".category-items_videos_item_overlay").classList.add("category-items_videos_item_overlay--watched"),t.querySelector(".category-items_videos_item_title").classList.add("category-items_videos_item_title--watched"),t.querySelector(".icon-play").classList.add("hidden-layer"),t.querySelector(".icon-replay").classList.remove("hidden-layer")),u.$apply(),d.setVideoWatched(u.storage,u.hostName,u.video.id)}function O(e){e&&e.stopPropagation(),u.screen.muted?(u.screen.muted=!1,u.soundButton.classList.add("icon-volume"),u.soundButton.classList.remove("icon-volumemute")):(u.screen.muted=!0,u.soundButton.classList.add("icon-volumemute"),u.soundButton.classList.remove("icon-volume"))}function A(){var e=1500;u.isPlaying&&!u.isIntermissionState&&(u.waitingTimer&&i.cancel(u.waitingTimer),x(!1),u.topElementsRightSide.classList.remove("hidden-layer"),u.buttonLayer.classList.add("player_buttons-layer--hover"),u.waitingTimer=i(function(){x(!0),u.topElementsRightSide.classList.add("hidden-layer"),u.buttonLayer.classList.remove("player_buttons-layer--hover")},e))}function C(e){var t=n.find(u.categoriesList,function(t){return t.id==e});if(t){var r={movies:"movie",tv:"tv",games:"games",tech:"tech",lifestyle:"lifestyle"};return"show-player_buttons-layer_bottom-elements_titles_current_category icon-category"+o.trustAsHtml(r[String(t.canonical_title)])}return!1}function R(e){var t=r(e),n=r();return n.to(t)}function U(){u.isPlaying&&!u.isIntermissionState&&(x(!1),u.topElementsRightSide.classList.remove("hidden-layer"),d.getElementFullscreenState()&&u.isIntermissionState?u.buttonLayer.classList.remove("featured-player_buttons-layer--hover"):u.buttonLayer.classList.add("featured-player_buttons-layer--hover"))}function W(){u.isPlaying&&!u.isIntermissionState&&(x(!0),u.topElementsRightSide.classList.add("hidden-layer"),u.buttonLayer.classList.remove("featured-player_buttons-layer--hover"))}function F(){u.soundSlider.classList.remove("hidden-layer")}function D(){u.soundSlider.classList.add("hidden-layer")}function $(e){return e&&e.stopPropagation(),a(function(e){d.toggleFullScreen(u).then(function(){e()})})}function x(e){if(!u.isIntermissionState){var t="undefined"!=typeof e?!e:u.controlsOverlayLayer.classList.contains("hidden-layer");i(function(){u.$broadcast("rzSliderForceRender")}),t?(H(!0),B(u.screen.paused?!1:!0)):H(!1)}}function M(t){if(t&&t.stopPropagation(),!u.storage.showMatureScreen){if(u.isPlaying=!0,u.featuredPlayerInside.classList.add("featured-player--playing"),u.imageLayer.classList.add("featured-player_hero-image-layer--playing"),u.bottomElements.classList.remove("hidden-layer"),document.querySelector(".home_wrapper").classList.add("home_wrapper--playing"),u.isIntermissionState)return u.isIntermissionState=!1,w(void 0,!0),void S();q(!0),A(),i(function(){u.$broadcast("rzSliderForceRender")}),u.screen.paused?(u.screen.play(),y(),e.info("start playing"),B(!0),u.$root.isInitLoad&&(u.$root.isInitLoad=!1,h())):(u.screen.pause(),e.info("set to pause"),B(!1))}}function V(e){return e?"add":"remove"}function B(e){u.pauseButton.classList[V(!e)]("hidden-layer"),u.playButton.classList[V(e)]("hidden-layer")}function q(e){p[0].classList[V(e)]("featured-player--play-state"),u.currentTitle.classList[V(e)]("featured-player_buttons-layer_bottom-elements_titles_current_title--play-state"),u.currentBlock.classList[V(e)]("featured-player_buttons-layer_bottom-elements_titles_current--play-state"),u.titlesOverlayLayer.classList[V(!e)]("featured-player_buttons-layer_bottom-elements_titles--hero-image"),u.titlesOverlayLayer.classList[V(!e)]("hidden-layer"),u.controlsOverlayLayer.classList[V(!e)]("hidden-layer")}function H(e){u.titlesOverlayLayer.classList[V(!e)]("hidden-layer"),u.controlsOverlayLayer.classList[V(!e)]("hidden-layer"),u.playButton.classList[V(!e)]("hidden-layer"),u.pauseButton.classList[V(!e)]("hidden-layer"),u.topElementsRightSide.classList[V(!e)]("hidden-layer"),u.buttonLayer.classList[V(e)]("featured-player_buttons-layer--show-buttons")}function Y(e){u.descriptionLayer.classList[V(e)]("featured-player_description-layer--fullscreen"),u.buttonLayer.classList[V(e)]("featured-player_buttons-layer--fullscreen"),u.buttonLayer.classList[V(!e)]("featured-player_buttons-layer--hover"),u.expandButton.classList[V(e)]("hidden-layer"),u.collapseButton.classList[V(!e)]("hidden-layer")}function z(e){if(e){var t=angular.element(p[0].querySelector("#featured-carousel-video-"+u.video.id))[0];t&&(u.carouselItemIntermissionLayer=angular.element(t.querySelector(".featured-carousel_content_item_intermission"))[0],u.carouselItemIntermissionImage=angular.element(t.querySelector(".featured-carousel_content_item_image"))[0],u.carouselItemPlay=angular.element(t.querySelector(".featured-carousel_content_item_overlay"))[0],u.carouselItemIntermissionLayer.classList[V(!1)]("hidden-layer"),u.carouselItemIntermissionImage.classList[V(!0)]("featured-carousel_content_item_image--intermission"),u.carouselItemPlay.classList[V(!0)]("hidden-layer"))}else n.each(angular.element(p[0].querySelectorAll(".featured-carousel_content_item")),function(e){angular.element(e.querySelector(".featured-carousel_content_item_intermission"))[0].classList[V(!0)]("hidden-layer"),angular.element(e.querySelector(".featured-carousel_content_item_image"))[0].classList[V(!1)]("featured-carousel_content_item_image--intermission"),angular.element(e.querySelector(".featured-carousel_content_item_overlay"))[0].classList[V(!1)]("hidden-layer")});u.imageLayer.classList[V(e)]("hidden-layer"),u.buttonLayer.classList.remove("player_buttons-layer--hover"),u.buttonLayer.classList[V(e)]("featured-player_buttons-layer--intermission"),u.prevButton.classList[V(!e)]("hidden-layer"),u.nextButton.classList[V(!e)]("hidden-layer"),u.countDown.classList[V(!e)]("hidden-layer"),u.intermissionTitle.classList[V(!e)]("hidden-layer"),u.intermissionPause.classList[V(!e)]("hidden-layer"),u.titlesOverlayLayer.classList[V(e)]("hidden-layer"),u.controlsOverlayLayer.classList[V(e)]("hidden-layer"),u.imageNextLayer.classList[V(!e)]("hidden-layer"),u.videoLayer.classList[V(e)]("hidden-layer"),u.centerControlGroup.classList[V(e)]("featured-player_buttons-layer_center-elements_group--intermission"),B(!1)}function G(e){u.favoritesButton.classList[V(e)]("icon-favorites-filled"),u.favoritesButton.classList[V(!e)]("icon-favorites")}function j(e){u.descriptionLayer.classList[V(!e)]("hidden-layer"),u.titlesOverlayLayer.classList[V(e)]("hidden-layer"),d.getElementFullscreenState()?u.buttonLayer.classList[V(!e)]("featured-player_buttons-layer--fullscreen"):u.buttonLayer.classList[V(!1)]("featured-player_buttons-layer--fullscreen"),u.controlsOverlayLayer.classList[V(e)]("hidden-layer"),u.topElementsRightSide.classList[V(e)]("hidden-layer"),e?(u.playButton.classList[V(e)]("hidden-layer"),u.pauseButton.classList[V(e)]("hidden-layer")):B(u.screen.paused?!1:!0)}u=angular.extend(u,{isPlaying:!1,isIntermissionState:!1,isIntermissionPaused:!1,intermissionCountdownValue:0,intermissionCountdownMax:100,screenList:angular.element(p[0].querySelector("div.video-layer video")),screen:angular.element(p[0].querySelector("div.video-layer video"))[0],sliderModel:new f,soundSliderModel:new v,featuredPlayer:angular.element(document.querySelector("featured-player"))[0],featuredPlayerInside:angular.element(document.querySelector(".featured-player"))[0],titlesOverlayLayer:angular.element(p[0].querySelector(".featured-player_buttons-layer_bottom-elements_titles"))[0],
controlsOverlayLayer:angular.element(p[0].querySelector(".featured-player_buttons-layer_bottom-elements_controls"))[0],topElementsLayer:angular.element(p[0].querySelector(".featured-player_buttons-layer_top-elements"))[0],topElementsClose:angular.element(p[0].querySelector(".featured-player_buttons-layer_top-elements_close-button"))[0],topElementsRightSide:angular.element(p[0].querySelector(".featured-player_buttons-layer_top-elements_rightside"))[0],currentTitle:angular.element(p[0].querySelector(".featured-player_buttons-layer_bottom-elements_titles_current_title"))[0],currentBlock:angular.element(p[0].querySelector(".featured-player_buttons-layer_bottom-elements_titles_current"))[0],buttonLayer:angular.element(p[0].querySelectorAll(".featured-player_buttons-layer"))[0],videoLayer:angular.element(p[0].querySelector("div.video-layer"))[0],imageLayer:angular.element(p[0].querySelector(".featured-player_hero-image-layer"))[0],imageNextLayer:angular.element(p[0].querySelector("div.featured-player_hero-image-layer-next"))[0],descriptionLayer:angular.element(p[0].querySelector("div.featured-player_description-layer"))[0],playButton:angular.element(p[0].querySelector(".featured-player_buttons-layer_center-elements_play-button"))[0],pauseButton:angular.element(p[0].querySelector(".featured-player_buttons-layer_center-elements_pause-button"))[0],centerControlGroup:angular.element(p[0].querySelector(".featured-player_buttons-layer_center-elements_group"))[0],favoritesButton:angular.element(p[0].querySelector(".featured-player_buttons-layer_top-elements_rightside_buttons_favorites"))[0],prevButton:angular.element(p[0].querySelector(".featured-player_buttons-layer_center-elements_prev"))[0],nextButton:angular.element(p[0].querySelector(".featured-player_buttons-layer_center-elements_next"))[0],countDown:angular.element(p[0].querySelector(".featured-player_buttons-layer_center-elements_group_controls_progress"))[0],intermissionTitle:angular.element(p[0].querySelector(".featured-player_buttons-layer_center-elements_group_title"))[0],intermissionPause:angular.element(p[0].querySelector(".featured-player_buttons-layer_center-elements_group_bottom"))[0],bottomElements:angular.element(p[0].querySelector(".featured-player_buttons-layer_bottom-elements"))[0],slider:angular.element(p[0].querySelector(".featured-player_buttons-layer_bottom-elements_controls_slider"))[0],expandButton:angular.element(p[0].querySelector(".featured-player_buttons-layer_bottom-elements_controls_expand"))[0],collapseButton:angular.element(p[0].querySelector(".featured-player_buttons-layer_bottom-elements_controls_collapse"))[0],soundButton:angular.element(p[0].querySelector(".featured-player_buttons-layer_bottom-elements_controls_volume"))[0],soundSlider:angular.element(p[0].querySelector(".featured-player_buttons-layer_bottom-elements_controls_volume-slider"))[0],togglePlayPause:M,imageHover:U,imageBlur:W,soundHover:F,soundBlur:D,toggleFullScreen:$,toggleControlsVisibility:x,toggleDescription:_,setIntermission:b,pauseIntermissionToggle:w,isInIntermission:function(){return u.isIntermissionState},nextVideo:I(),playNextVideo:S,getNextVideo:I,playPreviousVideo:L,getPreviousVideo:T,replayVideo:E,shareVideo:P,toggleFavorites:N,setWatched:k,toggleMute:O,showControlsOnMove:A}),s.yOffset=150,d.addFullScreenWatcher(function(){var e=d.getElementFullscreenState();Y(e)}),u.screenList.bind("timeupdate",function(){u.storage.showMatureScreen&&u.screen.played&&u.screen.pause(),u.timePassed=r().startOf("year").add(u.screen.currentTime,"s").format("mm:ss"),u.duration=r().startOf("year").add(u.screen.duration,"s").format("mm:ss"),u.sliderModel.value=u.screen.currentTime,u.sliderModel.options.ceil=u.screen.duration,u.$apply(),u.video.isWatched||u.screen.currentTime>.75*u.screen.duration&&k()}),u.screenList.bind("ended",function(){d.getElementFullscreenState()?$().then(function(){u.setIntermission()}):u.setIntermission()}),u.$watch("video",function(){u.video&&u.video.description&&(u.videoDescription=c("nl2br")(u.video.description),u.videoDescription=c("parseLinks")(u.videoDescription)),u.video&&u.video.streams&&(u.sources=u.video.streams.map(function(e){return{src:o.trustAsResourceUrl(e.link),type:"video/"+e.stream_type}}),u.iconTitle=u.video&&u.video.category_id?C(u.video.category_id):"",u.createdDate=u.video&&u.video.created_at?R(u.video.created_at):void 0,u.nextVideo=I(),u.isIntermissionPaused=!1,G(u.video.favorites),i(function(){!u.featuredPlayer.classList.contains("hidden-layer")&&u.video.instantPlay&&(M(),u.video.instantPlay=!1),n.each(angular.element(p[0].querySelectorAll(".featured-carousel_content_item")),function(e){e.classList.remove("featured-carousel_content_item--playing"),angular.element(e.querySelector(".featured-carousel_content_item_title"))[0].classList.remove("featured-carousel_content_item_title--playing")});var e=angular.element(p[0].querySelector("#featured-carousel-video-"+u.video.id))[0];e&&(u.carouselItem=e,u.$root.isInitLoad||h()),u.soundSliderModel.value=10*u.screen.volume}),y())}),u.$on("replayVideo",function(e,t){t.videoId==u.video.id&&E()})}return{restrict:"E",templateUrl:"components/featured-player/featuredPlayer.html",link:p,transclude:!0,scope:{video:"=",featuredList:"=",featuredItem:"=",categoriesList:"=",hostName:"@",storage:"=",videos:"="}}}function listItems(e,t,r,n,o,i){function s(i){function s(e){function t(e){var t={},n=i.storage.userAuthorized;return r.each(e,function(e,r){e.hasOwnProperty("authValue")||(t[r]=e),e.hasOwnProperty("authValue")&&(n&&e.authValue?t[r]=e.authValue:!n&&e.value&&(t[r]=e.value))}),t}switch(e){case"all":return{iconName:"",title:"All",noItemsTitle:"There are no videos at all. Stay tuned."};case"category":return{iconName:"",title:i.categoryName,noItemsTitle:"There are no videos in this category. Stay tuned."};case"listTag":return{iconName:"",title:"Filtered by "+i.tagName,noItemsTitle:"There are no videos with this tag. Stay tuned."};case"seen":return{iconName:"icon-seen",title:"Seen",noItemsTitle:"You haven't WATCHED ANY VIDEOS, THAT MAKES US SAD. DON'T MAKE US SAD."};case"unseen":return{iconName:"icon-unseen",title:"Unseen",noItemsTitle:"BRACE YOURSELF, NEW VIDEOS ARE COMING..."};case"skipped":return{iconName:"icon-skipped",title:"Skipped",noItemsTitle:"YOU HAVEN'T SKIPPED ANY VIDEOS. YOU'RE A TRUE PATRIOT.",noItemsDescription:""};case"favorite":var n={iconName:"icon-favorites",title:"Favorites",noItemsTitle:{value:"TO SEE YOUR FAVORITES, LOGIN OR SIGN UP.",authValue:"YOU HAVEN'T LIKED ANY VIDEOS... YET"},noItemsDescription:{value:"See something you like? Just tap the heart!",authValue:""}};return t(n)}}function a(e){var t=e.mature_content&&!o.isUnexpiredToken(i.storage.token);return t&&(i.storage.showMatureScreen=!0),t}function l(r){if(!a(r)){var n={videoId:r.id};"category"===i.listType&&(n.categoryId=r.category_id),t.$emit("replayVideo",n),t.$broadcast("replayVideo",n),e.go("play",n)}}function c(){e.go("home")}i=angular.extend(i,{videosList:[],title:"",iconName:n.getIconName(i.categoryId),message:void 0,isListShown:!1,isListLoaded:!1,moveToPlayPage:l,moveToHomePage:c}),i.$watch("videos",function(e){i.isListLoaded=!0,i.videosList=e,i.isListShown=e.length}),i.$watch("listType",function(e,t){e.length&&(i.message=s(e)),t.length&&(i.message=s(t))}),i.tagName&&(i.listType="listTag"),i.categoryName&&(i.listType="category")}return{restrict:"E",templateUrl:"components/list-items/list-items.html",link:s,transclude:!1,scope:{videos:"=",selectedVideo:"=",storage:"=",listType:"@",tagName:"@",categoryName:"@"}}}function leftSideMenu(e,t){function r(r){function n(){var e=document.querySelector("left-side-menu .menu_container"),t=document.querySelector("left-side-menu .menu_container_outer"),r="menu_container--menu-visible",n="menu_container_outer--menu-visible";e.classList.contains(r)?(e.classList.remove(r),t.classList.remove(n)):(e.classList.add(r),t.classList.add(n))}function o(){return t.isUnexpiredToken(r.storage.token)}function i(){e.go("home")}r=angular.extend(r,{isMenuVisible:!1,searchText:"",searchResult:[],menuContainer:document.querySelector(".menu_container"),menuContainerOuter:document.querySelector(".menu_container_outer"),toggleSideMenu:n,isUserAuthorized:o,goHome:i})}return{restrict:"E",templateUrl:"components/left-side-menu/left-side-menu.html",link:r,transclude:!1,scope:{storage:"="}}}function loginForm(e,t,r,n,o){function i(e){function t(){e.onLoginClose&&e.onLoginClose()}function n(){e.onRegisterOpen&&e.onRegisterOpen()}function i(){e.onResetPassword&&e.onResetPassword()}function s(){r.login(e.hostName,{login:e.login.email,password:e.login.password}).then(function(n){r.storeAuthToken(e.storage,n.data),r.refreshStoragesFromNetwork(e.hostName,e.storage,n.data),t()})["catch"](function(t){var r=_.map(t.data.errors,function(e){return e.message});o.showMessage(e,"Error",r.join(", "))})}function a(){r.facebookAuth(e.hostName).then(function(n){r.storeAuthToken(e.storage,n),r.refreshStoragesFromNetwork(e.hostName,e.storage),t()})["catch"](function(){o.showMessage(e,"Error","Please try to register via Facebook later")})}function l(){n()}function c(){i()}function d(){t()}function u(e){if(e&&13===e.keyCode){var t=document.querySelector(".login-form_input--pass");t&&t.focus()}}function m(e){e&&13===e.keyCode&&s()}e=angular.extend(e,{login:{email:"",password:""},message:{title:"",description:"",isVisible:!1,callback:function(){}},processLogin:s,facebookLogin:a,registerClick:l,resetPasswordClick:c,closeView:d,changeFocusOnEnter:u,loginOnEnter:m})}return{restrict:"E",templateUrl:"components/login-form/login-form.html",link:i,transclude:!1,scope:{hostName:"@",storage:"=",onLoginClose:"&",onRegisterOpen:"&",onResetPassword:"&"}}}function messageOverlay(){function e(e){function t(){e.params&&e.params.callback&&"function"==typeof e.params.callback&&e.params.callback(),e.params.isVisible=!1}e=angular.extend(e,{closeView:t})}return{restrict:"E",templateUrl:"components/message-overlay/message-overlay.html",link:e,transclude:!1,scope:{params:"="}}}function playItems(e,t,r,n,o,i){function s(s){function a(e,t){var n=void 0;return n=parseInt(t)?r.filter(e,function(e){return e.category_id===parseInt(t)}):e}function l(e,t){var n=void 0;if(parseInt(t)){var o=r.find(e,function(e){return e.id===parseInt(t)});o&&o.title&&(n=o.title)}else n="All";return n}function c(e){var t=e.mature_content&&!o.isUnexpiredToken(s.storage.token);return t&&(s.storage.showMatureScreen=!0),t}function d(r){if(!c(r)){var n=r.id,o={videoId:n};t.$emit("replayVideo",o),t.$broadcast("replayVideo",o),e.go("play",o)}}s=angular.extend(s,{videosList:[],title:"",iconName:n.getIconName(s.categoryId),moveToPlayPage:d}),s.$watch("videos",function(e){s.videosList=a(e,s.categoryId),i(function(){r.each(s.videosList,function(e){var t=document.querySelector("#play-video-item-"+e.id);t&&e.isWatched?(t.querySelector(".play-items_videos_item_overlay").classList.add("play-items_videos_item_overlay--watched"),t.querySelector(".play-items_videos_item_title").classList.add("play-items_videos_item_title--watched"),t.querySelector(".icon-play").classList.add("hidden-layer"),t.querySelector(".icon-replay").classList.remove("hidden-layer")):t.querySelector(".icon-replay").classList.add("hidden-layer")})})}),s.$watch("categoryId",function(){s.iconName=n.getIconName(s.categoryId),s.title=l(s.categories,s.categoryId)})}return{restrict:"E",templateUrl:"components/play-items/playItems.html",link:s,transclude:!1,scope:{videos:"=",categoryId:"@",categories:"=",storage:"="}}}function registerForm(e,t,r,n,o){function i(e){function i(){e.onLoginOpen&&e.onLoginOpen()}function a(){e.onRegisterClose&&e.onRegisterClose()}function l(){var s=r({year:e.register.year,month:e.register.month.key,day:e.register.day});s.isValid()?t.registerUser(e.hostName,{email:e.register.email,password:e.register.password,password_confirmation:e.register.password,birthday:s.format("YYYY-MM-DDTHH:mm:ss.SSS")+"Z"}).then(function(t){200===t.status&&n.showMessage(e,"Success","You're successfully registered. Please enter your credentials in login screen.",function(){i()})})["catch"](function(t){var r=o.map(t.data.errors,function(e){return e.message});n.showMessage(e,"Error",r.join(", "))}):n.showMessage(e,"Error","Please enter correct date")}function c(){t.facebookAuth(e.hostName).then(function(r){t.storeAuthToken(e.storage,r),t.refreshStoragesFromNetwork(e.hostName,e.storage),a()})["catch"](function(){n.showMessage(e,"Error","Please try to register via Facebook later")})}function d(){i()}function u(){a()}e=angular.extend(e,{register:{email:"",password:"",month:{key:0,name:"January"},day:"",year:""},months:s,registerUser:l,facebookRegister:c,closeView:u,loginClick:d,message:{title:"123",description:"this is it",isVisible:!1,callback:function(){}}})}var s=[{key:0,name:"January"},{key:1,name:"February"},{key:2,name:"March"},{key:3,name:"April"},{key:4,name:"May"},{key:5,name:"June"},{key:6,name:"July"},{key:7,name:"August"},{key:8,name:"September"},{key:9,name:"October"},{key:10,name:"November"},{key:11,name:"December"}];return{restrict:"E",templateUrl:"components/register-form/register-form.html",link:i,transclude:!1,scope:{hostName:"@",storage:"=",onRegisterClose:"&",onLoginOpen:"&"}}}function showPlayer(e,t,r,n,o,i,s,a,l,c,d,u,m){function p(p,f,v){function _(){return!(!p.video.mature_content||u.isUnexpiredToken(p.storage.token))&&(p.storage.showMatureScreen=!0,p.screen.pause(),p.intermissionStopTimer&&(a.cancel(p.intermissionStopTimer),p.intermissionStopTimer=null),!0)}function b(e){if(!e)return[];var t=(e.tag_list||"").split(",");return r.map(t,function(e){return e.trim()})}function w(e){var t=p.sharingPath+"#/videos/"+p.video.id,r=(p.video.description_title||p.video.title)+"\n"+t,n={facebook:"https://www.facebook.com/dialog/share?"+("app_id="+p.facebookAppId+"&display=popup")+("&href="+encodeURIComponent(t))+("&redirect_uri="+encodeURIComponent(t)),google:"https://plus.google.com/share?url=",twitter:"https://twitter.com/home?status=",reddit:"https://www.reddit.com/submit?url=",email:"mailto:%20?subject="+encodeURIComponent(p.video.title)+"&body="+encodeURIComponent(r)};if("facebook"===e||"email"===e)window.location.href=n[e];else{var o=""+encodeURIComponent(t);window.location=n[e]+o}}function I(){p.carouselItem.classList.add("featured-carousel_content_item--playing"),p.carouselItemTitle=angular.element(p.carouselItem.querySelector(".featured-carousel_content_item_title"))[0],p.carouselItemTitle.classList.add("featured-carousel_content_item_title--playing")}function S(e){32!==e.charCode||e.target&&"INPUT"===e.target.nodeName||(Z(),j(!0),e.preventDefault())}function L(){return{start:0,value:0,options:{floor:0,ceil:500,hideLimitLabels:!0,onChange:function(){p.sliderModel.start>0&&(p.sliderModel.value=p.sliderModel.start,p.sliderModel.start=0),_()||(p.screen.currentTime=p.sliderModel.value)}}}}function T(){return{start:0,value:0,options:{floor:0,ceil:10,hideLimitLabels:!0,vertical:!0,onChange:function(){p.soundSliderModel.start>0&&(p.soundSliderModel.value=p.soundSliderModel.start,p.soundSliderModel.start=0),p.screen.volume=p.soundSliderModel.value/10}}}}function E(e,t){e&&e.stopPropagation(),ne(t)}function P(){var e=O();e?p.playNextVideo():p.replayVideo()}function N(){p.isIntermissionState=!0,q(),te(!0),p.intermissionCountdownValue=0,oe(!1);var e=O();p.playButtonImage=e?g:y,p.hasNextVideo=!!e,p.intermissionStopTimer=a(function(){p.intermissionCountdownValue++,p.intermissionCountdownValue>p.intermissionCountdownMax&&(a.cancel(p.intermissionStopTimer),p.intermissionStopTimer=null,P())},50),p.isPlaying=!1,p.showPlayerInside.classList.remove("featured-player--playing"),p.imageLayer.classList.remove("featured-player_hero-image-layer--playing"),p.bottomElements.classList.add("hidden-layer")}function k(e,t){e&&e.stopPropagation(),t&&(p.isIntermissionPaused=!1,p.intermissionStopTimer&&(a.cancel(p.intermissionStopTimer),p.intermissionStopTimer=null)),p.isIntermissionPaused?(p.intermissionStopTimer=a(function(){p.intermissionCountdownValue++,p.intermissionCountdownValue>p.intermissionCountdownMax&&(a.cancel(p.intermissionStopTimer),p.intermissionStopTimer=null,P())},50),p.isIntermissionPaused=!1):(p.intermissionStopTimer&&(a.cancel(p.intermissionStopTimer),p.intermissionStopTimer=null),p.isIntermissionPaused=!0)}function O(){if(p.video){var e=p.video.id,t=void 0,n=r.filter(p.videosList,function(e){return e.category_id===p.video.category_id}),o=r.findIndex(n,function(t){return t.id===e});return o+1<n.length&&(t=n[o+1]),t}}function A(e){e&&e.stopPropagation(),oe(!0),k(void 0,!0);var t=O();t?(p.screen.pause(),p.video=t,p.isIntermissionState=!1,te(!1),o(function(){c.go("play",{videoId:t.id,categoryId:p.categoryId})},500)):p.screen.pause()}function C(e){e&&e.stopPropagation(),oe(!0),k(void 0,!0);var t=R(p.video,p.videosList);t&&(p.screen.pause(),d.getElementFullscreenState()&&G(!0),p.video=t,p.isIntermissionState=!1,te(!1),o(function(){c.go("play",{videoId:t.id,categoryId:p.categoryId})},500))}function R(){if(p.video&&p.video.id){var e=p.video.id,t=void 0,n=r.filter(p.videosList,function(e){return e.category_id===p.video.category_id}),o=r.findIndex(n,function(t){return t.id===e});return o>0&&(t=n[o-1]),t}}function U(){event&&event.stopPropagation(),p.intermissionStopTimer&&(a.cancel(p.intermissionStopTimer),p.intermissionStopTimer=null),te(!1),p.isPlaying=!0,p.showPlayerInside.classList.add("show-player--playing"),p.imageLayer.classList.add("show-player_hero-image-layer--playing"),p.bottomElements.classList.remove("hidden-layer"),p.screen.currentTime=0,p.isIntermissionState=!1,p.isIntermissionPaused=!1,o(function(){p.screen.play(),_()},500)}function W(e){e&&e.stopPropagation(),d.shareVideo(p.video.id)}function F(e){var t=void 0;if(e)p.storage.favoritesItems.push(p.video.id),t=p.storage.token?u.setLiked(p.hostName,p.storage.token.access_token,p.video.id):Promise.resolve();else{var n=r.indexOf(p.storage.favoritesItems,p.video.id);n>=0&&p.storage.favoritesItems.splice(n,1),t=p.storage.token?u.deleteLiked(p.hostName,p.storage.token.access_token,p.video.id):Promise.resolve()}return t.then(function(e){return m.setItem(p.storage.storageFavoritesKey,p.storage.favoritesItems),e})}function D(e){e&&e.stopPropagation();var t=!p.video.favorites;re(t),F(t).then(function(){p.video.favorites=t})}function $(){p.video.isWatched=!0;var e=r.filter(p.videos,function(e){return e.id===p.video.id});e.isWatched=!0;var t=document.querySelector("#play-video-item-"+p.video.id);t&&(t.querySelector(".play-items_videos_item_overlay").classList.add("play-items_videos_item_overlay--watched"),t.querySelector(".play-items_videos_item_title").classList.add("play-items_videos_item_title--watched"),t.querySelector(".icon-play").classList.add("hidden-layer"),t.querySelector(".icon-replay").classList.remove("hidden-layer")),p.$apply(),d.setVideoWatched(p.storage,p.hostName,p.video.id)}function x(){var e=1500;p.isPlaying&&!p.isIntermissionState&&(p.waitingTimer&&o.cancel(p.waitingTimer),j(!1),p.buttonLayer.classList.add("player_buttons-layer--hover"),p.waitingTimer=o(function(){j(!0),p.buttonLayer.classList.remove("player_buttons-layer--hover")},e))}function M(e){var t=r.find(p.$root.categoriesList,function(t){return t.id==e});if(t){var o={movies:"movie",tv:"tv",games:"games",tech:"tech",lifestyle:"lifestyle"};return"show-player_buttons-layer_bottom-elements_titles_current_category icon-category"+n.trustAsHtml(o[String(t.canonical_title)])}return!1}function V(e){var r=t(e),n=t();return n.to(r)}function B(){p.isPlaying&&!p.isIntermissionState&&(j(!1),d.getElementFullscreenState()&&p.isIntermissionState?p.buttonLayer.classList.remove("show-player_buttons-layer--hover"):p.buttonLayer.classList.add("show-player_buttons-layer--hover"))}function q(){j(!0),p.buttonLayer.classList.remove("show-player_buttons-layer--hover")}function H(){p.soundSlider.classList.remove("hidden-layer")}function Y(){p.soundSlider.classList.add("hidden-layer")}function z(e){e&&e.stopPropagation(),p.screen.muted?(p.screen.muted=!1,p.soundButton.classList.add("icon-volume"),p.soundButton.classList.remove("icon-volumemute")):(p.screen.muted=!0,p.soundButton.classList.add("icon-volumemute"),p.soundButton.classList.remove("icon-volume"))}function G(e){return e&&e.stopPropagation(),s(function(e){d.toggleFullScreen(p).then(function(){e()})})}function j(e){if(!p.isIntermissionState){var t="undefined"!=typeof e?!e:p.controlsOverlayLayer.classList.contains("hidden-layer");o(function(){p.$broadcast("rzSliderForceRender")}),t?(Q(!0),J(p.screen.paused?!1:!0)):Q(!1)}}function Z(t){return t&&t.stopPropagation(),oe(!0),p.isIntermissionState?(p.isIntermissionState=!1,k(void 0,!0),void P()):(X(!0),o(function(){p.$broadcast("rzSliderForceRender")}),void(p.screen.paused?(p.screen.play(),e.info("start playing"),J(!0),p.$root.isInitLoad&&(p.$root.isInitLoad=!1),_()):(p.screen.pause(),e.info("set to pause"),J(!1))))}function K(e){return e?"add":"remove"}function J(e){}function X(e){f[0].classList[K(e)]("show-player--play-state"),p.controlsOverlayLayer.classList[K(!e)]("hidden-layer")}function Q(e){p.controlsOverlayLayer.classList[K(!e)]("hidden-layer"),p.buttonLayer.classList[K(e)]("show-player_buttons-layer--show-buttons")}function ee(e){p.descriptionLayer.classList[K(e)]("show-player_description-layer--fullscreen"),p.buttonLayer.classList[K(e)]("show-player_buttons-layer--fullscreen"),p.buttonLayer.classList[K(!e)]("show-player_buttons-layer--hover"),p.expandButton.classList[K(e)]("hidden-layer"),p.collapseButton.classList[K(!e)]("hidden-layer")}function te(e){if(e){var t=angular.element(f[0].querySelector("#featured-carousel-video-"+p.video.id))[0];t&&(p.carouselItemIntermissionLayer=angular.element(t.querySelector(".featured-carousel_content_item_intermission"))[0],p.carouselItemIntermissionImage=angular.element(t.querySelector(".featured-carousel_content_item_image"))[0],p.carouselItemPlay=angular.element(t.querySelector(".featured-carousel_content_item_overlay"))[0],p.carouselItemIntermissionLayer.classList[K(!1)]("hidden-layer"),p.carouselItemIntermissionImage.classList[K(!0)]("featured-carousel_content_item_image--intermission"),p.carouselItemPlay.classList[K(!0)]("hidden-layer"))}else r.each(angular.element(f[0].querySelectorAll(".featured-carousel_content_item")),function(e){angular.element(e.querySelector(".featured-carousel_content_item_intermission"))[0].classList[K(!0)]("hidden-layer"),angular.element(e.querySelector(".featured-carousel_content_item_image"))[0].classList[K(!1)]("featured-carousel_content_item_image--intermission"),angular.element(e.querySelector(".featured-carousel_content_item_overlay"))[0].classList[K(!1)]("hidden-layer")});p.imageLayer.classList[K(e)]("hidden-layer"),p.buttonLayer.classList.remove("player_buttons-layer--hover"),p.buttonLayer.classList[K(e)]("show-player_buttons-layer--intermission"),p.prevButton.classList[K(!e)]("hidden-layer"),p.nextButton.classList[K(!e)]("hidden-layer"),p.countDown.classList[K(!e)]("hidden-layer"),p.intermissionTitle.classList[K(!e)]("hidden-layer"),p.intermissionPause.classList[K(!e)]("hidden-layer"),p.playButton.classList[K(e)]("show-player_buttons-layer_center-elements_play-button--intermission"),p.controlsOverlayLayer.classList[K(e)]("hidden-layer"),p.imageNextLayer.classList[K(!e)]("hidden-layer"),p.videoLayer.classList[K(e)]("hidden-layer"),p.centerControlGroup.classList[K(e)]("featured-player_buttons-layer_center-elements_group--intermission"),J(!1)}function re(e){p.favoritesButton.classList[K(e)]("icon-favorites-filled"),p.favoritesButton.classList[K(!e)]("icon-favorites")}function ne(e){p.descriptionLayer.classList[K(!e)]("hidden-layer"),d.getElementFullscreenState()?p.buttonLayer.classList[K(!e)]("show-player_buttons-layer--fullscreen"):p.buttonLayer.classList[K(!1)]("show-player_buttons-layer--fullscreen"),p.controlsOverlayLayer.classList[K(e)]("hidden-layer"),e||J(p.screen.paused?!1:!0)}function oe(e){r.each(angular.element(document.querySelectorAll(".play-items_videos_item_title")),function(e){e.classList.remove("play-items_videos_item_title--playing")});var t=angular.element(document.querySelector("#play-video-item-"+p.video.id))[0];if(t){var n=angular.element(t.querySelector(".play-items_videos_item_title"))[0];n&&n.classList.add("play-items_videos_item_title--playing")}p.isPlaying=e,p.showPlayerInside.classList[K(e)]("show-player--playing"),p.imageLayer.classList[K(e)]("show-player_hero-image-layer--playing"),p.bottomElements.classList[K(!e)]("hidden-layer")}function ie(){p.lastActiveTime=new Date}function se(){var e=(new Date).getTime()-p.lastActiveTime.getTime();p.inactive=e>h}p=angular.extend(p,{isPlaying:!1,isIntermissionState:!1,isIntermissionPaused:!1,intermissionCountdownValue:0,intermissionCountdownMax:100,inactive:!1,lastActiveTime:new Date,screenList:angular.element(f[0].querySelector("div.video-layer video")),screen:angular.element(f[0].querySelector("div.video-layer video"))[0],sliderModel:new L,soundSliderModel:new T,showPlayer:angular.element(document.querySelector("show-player"))[0],showPlayerInside:angular.element(document.querySelector(".show-player__player"))[0],controlsOverlayLayer:angular.element(f[0].querySelector(".show-player_buttons-layer_bottom-elements_controls"))[0],topElementsLayer:angular.element(f[0].querySelector(".show-player_buttons-layer_top-elements"))[0],topElementsClose:angular.element(f[0].querySelector(".show-player_buttons-layer_top-elements_close-button"))[0],buttonLayer:angular.element(f[0].querySelectorAll(".show-player_buttons-layer"))[0],videoLayer:angular.element(f[0].querySelector("div.video-layer"))[0],imageLayer:angular.element(f[0].querySelector(".show-player_hero-image-layer"))[0],imageNextLayer:angular.element(f[0].querySelector("div.show-player_hero-image-layer-next"))[0],descriptionLayer:angular.element(f[0].querySelector("div.show-player_description-layer"))[0],playButton:angular.element(f[0].querySelector(".show-player_buttons-layer_center-elements_play-button"))[0],pauseButton:angular.element(f[0].querySelector(".show-player_buttons-layer_center-elements_pause-button"))[0],centerControlGroup:angular.element(f[0].querySelector(".show-player_buttons-layer_center-elements_group"))[0],favoritesButton:angular.element(f[0].querySelector(".show-player__favorite-button"))[0],prevButton:angular.element(f[0].querySelector(".show-player_buttons-layer_center-elements_prev"))[0],nextButton:angular.element(f[0].querySelector(".show-player_buttons-layer_center-elements_next"))[0],countDown:angular.element(f[0].querySelector(".show-player_buttons-layer_center-elements_group_controls_progress"))[0],intermissionTitle:angular.element(f[0].querySelector(".show-player_buttons-layer_center-elements_group_title"))[0],intermissionPause:angular.element(f[0].querySelector(".show-player_buttons-layer_center-elements_group_bottom"))[0],bottomElements:angular.element(f[0].querySelector(".show-player_buttons-layer_bottom-elements"))[0],slider:angular.element(f[0].querySelector(".show-player_buttons-layer_bottom-elements_controls_slider"))[0],expandButton:angular.element(f[0].querySelector(".show-player_buttons-layer_bottom-elements_controls_expand"))[0],collapseButton:angular.element(f[0].querySelector(".show-player_buttons-layer_bottom-elements_controls_collapse"))[0],soundButton:angular.element(f[0].querySelector(".show-player_buttons-layer_bottom-elements_controls_volume"))[0],soundSlider:angular.element(f[0].querySelector(".show-player_buttons-layer_bottom-elements_controls_volume-slider"))[0],togglePlayPause:Z,imageHover:B,imageBlur:q,onMouseMove:ie,playButtonImage:g,hasNextVideo:!0,tags:[],soundHover:H,soundBlur:Y,toggleFullScreen:G,toggleControlsVisibility:j,toggleDescription:E,setIntermission:N,pauseIntermissionToggle:k,isInIntermission:function(){return p.isIntermissionState},nextVideo:O(),playNextVideo:A,getNextVideo:O,playPreviousVideo:C,getPreviousVideo:R,replayVideo:U,shareVideo:W,toggleFavorites:D,setWatched:$,toggleMute:z,getTags:b,shareVideoItem:w,showControlsOnMove:x}),i.yOffset=150,d.addFullScreenWatcher(function(){var e=d.getElementFullscreenState();ee(e)}),p.screenList.bind("timeupdate",function(){p.timePassed=t().startOf("year").add(p.screen.currentTime,"s").format("m:ss"),p.duration=t().startOf("year").add(p.screen.duration,"s").format("m:ss"),p.sliderModel.value=p.screen.currentTime,p.sliderModel.options.ceil=p.screen.duration,p.$apply(),p.video.isWatched||p.screen.currentTime>.75*p.screen.duration&&$()}),p.screenList.bind("ended",function(){p.video.isWatched||$(),d.getElementFullscreenState()?G().then(function(){p.setIntermission()}):p.setIntermission()}),p.$watch("video",function(){p.storage.showMatureScreen||(p.video&&p.video.description&&(p.videoDescription=l("nl2br")(p.video.description),p.videoDescription=l("parseLinks")(p.videoDescription)),p.video&&p.video.streams&&(p.sources=p.video.streams.map(function(e){return{src:n.trustAsResourceUrl(e.link),type:"video/"+e.stream_type}}),p.iconTitle=p.video&&p.video.category_id?M(p.video.category_id):"",p.createdDate=p.video&&p.video.created_at?V(p.video.created_at):void 0,p.nextVideo=O(),p.isIntermissionPaused=!1,p.tags=b(p.video),re(p.video.favorites),o(function(){!p.showPlayer.classList.contains("hidden-layer")&&p.video.instantPlay&&(Z(),p.video.instantPlay=!1),r.each(angular.element(f[0].querySelectorAll(".featured-carousel_content_item")),function(e){e.classList.remove("featured-carousel_content_item--playing"),angular.element(e.querySelector(".featured-carousel_content_item_title"))[0].classList.remove("featured-carousel_content_item_title--playing")});var e=angular.element(f[0].querySelector("#featured-carousel-video-"+p.video.id))[0];e&&(p.carouselItem=e,I()),p.soundSliderModel.value=10*p.screen.volume}),_()))}),p.$watch("featuredItem",function(){p.featuredItem&&(p.video=p.featuredItem)}),p.$on("replayVideo",function(e,t){t.videoId==p.video.id&&U()}),window.document.addEventListener("keypress",S,!1),p.$on("$destroy",function(){window.document.removeEventListener("keypress",S,!1)});var ae=a(se,300);p.$on("$destroy",function(){a.cancel(ae),a.cancel(p.intermissionStopTimer)})}var g="images/iconVideoPlayIntermission.svg",y="images/iconVideoReplay.svg",h=2e3;return{restrict:"E",templateUrl:"components/show-player/showPlayer.html",link:p,transclude:!0,scope:{video:"=",videosList:"=",featuredList:"=",hostName:"@",sharingPath:"@",facebookAppId:"@",categoryId:"@",storage:"="}}}function topMenu(e,t,r,n,o,i,s,a,l){function c(r){function n(){e.go("home")}function i(t,n){t&&t.stopPropagation();var o=n.id,i=r.$parent.videos?r.$parent.videos:r.videosList;if(!n.empty){var s=l.filter(i,function(e){return e.category_id===Number(o)});s.length&&e.go("play",{videoId:s[0].id,categoryId:o})}}function s(){t.$broadcast("loginOpen")}function c(){t.$broadcast("registerOpen")}function u(){a.userLogout(r.storage)}function m(){o(function(){r.searchText.length>2?d(r.hostName,r.searchText).then(function(e){e.length?(l.each(e,function(e){e.iconName=a.getIconName(e.category_id)}),r.searchResult=e):r.searchResult=[]}):r.searchResult=[]},200)}function p(t){r.searchResult=[],r.searchText="",e.go("play",{videoId:t,categoryId:0})}function g(){var e=document.querySelector("left-side-menu .menu_container"),t=document.querySelector("left-side-menu .menu_container_outer"),r="menu_container--menu-visible",n="menu_container_outer--menu-visible";e.classList.contains(r)?(e.classList.remove(r),t.classList.remove(n)):(e.classList.add(r),t.classList.add(n))}r=angular.extend(r,{categoryList:void 0,searchText:"",searchResult:[],moveToHome:n,categoryClick:i,search:m,playFoundVideo:p,toggleSideMenu:g,login:s,register:c,logout:u,onShowAdvanced:function(){return r.showAdvanced}}),r.$watch("categories",function(e){e&&(r.categoryList=e)})}function d(e,t){return i(function(r,o){function i(e){s.info("searched videos found"),r(e.data.data)}function a(e){s.info("searched videos returned error with status "+e.status),o(e)}n({method:"GET",url:e+"/search",params:{search:t}}).then(i,a);
})}return{restrict:"E",templateUrl:"components/top-menu/top-menu.html",link:c,transclude:!1,scope:{categories:"=",hostName:"@",videosList:"=",storage:"=",showAdvanced:"="}}}function ContactCtrl(e,t){function r(){t.go("home")}e=angular.extend(e,{closeView:r})}function HomeCtrl(e,t,r,n,o,i){e=angular.extend(e,{featuredList:[],featuredItem:void 0}),r.getFeaturedList(e).then(r.getCategories).then(r.getVideos).then(r.updateCategories).then(r.updateVideos).then(function(r){t.featuredList=e.featuredList,t.videosList=r,e.featuredList&&e.featuredList.length&&(e.featuredItem=e.featuredList[0])}),e.userAuthorized&&n.refreshFavoritesFromNetwork(e.hostName,e.storage)}function ListCtrl(e,t,r,n,o,i,s){function a(){var t={seen:"seenItems",favorite:"favoritesItems",unseen:"unseenItems",skipped:"skippedItems"},n=e.storage[t[r.listType]];e.listItem=r.listType,e.videosList=s.filter(e.videosFullList,function(e){return s.some(n,function(t){return t===e.id})})}function l(t){e.listItem="listTag",e.videosList=s.filter(e.videosFullList,function(e){var r=(e.tag_list||"").split(",").map(function(e){return e.trim()});return s.some(r,function(e){return e===t})})}function c(){e=angular.extend(e,{categoriesList:n.categoriesList,listName:void 0,videosFullList:void 0,listItem:void 0,listType:["seen","unseen","favorite","skipped"]}),e.videosList&&e.videosList.length||(e.videosList=n.videosList),e.videosFullList=e.videosList,e.featuredList&&e.featuredList.length||(e.featuredList=n.featuredList),r.listType&&s.some(e.listType,function(e){return e===r.listType})?a():r.tagName?l(r.tagName):(console.error("Unknown list type ",r,scope),t.go("home"))}e.tagName=r.tagName,n.categoriesList&&n.categoriesList.length&&n.featuredList&&n.featuredList.length&&n.videosList&&n.videosList.length?c():i.getFeaturedList(e).then(i.getCategories).then(i.getVideos).then(i.updateCategories).then(function(){if(e.storage.userAuthorized)return o.refreshFavoritesFromNetwork(e.hostName,e.storage)}).then(function(){return i.updateVideos(e)}).then(c)}function PlayCtrl(e,t,r,n,o,i){function s(t,r){return t.id===e.videoItem.category_id?-1:r.id===e.videoItem.category_id?1:e.categoriesList.indexOf(t)-e.categoriesList.indexOf(r)}function a(){e=angular.extend(e,{featuredItem:t.featuredList&&t.featuredList?t.featuredList[0]:e.featuredList[0],videoItem:void 0,videoCategoryId:void 0,categoriesList:t.categoriesList,sortedCategoriesList:[],selectedCategory:void 0,videoCategory:void 0,videosFullList:void 0}),e.videosList&&e.videosList.length||(e.videosList=t.videosList),e.videosFullList=e.videosList,e.featuredList&&e.featuredList.length||(e.featuredList=t.featuredList),Number(r.videoId)&&!function(){var o=n.find(e.videosList,function(e){return e.id===Number(r.videoId)});e.videoCategory=n.filter(t.categoriesList,function(e){return e.id===o.category_id})[0],e.videoCategoryId=o.category_id,o.instantPlay=!0,e.videoItem=o}(),r.categoryId&&"0"!==r.categoryId&&(e.selectedCategory=n.filter(t.categoriesList,function(t){return t.id===e.videoCategoryId})[0],e.videosInCategory=n.filter(e.videosList,function(t){return t.category_id===e.videoCategoryId})),e.videoCategoryId?e.sortedCategoriesList=e.categoriesList.slice().sort(s):e.sortedCategoriesList=e.categoriesList}t.featuredList&&t.featuredList.length&&t.videosList&&t.videosList.length?a():o.getFeaturedList(e).then(o.getCategories).then(o.getVideos).then(o.updateCategories).then(function(){if(e.storage.userAuthorized)return i.refreshFavoritesFromNetwork(e.hostName,e.storage)}).then(function(){return o.updateVideos(e)}).then(a)}function LoginCtrl(e,t,r){function n(){t.wentFrom&&t.wentFrom.name?(r.go(t.wentFrom,t.wentFromParams),t.wentFrom=void 0,t.wentFromParams=void 0):r.go("home")}function o(){r.go("register")}function i(){r.go("reset")}e=angular.extend(e,{loginClose:n,registerOpen:o,resetPassword:i})}function PrivacyCtrl(e,t){function r(){t.go("register")}e=angular.extend(e,{closeView:r})}function ProfileCtrl(e,t,r,n){function o(){t.go("home")}function i(){e.pass.length?r.updatePasswordOnline(e.hostName,e.pass,e.storage.token.access_token).then(function(){n.showMessage(e,"Success","Password successfully updated",function(){t.go("home")})})["catch"](function(t){var r=_.map(t.data.errors,function(e){return e.message});n.showMessage(e,"Error",r.join(", "))}):n.showMessage(e,"Error","Please enter your new password")}e=angular.extend(e,{pass:"",message:{title:"123",description:"this is it",isVisible:!1,callback:function(){}},closeView:o,updatePassword:i})}function RegisterCtrl(e,t,r){function n(){r.wentFrom&&r.wentFrom.name?(t.go(r.wentFrom,r.wentFromParams),r.wentFrom=void 0,r.wentFromParams=void 0):t.go("home")}function o(){t.go("login")}e=angular.extend(e,{registerClose:n,loginOpen:o})}function ResetCtrl(e,t,r,n,o){function i(){t.wentFrom&&t.wentFrom.name?(r.go(t.wentFrom,t.wentFromParams),t.wentFrom=void 0,t.wentFromParams=void 0):r.go("home")}function s(){e.email.length?n.resetPassword(e.hostName,e.email).then(function(){o.showMessage(e,"Success","Check your email to reset password",function(){})})["catch"](function(t){var r=_.map(t.data.errors,function(e){return e.message});o.showMessage(e,"Error",r.join(", "))}):o.showMessage(e,"Error","Please enter your email")}e=angular.extend(e,{email:"",message:{title:"123",description:"this is it",isVisible:!1,callback:function(){}},closeView:i,resetPassword:s})}function resetPasswordCtrl(e,t,r,n,o){function i(){e.password===e.repeatPassword&&o.resetToken&&r.updatePassword(e.hostName,e.password,o.resetToken).then(function(){t.go("home")},function(t){var r=_.map(t.data.errors,function(e){return e.message});n.showMessage(e,"Error",r.join(", "))})}e.message={title:"",description:"",isVisible:!1,callback:function(){}},e=angular.extend(e,{password:"",repeatPassword:"",updatePassword:i})}function ShareCtrl(e,t,r,n,o,i){function s(){if(r.videoId){var o=n.filter(t.videosList,function(e){return e.id===Number(r.videoId)});o.length&&(e.video=o[0],e.shareLink=e.sharingPath+"#/videos/"+e.video.id)}}function a(t){var r=e.sharingPath+"#/videos/"+e.video.id,n={facebook:"https://www.facebook.com/dialog/share?"+("app_id="+e.facebookAppId+"&display=popup")+("&href="+encodeURIComponent(r))+("&redirect_uri="+encodeURIComponent(r)),google:"https://plus.google.com/share?url=",twitter:"https://twitter.com/home?status=",reddit:"https://www.reddit.com/submit?url="};if("facebook"!==t){var o=""+encodeURIComponent(r);window.location=n[t]+o}else window.location=n[t]}function l(){o.go("home")}e=angular.extend(e,{video:void 0,shareVideoItem:a,closeShare:l,shareLink:void 0}),t.videosList&&t.videosList.length?s():i.getVideos(e).then(i.updateVideos).then(function(){s()})}function TermsCtrl(e,t){function r(){t.go("register")}e=angular.extend(e,{closeView:r})}angular.module("app.helpers",[]),angular.module("app.controls",["ngSanitize"]),angular.module("app.wrappers",[]),angular.module("app.routerHelper",["ui.router","app.wrappers"]),angular.module("app.services",[]),angular.module("app.directives",["app.services","app.helpers"]),angular.module("templates",[]),angular.module("app",["app.services","app.controls","app.directives","app.routerHelper","app.wrappers","app.routes","ngSanitize","templates","rzModule","angular-svg-round-progress","ezfb","angular-perfect-scrollbar-2"]).controller("AppCtrl",AppCtrl).filter("nl2br",["$sce",function(e){return function(t){var r=(t+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2");return e.trustAsHtml(r)}}]).filter("parseLinks",["$sce",function(e){return function(t){var r=/\b((https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,n=(t+"").replace(r,"<a href='$1'>$1</a>");return e.trustAsHtml(n)}}]),AppCtrl.$inject=["$rootScope","$scope","routerHelper","routesList","$state","storageServ","userServ","$timeout","ezfb"],angular.module("app.services").factory("categoriesServ",categoriesServ),categoriesServ.$inject=["$http","$q","$log"],angular.module("app.services").service("playerServ",playerServ),playerServ.$inject=["$q","$state","$rootScope","categoriesServ","videoServ","storageServ","userServ","lodash"],angular.module("app.helpers").factory("RecursionHelper",["$compile",function(e){return{compile:function(t,r){angular.isFunction(r)&&(r={post:r});var n,o=t.contents().remove();return{pre:r&&r.pre?r.pre:null,post:function(t,i){n||(n=e(o)),n(t,function(e){i.append(e)}),r&&r.post&&r.post.apply(null,arguments)}}}}}]),angular.module("templates").run(["$templateCache",function(e){e.put("index_template.html",'<!DOCTYPE html>\r\n<html lang="en">\r\n<head>\r\n    <meta charset="UTF-8">\r\n    <meta name="cmsmagazine" content="f27806ede7b474033059ff5dffb97d37" />\r\n    <title>CIZO</title>\r\n    <link rel="icon" type="image/png" href="images/32x32.png" sizes="32x32">\r\n    <link rel="icon" type="image/png" href="images/16x16.png" sizes="16x16">\r\n    <link rel="shortcut icon" href="images/favicon.ico">\r\n    <link rel="stylesheet" href="all.min.css">\r\n</head>\r\n<body ng-controller="AppCtrl" ng-cloak ng-class="{\'app--no-scroll\': showLogin || showRegister}">\r\n\r\n<div ui-view ng-class="{\'app--blurred\': showLogin || showRegister}"></div>\r\n<login-form\r\n        class="ng-hide"\r\n        ng-show="showLogin"\r\n        host-name="{{ hostName }}"\r\n        storage="storage"\r\n        on-login-close="showLogin = false"\r\n        on-register-open="showLogin = false;showRegister = true"\r\n        on-reset-password="resetPassword()"\r\n></login-form>\r\n<register-form\r\n        class="ng-hide"\r\n        ng-show="showRegister"\r\n        host-name="{{ hostName }}"\r\n        storage="storage"\r\n        on-register-close="showRegister = false"\r\n        on-login-open="showRegister = false;showLogin = true"\r\n></register-form>\r\n\r\n<div class="mature-overlay" ng-show="checkMature()">\r\n    <div class="mature-overlay_window mature-window">\r\n        <span class="icon-close mature-window_icon" ng-click="closeMatureScreen()"></span>\r\n\r\n        <span class="mature-window_title">One more step</span>\r\n        <span class="mature-window_description">Due to nature of this content, please login to confirm your age.</span>\r\n\r\n        <button class="mature-window_sign" ng-click="linkToLogin()">login</button>\r\n        <button class="mature-window_cancel" ng-click="closeMatureScreen()">not now</button>\r\n    </div>\r\n</div>\r\n\r\n<script src="3d-party.min.js"></script>\r\n<script src="ng.min.js"></script>\r\n<!-- Google Analytics -->\r\n<script>\r\n    (function(i,s,o,g,r,a,m){i[\'GoogleAnalyticsObject\']=r;i[r]=i[r]||function(){\r\n                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\r\n            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\r\n    })(window,document,\'script\',\'//www.google-analytics.com/analytics.js\',\'ga\');\r\n\r\n    ga(\'create\', \'UA-XXXXX-Y\', \'auto\');\r\n    ga(\'send\', \'pageview\');\r\n</script>\r\n<!-- End Google Analytics -->\r\n<script>\r\n    angular.bootstrap(document, [\'app\']);\r\n</script>\r\n\r\n</body>\r\n</html>'),e.put("components/category-carousel/category-carousel.html",'<div class="category-carousel">\r\n    <div class="category-carousel__header">\r\n        <div class="category-carousel__title">\r\n            <span class="icon-category{{::getIconName(category)}} category-carousel__title-icon"></span>\r\n            <span class="category-carousel__title-name">{{::category.title}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="category-carousel__carousel">\r\n        <div class="category-carousel__arrow-button">\r\n            <div class="category-carousel__arrow-button-left icon-back" ng-click="movePrev()"></div>\r\n        </div>\r\n        <div class="category-carousel__content">\r\n            <div class="category-carousel__content-wrapper" ng-style="{\'margin-left\': itemsOffset}">\r\n                <div class="category-carousel-item"\r\n                     ng-class="{\'category-carousel-item--watched\': video.isWatched, \'category-carousel-item--playing\': video === selectedVideo}"\r\n                     ng-repeat="video in videosForCategory"\r\n                     ng-click="selectVideo(category, video)"\r\n                     ng-attr-id="{{\'category-carousel-video-\' + video.id}}"\r\n                >\r\n\r\n                    <div class="category-carousel-item__image" style="background-image: url(\'{{::video.hero_images.hero_image_link_thumb_banner}}\')"></div>\r\n                    <div class="category-carousel-item__watched-overlay ng-hide" ng-show="::video.isWatched">\r\n                        <div class="category-carousel-item__watched-overlay-icon">\r\n                            <span class="icon-replay category-carousel-item__intermission-button" ng-click="replayVideo(category, video)"></span>\r\n                        </div>\r\n                        <div class="category-carousel-item__watched-overlay-text">\r\n                            WATCHED\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="category-carousel-item__overlay">\r\n                        <span class="category-carousel-item__overlay-button icon-play"></span>\r\n                    </div>\r\n                    <div class="category-carousel-item__description">\r\n                        <div class="category-carousel-item__title">{{::video.title}}</div>\r\n                        <div class="category-carousel-item__subtitle">{{::video.subtitle}}</div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="category-carousel__arrow-button">\r\n            <div class="category-carousel__arrow-button-right icon-forward" ng-click="moveNext()"></div>\r\n        </div>\r\n    </div>\r\n</div>'),e.put("components/featured-carousel/featured-carousel.html",'<div class="featured-carousel">\r\n    <button class="featured-carousel_left icon-back"  ng-click="movePrev()"></button>\r\n    <div class="featured-carousel_content">\r\n        <div class="featured-carousel_content_wrapper" ng-style="{\'margin-left\': itemsOffset}">\r\n            <div class="featured-carousel_content_item"\r\n                 ng-repeat="featured in featuredList"\r\n                 ng-click="playFeatured(featured)"\r\n                 ng-attr-id="{{\'featured-carousel-video-\' + featured.id}}"\r\n            >\r\n                <div class="featured-carousel_content_item_image" style="background-image: url(\'{{::featured.hero_images.hero_image_link_thumb_banner}}\')"></div>\r\n                <div class="featured-carousel_content_item_overlay">\r\n                    <span class="featured-carousel_content_item_overlay_button icon-play"></span>\r\n                </div>\r\n\r\n\r\n\r\n                <div class="featured-carousel_content_item_label">Featured</div>\r\n                <div class="featured-carousel_content_item_intermission hidden-layer">\r\n                    <span class="icon-share featured-carousel_content_item_intermission_button"></span>\r\n                    <span class="icon-replay featured-carousel_content_item_intermission_button" ng-click="replay()"></span>\r\n                </div>\r\n                <div class="featured-carousel_content_item_title">{{::featured.title}}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <button class="featured-carousel_right icon-forward" ng-click="moveNext()"></button>\r\n</div>'),e.put("components/featured-player/featuredPlayer.html",'\r\n\r\n<div class="featured-player" video-id="{{video.id}}">\r\n    <div class="featured-player__filler"></div>\r\n    <top-menu categories="categoriesList" host-name="{{hostName}}" storage="storage" show-advanced="true"></top-menu>\r\n    <!-- video layer -->\r\n    <div class="video-layer featured-player_video-layer">\r\n        <video class="featured-player_video-layer_video" video-src="sources" preload=\'none\'></video>\r\n    </div>\r\n\r\n    <!-- next hero image layer -->\r\n    <div class="col-xs-12 no-padding hero-image-layer featured-player_hero-image-layer-next hidden-layer" style="background-image: url({{nextVideo.hero_images.hero_image_link}})">\r\n    </div>\r\n\r\n    <featured-carousel featured-list="featuredList" selected-video="featuredItem" on-replay="replayVideo()" storage="storage"></featured-carousel>\r\n</div>\r\n\r\n<!-- description layer-->\r\n<div class="col-xs-12 no-padding featured-player_description-layer hidden-layer">\r\n    <div class="featured-player_description-layer_container">\r\n        <div class="featured-player_description-layer_container_close-container">\r\n            <div class="featured-player_description-layer_container_close-container_button icon-close" ng-click="toggleDescription($event, false)"></div>\r\n        </div>\r\n\r\n        <div class="featured-player_description-layer_container_titles">\r\n            <div class="featured-player_description-layer_container_titles_category icon-category{{iconTitle}}"></div>\r\n\r\n            <div class="featured-player_description-layer_container_titles_labels">\r\n                        <span class="featured-player_description-layer_container_titles_labels_created">\r\n                            {{createdDate}}\r\n                        </span>\r\n                        <span class="featured-player_description-layer_container_titles_labels_title">\r\n                            {{video.title}}\r\n                        </span>\r\n            </div>\r\n        </div>\r\n        <div class="featured-player_description-layer_container_text" ng-bind-html="videoDescription">\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n<!-- buttons layer-->\r\n<div class="featured-player_buttons-layer"\r\n     ng-mouseenter="imageHover()"\r\n     ng-mouseleave="imageBlur()"\r\n     ng-click="togglePlayPause()"\r\n     ng-dblclick="toggleFullScreen()"\r\n     ng-mousemove="showControlsOnMove()"\r\n>\r\n    <!-- top buttons-->\r\n    <div class="featured-player_buttons-layer_top-elements">\r\n        <div>\r\n\r\n        </div>\r\n\r\n\r\n        <div class="featured-player_buttons-layer_top-elements_rightside hidden-layer">\r\n            <span class="icon-favorites featured-player_buttons-layer_top-elements_rightside_buttons featured-player_buttons-layer_top-elements_rightside_buttons_favorites"\r\n                  ng-click="toggleFavorites($event)"  >\r\n                <i class="icon-favorites__onhover">\r\n                    <img src="images/iconFavoritesFilled.svg" alt="">\r\n                </i>\r\n            </span>\r\n            <span class="icon-info featured-player_buttons-layer_top-elements_rightside_buttons" ng-click="toggleDescription($event, true)"></span>\r\n            <span class="icon-share featured-player_buttons-layer_top-elements_rightside_buttons" ng-click="shareVideo($event)"></span>\r\n        </div>\r\n    </div>\r\n    <!-- center elements-->\r\n    <div class="featured-player_buttons-layer_center-elements stop-selection">\r\n\r\n        <div class="featured-player_buttons-layer_center-elements_group">\r\n            <div class="featured-player_buttons-layer_center-elements_group_title hidden-layer" ng-show="getNextVideo()">\r\n                Up next\r\n                <div class="featured-player_buttons-layer_center-elements_group_title_caption">{{nextVideo.title}}</div>\r\n            </div>\r\n            <div class="featured-player_buttons-layer_center-elements_group_controls">\r\n                <div class="featured-player_buttons-layer_center-elements_prev-next-wrapper">\r\n                    <span class="icon-back featured-player_buttons-layer_center-elements_prev hidden-layer" ng-click="playPreviousVideo($event)"  ng-show="getPreviousVideo()"></span>\r\n                </div>\r\n\r\n                <div class="featured-player_buttons-layer_center-elements_group_controls_wrapper">\r\n                    <div  class="featured-player_buttons-layer_center-elements_group_controls_progress hidden-layer"\r\n                          round-progress\r\n                          max="intermissionCountdownMax"\r\n                          current="intermissionCountdownValue"\r\n                          color="url(#progress-gradient)"\r\n                          bgcolor="rgba(255, 255, 255, 0.4)"\r\n                          stroke="20"\r\n                          semi="false"\r\n                          round="100"\r\n                          rounded="false"\r\n                          clockwise="true"\r\n                          responsive="false"\r\n                          duration="800"\r\n                          animation="easeInOutQuart"\r\n                          animation-delay="0">\r\n                        <svg>\r\n                            <linearGradient id="progress-gradient" x1="0" x2="0" y1="0" y2="1">\r\n                                <stop offset="5%"  stop-color="#24abbc"></stop>\r\n                                <stop offset="95%" stop-color="#3bfcec"></stop>\r\n                            </linearGradient>\r\n                        </svg>\r\n                    </div>\r\n                    <div class="featured-player_buttons-layer_center-elements_group_controls_wrapper-play-pause">\r\n                        <div class="featured-player_buttons-layer_center-elements_play-button" ng-click="togglePlayPause($event)"\r\n                             ng-hide="isInIntermission()">\r\n                            <img src="images/iconVideoPlay.svg" class="featured-player_buttons-layer_center-elements_play-button--onhoverout">\r\n                            <img src="images/iconVidPlayHover.svg" class="featured-player_buttons-layer_center-elements_play-button--onhover">\r\n                        </div>\r\n                        <img src="images/iconVideoPlayIntermission.svg" ng-click="togglePlayPause($event)"\r\n                             class="featured-player_buttons-layer_center-elements_play-button"\r\n                             ng-show="isInIntermission()">\r\n                        <img src="images/iconVideoPause.svg" ng-click="togglePlayPause($event)" class="featured-player_buttons-layer_center-elements_pause-button hidden-layer">\r\n                    </div>\r\n\r\n                </div>\r\n                <div class="featured-player_buttons-layer_center-elements_prev-next-wrapper">\r\n                    <span class="icon-forward featured-player_buttons-layer_center-elements_next hidden-layer" ng-click="playNextVideo($event)" ng-show="getNextVideo()"></span>\r\n                </div>\r\n\r\n            </div>\r\n            <div class="featured-player_buttons-layer_center-elements_group_bottom hidden-layer">\r\n                <span class="featured-player_buttons-layer_center-elements_pause-intermission" ng-click="pauseIntermissionToggle($event)">{{isIntermissionPaused ? \'Continue\' : \'Pause\'}}</span>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n    <!-- bottom elements-->\r\n    <div class="featured-player_buttons-layer_bottom-elements hidden-layer">\r\n        <div class="featured-player_buttons-layer_bottom-elements_titles featured-player_buttons-layer_bottom-elements_titles--hero-image">\r\n            <div class="featured-player_buttons-layer_bottom-elements_titles_current">\r\n                <div ng-class="iconTitle"></div>\r\n\r\n                <div class="featured-player_buttons-layer_bottom-elements_titles_current_title">\r\n                            <span class="featured-player_buttons-layer_bottom-elements_titles_current_title_created">\r\n                                {{createdDate}}\r\n                            </span>\r\n                            <span class="featured-player_buttons-layer_bottom-elements_titles_current_title">\r\n                                {{video.title}}\r\n                            </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="featured-player_buttons-layer_bottom-elements_controls">\r\n\r\n            <div class="featured-player_buttons-layer_bottom-elements_controls_time-position">{{timePassed}}</div>\r\n\r\n            <div class="featured-player_buttons-layer_bottom-elements_controls_slider">\r\n                <rzslider ng-click="$event.stopPropagation()"\r\n                          rz-slider-high="sliderModel.value"\r\n                          rz-slider-model="sliderModel.start"\r\n                          rz-slider-options="sliderModel.options"\r\n                >\r\n                </rzslider>\r\n            </div>\r\n\r\n            <div class="featured-player_buttons-layer_bottom-elements_controls_duration">{{duration}}</div>\r\n\r\n            <div class="featured-player_buttons-layer_bottom-elements_controls_volume-wrapper" ng-mouseenter="soundHover()"\r\n                 ng-mouseleave="soundBlur()">\r\n                <rzslider ng-click="$event.stopPropagation()"\r\n                          rz-slider-high="soundSliderModel.value"\r\n                          rz-slider-model="soundSliderModel.start"\r\n                          rz-slider-options="soundSliderModel.options"\r\n                          class="featured-player_buttons-layer_bottom-elements_controls_volume-slider hidden-layer"\r\n                >\r\n                </rzslider>\r\n                <div class="icon-volume featured-player_buttons-layer_bottom-elements_controls_volume" ng-click="toggleMute($event)"></div>\r\n            </div>\r\n\r\n\r\n            <span class="icon-expand featured-player_buttons-layer_bottom-elements_controls_expand" ng-click="toggleFullScreen($event)"></span>\r\n            <span class="icon-collapse featured-player_buttons-layer_bottom-elements_controls_collapse hidden-layer" ng-click="toggleFullScreen($event)"></span>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- hero image layer -->\r\n<img class="featured-player_hero-image-layer image-layer" ng-src="{{video.hero_images.hero_image_link}}">'),e.put("components/category-items/category-items.html",'<div class="category-items" id="category-videos-{{::categoryId}}">\r\n    <div class="category-items_title">\r\n        <span class="icon-category{{::iconName}} category-items_title_icon"></span>\r\n        <span class="category-items_title_name">{{::title}}</span>\r\n    </div>\r\n\r\n    <div class="category-items_videos">\r\n\r\n        <div class="category-items_videos_wrapper">\r\n            <div class="category-items_videos_item"\r\n                 ng-repeat="video in videosList"\r\n                 style="background-image: url(\'{{video.hero_images.hero_image_link_thumb_banner}}\')"\r\n                 ng-click="moveToPlayPage(video)"\r\n                 ng-attr-id="category-play-item-{{video.id}}"\r\n            >\r\n                <div class="category-items_videos_item_overlay">\r\n                    <span class="category-items_videos_item_overlay_button icon-play"></span>\r\n                    <span class="category-items_videos_item_overlay_button icon-replay hidden-layer"></span>\r\n                </div>\r\n\r\n                <div class="category-items_videos_item_title">\r\n                    <span class="category-items_videos_item_title_caption">{{::video.title}}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="category-items_videos_item-view-all"\r\n                 ng-show="manyItems"\r\n                 ng-click="moveToCategory(categoryId)"\r\n                 style="background: url(\'images/bgTbnVideo.svg\')"\r\n            >\r\n                <span class="category-items_videos_item-view-all_title">View all</span>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>'),e.put("components/featured-section/featured-section.html",'<div class="featured-section" video-id="{{video.id}}">\r\n    <div class="featured-section__filler"></div>\r\n    <top-menu categories="categoriesList" host-name="{{hostName}}" storage="storage" show-advanced="true"></top-menu>\r\n\r\n    <img class="featured-section__hero-image"\r\n         ng-src="{{featuredVideo.hero_images.hero_image_link}}"\r\n         ng-class="{\'featured-section__hero-image--selected\': featuredVideo === video}"\r\n         ng-repeat="featuredVideo in featuredListCut"\r\n    >\r\n    <div class="featured-section__controls">\r\n        <div class="featured-section__scroll-button icon-back" ng-click="scroll(-1)"></div>\r\n        <div class="featured-section__play-button" ng-click="playVideo(video)">\r\n            <img src="images/iconVideoPlay.svg" class="featured-section__play-button-image">\r\n        </div>\r\n        <div class="featured-section__scroll-button icon-forward" ng-click="scroll(1)"></div>\r\n    </div>\r\n    <div class="featured-section__description">\r\n        <div class="featured-section__category-icon">\r\n            <span class="icon-category{{getIconName(category)}} featured-section__title-icon"></span>\r\n        </div>\r\n        <div class="featured-section__category-description">\r\n            <div class="featured-section__title">\r\n                {{video.title}}\r\n            </div>\r\n            <div class="featured-section__subtitle">\r\n                {{video.subtitle}}\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="featured-section__dots">\r\n        <div class="featured-section__dot" ng-class="{\'featured-section__dot--active\': featuredVideo === video}" ng-repeat="featuredVideo in featuredListCut" ng-click="selectVideo(featuredVideo)"><div class="featured-section__dot-inner"></div></div>\r\n    </div>\r\n    <div class="featured-section__preloaders">\r\n        <!-- having link in body is allowed by he current version of WHATWG’s HTML (2016-07-28),\r\n            and the current draft of W3C’s HTML 5.2 (2016-07-04),\r\n            see link: https://html.spec.whatwg.org/multipage/semantics.html#body-ok\r\n        -->\r\n        <link rel="prefetch" ng-href="{{video.hero_images.hero_image_link}}" ng-repeat="video in featuredListCut">\r\n    </div>\r\n</div>\r\n\r\n'),e.put("components/left-side-menu/left-side-menu.html",'<div class="menu">\r\n    <div class="menu_container">\r\n        <div class="menu_item" ui-sref="home">\r\n            <span class="menu_item_icon icon-home"></span>\r\n            <span class="menu_item_title">Home</span>\r\n            <span class="menu_item_counter"></span>\r\n            <span class="menu_item_next icon-forward"></span>\r\n        </div>\r\n        <div class="menu_item"  ui-sref="list({listType: \'unseen\'})">\r\n            <span class="menu_item_icon icon-unseen"></span>\r\n            <span class="menu_item_title">Unseen</span>\r\n            <span class="menu_item_counter">{{storage.unseenItems.length ? storage.unseenItems.length : \'\'}}</span>\r\n            <span class="menu_item_next icon-forward"></span>\r\n        </div>\r\n        <div class="menu_item"  ui-sref="list({listType: \'skipped\'})">\r\n            <span class="menu_item_icon icon-skipped"></span>\r\n            <span class="menu_item_title">Skipped</span>\r\n            <span class="menu_item_counter">{{storage.skippedItems.length ? storage.skippedItems.length : \'\'}}</span>\r\n            <span class="menu_item_next icon-forward"></span>\r\n        </div>\r\n        <div class="menu_item"  ui-sref="list({listType: \'seen\'})">\r\n            <span class="menu_item_icon icon-seen"></span>\r\n            <span class="menu_item_title">Seen</span>\r\n            <span class="menu_item_counter">{{storage.seenItems.length ? storage.seenItems.length : \'\'}}</span>\r\n            <span class="menu_item_next icon-forward"></span>\r\n        </div>\r\n        <div class="menu_item"  ui-sref="list({listType: \'favorite\'})">\r\n            <span class="menu_item_icon icon-favorites"></span>\r\n            <span class="menu_item_title">Favorites</span>\r\n            <span class="menu_item_counter">{{storage.favoritesItems.length ? storage.favoritesItems.length : \'\'}}</span>\r\n            <span class="menu_item_next icon-forward"></span>\r\n        </div>\r\n        <div class="menu_item" ui-sref="profile" ng-show="isUserAuthorized()">\r\n            <span class="menu_item_icon icon-profile"></span>\r\n            <span class="menu_item_title">My Profile</span>\r\n            <span class="menu_item_counter"></span>\r\n            <span class="menu_item_next icon-forward"></span>\r\n        </div>\r\n        <div class="menu_item" ui-sref="contact">\r\n            <span class="menu_item_icon icon-email"></span>\r\n            <span class="menu_item_title">Contact</span>\r\n            <span class="menu_item_counter"></span>\r\n            <span class="menu_item_next icon-forward"></span>\r\n        </div>\r\n    </div>\r\n    <div class="menu_container_outer" ng-click="toggleSideMenu()"></div>\r\n\r\n</div>'),
e.put("components/list-items/list-items.html",'<div class="list-items" id="category-videos-{{categoryId}}" ng-show="isListShown">\r\n    <div class="list-items_title">\r\n        <span class="{{::message.iconName}} list-items_title_icon" ng-if="::message.iconName"></span>\r\n        <span class="list-items_title_name">{{::message.title}}</span>\r\n    </div>\r\n\r\n    <div class="list-items_videos">\r\n        <div class="list-items_videos_wrapper">\r\n            <div class="category-carousel-item category-carousel-item--in-long-list"\r\n                 ng-class="{\'category-carousel-item--watched\': video.isWatched, \'category-carousel-item--playing\': video === selectedVideo}"\r\n                 ng-repeat="video in videosList"\r\n                 ng-click="moveToPlayPage(video)"\r\n                 ng-attr-id="{{\'category-carousel-video-\' + video.id}}"\r\n            >\r\n\r\n                <div class="category-carousel-item__image" style="background-image: url(\'{{::video.hero_images.hero_image_link_thumb_banner}}\')"></div>\r\n                <div class="category-carousel-item__watched-overlay ng-hide" ng-show="::video.isWatched">\r\n                    <div class="category-carousel-item__watched-overlay-icon">\r\n                        <span class="icon-replay category-carousel-item__intermission-button" ng-click="moveToPlayPage(video)"></span>\r\n                    </div>\r\n                    <div class="category-carousel-item__watched-overlay-text">\r\n                        WATCHED\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="category-carousel-item__overlay">\r\n                    <span class="category-carousel-item__overlay-button icon-play"></span>\r\n                </div>\r\n                <div class="category-carousel-item__description">\r\n                    <div class="category-carousel-item__title">{{::video.title}}</div>\r\n                    <div class="category-carousel-item__subtitle">{{::video.subtitle}}</div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n<div class="list-items_no-items-wrapper ng-hide" ng-hide="isListShown || !isListLoaded || !message.noItemsTitle">\r\n    <div class="list-items_no-items">\r\n        <span class="list-items_no-items_icon {{::message.iconName}}"></span>\r\n        <div class="list-items_no-items_title">{{::message.noItemsTitle}}</div>\r\n        <div class="list-items_no-items_additional">{{::message.noItemsDescription}}</div>\r\n        <div class="list-items_no-items_confirm" ng-click="moveToHomePage()">Ok</div>\r\n    </div>\r\n</div>'),e.put("components/login-form/login-form.html",'<form class="login-form-wrapper">\r\n\r\n    <div class="login-form">\r\n        <button class="login-form_facebook-login" ng-click="facebookLogin()">\r\n            <span class="login-form_facebook_login-icon">\r\n                <svg \n xmlns="http://www.w3.org/2000/svg"\n xmlns:xlink="http://www.w3.org/1999/xlink"\n viewBox="0 0 90 90"\n>\n<path fill-rule="evenodd"  fill="rgb(255, 255, 255)"\n d="M82.048,-0.000 L7.952,-0.000 C3.560,-0.000 -0.000,3.560 -0.000,7.952 L-0.000,82.048 C-0.000,86.440 3.560,90.000 7.952,90.000 L48.072,90.000 L48.072,55.148 L36.343,55.148 L36.343,41.565 L48.072,41.565 L48.072,31.548 C48.072,19.923 55.171,13.593 65.542,13.593 C70.509,13.593 74.779,13.963 76.023,14.129 L76.023,26.277 L68.830,26.280 C63.190,26.280 62.099,28.960 62.099,32.893 L62.099,41.565 L75.549,41.565 L73.797,55.148 L62.099,55.148 L62.099,90.000 L82.048,90.000 C86.440,90.000 90.000,86.440 90.000,82.048 L90.000,7.952 C90.000,3.560 86.440,-0.000 82.048,-0.000 Z"/>\n</svg>\r\n            </span>\r\n            <span class="login-form_facebook_login-text">\r\n                Login with Facebook\r\n            </span>\r\n        </button>\r\n\r\n        <div class="login-form_title_wrapper">\r\n            <div class="login-form_title_decoration"></div>\r\n            <span class="login-form_title">or with your email</span>\r\n            <div class="login-form_title_decoration"></div>\r\n        </div>\r\n\r\n\r\n        <input ng-model="login.email" class="login-form_input" placeholder="Email Address" type="email" ng-keyup="changeFocusOnEnter($event)">\r\n        <input ng-model="login.password" class="login-form_input login-form_input--pass" placeholder="Password" type="password" ng-keyup="loginOnEnter($event)">\r\n\r\n        <button class="login-form_login" ng-click="processLogin()">Login</button>\r\n\r\n        <div class="login-form_forgot-password"  ng-click="resetPasswordClick()">Forgot Password?</div>\r\n    </div>\r\n\r\n    <div class="login-form_want-account">\r\n        Want an account? <span class="login-form_want-account_login" ng-click="registerClick()">Sign Up</span>\r\n    </div>\r\n\r\n    <div class="icon-close login-form_close" ng-click="closeView()"></div>\r\n\r\n\r\n</form>\r\n\r\n<message-overlay params="message" class="register-form"></message-overlay>'),e.put("components/message-overlay/message-overlay.html",'<div class="message-overlay ng-hide ng-cloak" ng-show="params.isVisible">\r\n    <div class="message-overlay_group">\r\n        <span class="message-overlay_group_title">{{params.title}}</span>\r\n\r\n        <span class="message-overlay_group_description">{{params.description}}</span>\r\n\r\n        <button class="message-overlay_group_confirm" ng-click="closeView()">OK</button>\r\n    </div>\r\n</div>'),e.put("components/register-form/register-form.html",'<form class="register-form-wrapper">\r\n    <div class="register-form">\r\n        <button class="register-form_facebook-login" ng-click="facebookRegister()">\r\n            <span class="register-form_facebook_login-icon">\r\n                <svg \n xmlns="http://www.w3.org/2000/svg"\n xmlns:xlink="http://www.w3.org/1999/xlink"\n viewBox="0 0 90 90"\n>\n<path fill-rule="evenodd"  fill="rgb(255, 255, 255)"\n d="M82.048,-0.000 L7.952,-0.000 C3.560,-0.000 -0.000,3.560 -0.000,7.952 L-0.000,82.048 C-0.000,86.440 3.560,90.000 7.952,90.000 L48.072,90.000 L48.072,55.148 L36.343,55.148 L36.343,41.565 L48.072,41.565 L48.072,31.548 C48.072,19.923 55.171,13.593 65.542,13.593 C70.509,13.593 74.779,13.963 76.023,14.129 L76.023,26.277 L68.830,26.280 C63.190,26.280 62.099,28.960 62.099,32.893 L62.099,41.565 L75.549,41.565 L73.797,55.148 L62.099,55.148 L62.099,90.000 L82.048,90.000 C86.440,90.000 90.000,86.440 90.000,82.048 L90.000,7.952 C90.000,3.560 86.440,-0.000 82.048,-0.000 Z"/>\n</svg>\r\n            </span>\r\n            <span class="register-form_facebook_login-text">\r\n                Continue with Facebook\r\n            </span>\r\n        </button>\r\n\r\n        <div class="register-form_title_wrapper">\r\n            <div class="register-form_title_decoration"></div>\r\n            <span class="register-form_title">or with your email</span>\r\n            <div class="register-form_title_decoration"></div>\r\n        </div>\r\n\r\n        <input ng-model="register.email" class="register-form_input" placeholder="Email Address" type="email">\r\n        <input ng-model="register.password" class="register-form_input" placeholder="Password" type="password">\r\n        <div class="register-form_input_date-wrapper">\r\n            <select name="month"\r\n                    ng-model="register.month"\r\n                    class="register-form_input_date register-form_input_date--month"\r\n                    ng-options="month as month.name for month in months track by month.key"\r\n            >\r\n            </select>\r\n            <div class="register-form_arrow-down">&#711;</div>\r\n            <input ng-model="register.day" class="register-form_input_date register-form_input_date--day" placeholder="Day">\r\n            <input ng-model="register.year" class="register-form_input_date register-form_input_date--year" placeholder="Year">\r\n        </div>\r\n\r\n        <div class="register-form_description">\r\n            By clicking on Sign Up, you agree to <br>\r\n            CIZO\'s <span ui-sref="terms" ng-click="closeView()" class="register-form_terms">Terms of Use</span> and\r\n            <span ui-sref="privacy" ng-click="closeView()" class="register-form_terms">Privacy Notice</span>\r\n        </div>\r\n\r\n        <button class="register-form_sign-up" ng-click="registerUser()">Sign up</button>\r\n\r\n    </div>\r\n\r\n    <div class="register-form_have-account">\r\n        Already have an account? <span class="register-form_have-account_login" ng-click="loginClick()">Login</span>\r\n    </div>\r\n\r\n    <div class="icon-close register-form_close" ng-click="closeView()"></div>\r\n</form>\r\n\r\n\r\n<message-overlay params="message" class="register-form"></message-overlay>'),e.put("components/page-footer/page-footer.html",'<div class="page-footer">\r\n    <div class="page-footer__badges">\r\n        <a href="https://itunes.apple.com/us/app/cizo-preview-your-future/id1091417427?ls=1&mt=8"\r\n           class="page-footer__link"><img src="images/downloadAppStore.svg" alt="Download on AppStore" class="page-footer__icon"></a>\r\n    </div>\r\n    <div class="page-footer__links">\r\n        <span class="page-footer__text">&copy; 2016 CIZO, Inc. All rights reserved.</span>\r\n        <span ui-sref="privacy" class="page-footer__link">Privacy Notice</span>\r\n        <span ui-sref="terms" class="page-footer__link">Terms of Use</span>\r\n        <a href="mailto:contact@cizo.com" class="page-footer__link">Contact</a>\r\n        <a href="mailto:careers@cizo.com" class="page-footer__link">Careers</a>\r\n    </div>\r\n</div>'),e.put("components/play-items/playItems.html",'<div class="play-items" id="category-videos-{{categoryId}}">\r\n    <div class="play-items_title">\r\n        <span class="icon-category{{iconName}} play-items_title_icon"></span>\r\n        <span class="play-items_title_name">{{title}}</span>\r\n    </div>\r\n\r\n    <div class="play-items_videos">\r\n        <div class="play-items_videos_wrapper">\r\n            <div class="play-items_videos_item"\r\n                 ng-repeat="video in videosList"\r\n                 style="background-image: url(\'{{video.hero_images.hero_image_link_thumb_banner}}\')"\r\n                 ng-click="moveToPlayPage(video)"\r\n                 ng-attr-id="play-video-item-{{video.id}}"\r\n            >\r\n                <div class="play-items_videos_item_overlay">\r\n                    <span class="play-items_videos_item_overlay_button icon-play"></span>\r\n                    <span class="play-items_videos_item_overlay_button icon-replay"></span>\r\n                </div>\r\n                <div class="play-items_videos_item_title">\r\n                    <span class="play-items_videos_item_title_caption">{{::video.title}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>'),e.put("components/show-player/showPlayer.html",'<div class="show-player__container">\r\n    <div class="show-player__player"\r\n         video-id="{{video.id}}"\r\n         ng-class="{\'show-player__player--inactive\': inactive}"\r\n         ng-mousemove="onMouseMove()"\r\n    >\r\n        <!-- video layer -->\r\n        <div class="video-layer show-player_video-layer">\r\n            <video class="show-player_video-layer_video" video-src="sources" preload=\'auto\'></video>\r\n        </div>\r\n\r\n        <!-- next hero image layer -->\r\n        <div class="col-xs-12 no-padding hero-image-layer show-player_hero-image-layer-next hidden-layer" style="background-image: url({{nextVideo.hero_images.hero_image_link}})">\r\n        </div>\r\n\r\n        <!-- description layer-->\r\n        <div class="col-xs-12 no-padding show-player_description-layer hidden-layer">\r\n            <div class="show-player_description-layer_container">\r\n                <div class="show-player_description-layer_container_close-container">\r\n                    <div class="show-player_description-layer_container_close-container_button icon-close" ng-click=" toggleDescription($event, false)"></div>\r\n                </div>\r\n\r\n                <div class="show-player_description-layer_container_titles">\r\n                    <div class="show-player_description-layer_container_titles_category icon-category{{iconTitle}}"></div>\r\n\r\n                    <div class="show-player_description-layer_container_titles_labels">\r\n                        <span class="show-player_description-layer_container_titles_labels_created">\r\n                            {{createdDate}}\r\n                        </span>\r\n                        <span class="show-player_description-layer_container_titles_labels_title">\r\n                            {{video.title}}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div class="show-player_description-layer_container_text" ng-bind-html="videoDescription">\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n\r\n        <!-- buttons layer-->\r\n        <div class="show-player_buttons-layer"\r\n             ng-mouseenter="imageHover()"\r\n             ng-mouseleave="imageBlur()"\r\n             ng-click="togglePlayPause()"\r\n             ng-dblclick="toggleFullScreen()"\r\n             ng-mousemove="showControlsOnMove()"\r\n             ng-class="{\'show-player_buttons-layer--inactive\': inactive}"\r\n        >\r\n            <!-- center elements-->\r\n            <div class="show-player_buttons-layer_center-elements stop-selection">\r\n\r\n                <div class="show-player_buttons-layer_center-elements_group">\r\n                    <div class="show-player_buttons-layer_center-elements_group_title hidden-layer" ng-show="getNextVideo()">\r\n                        Up next\r\n                        <div class="show-player_buttons-layer_center-elements_group_title_caption">\r\n                            {{nextVideo.title}}\r\n                            <span class="show-player_buttons-layer_center-elements_group_title_subtitle">{{nextVideo.subtitle}}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div class="show-player_buttons-layer_center-elements_group_controls">\r\n                        <div class="show-player_buttons-layer_center-elements_prev-next-wrapper">\r\n                            <span class="icon-back show-player_buttons-layer_center-elements_prev hidden-layer" ng-click="playPreviousVideo($event)"  ng-show="getPreviousVideo()"></span>\r\n                        </div>\r\n\r\n                        <div class="show-player_buttons-layer_center-elements_group_controls_wrapper">\r\n                            <div  class="show-player_buttons-layer_center-elements_group_controls_progress hidden-layer"\r\n                                  round-progress\r\n                                  max="intermissionCountdownMax"\r\n                                  current="intermissionCountdownValue"\r\n                                  color="url(#progress-gradient)"\r\n                                  bgcolor="rgba(255, 255, 255, 0.4)"\r\n                                  stroke="20"\r\n                                  semi="false"\r\n                                  round="100"\r\n                                  rounded="false"\r\n                                  clockwise="true"\r\n                                  responsive="false"\r\n                                  duration="800"\r\n                                  animation="easeInOutQuart"\r\n                                  animation-delay="0">\r\n                                <svg>\r\n                                    <linearGradient id="progress-gradient" x1="0" x2="0" y1="0" y2="1">\r\n                                        <stop offset="5%"  stop-color="#24abbc"></stop>\r\n                                        <stop offset="95%" stop-color="#3bfcec"></stop>\r\n                                    </linearGradient>\r\n                                </svg>\r\n                            </div>\r\n                            <div class="show-player_buttons-layer_center-elements_group_controls_wrapper-play-pause">\r\n                                <div class="show-player_buttons-layer_center-elements_play-button hidden-layer" ng-click="togglePlayPause($event)"\r\n                                     ng-hide="isInIntermission()">\r\n                                    <img src="images/iconVideoPlay.svg" class="featured-player_buttons-layer_center-elements_play-button--onhoverout">\r\n                                    <img src="images/iconVidPlayHover.svg" class="featured-player_buttons-layer_center-elements_play-button--onhover">\r\n                                </div>\r\n                                <img\r\n                                        ng-src="{{ playButtonImage }}"\r\n                                        ng-click="togglePlayPause($event)"\r\n                                        class="show-player_buttons-layer_center-elements_play-button"\r\n                                        ng-class="{\'show-player_buttons-layer_center-elements_play-button--replay\': !hasNextVideo}"\r\n                                        ng-show="isInIntermission()"\r\n                                >\r\n                                <img src="images/iconVideoPause.svg" ng-click="togglePlayPause($event)" class="show-player_buttons-layer_center-elements_pause-button hidden-layer">\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div class="show-player_buttons-layer_center-elements_prev-next-wrapper">\r\n                            <span class="icon-forward show-player_buttons-layer_center-elements_next hidden-layer" ng-click="playNextVideo($event)" ng-show="getNextVideo()"></span>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div class="show-player_buttons-layer_center-elements_group_bottom hidden-layer">\r\n                        <span class="show-player_buttons-layer_center-elements_pause-intermission" ng-click="pauseIntermissionToggle($event)">{{isIntermissionPaused ? \'Continue\' : \'Pause\'}}</span>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <!-- bottom elements-->\r\n            <div class="show-player_buttons-layer_bottom-elements hidden-layer">\r\n                <div class="show-player_buttons-layer_bottom-elements_controls">\r\n                    <div class="show-player_buttons-layer_bottom-elements_controls_play icon-play ng-hide" ng-click="togglePlayPause($event)" ng-show="screen.paused"></div>\r\n                    <div class="show-player_buttons-layer_bottom-elements_controls_pause icon-pause ng-hide" ng-click="togglePlayPause($event)" ng-show="!screen.paused"></div>\r\n\r\n                    <div class="show-player_buttons-layer_bottom-elements_controls_time-position">{{timePassed}}</div>\r\n\r\n                    <div class="show-player_buttons-layer_bottom-elements_controls_slider">\r\n                        <rzslider ng-click="$event.stopPropagation()"\r\n                                  rz-slider-high="sliderModel.value"\r\n                                  rz-slider-model="sliderModel.start"\r\n                                  rz-slider-options="sliderModel.options"\r\n                        >\r\n                        </rzslider>\r\n                    </div>\r\n\r\n                    <div class="show-player_buttons-layer_bottom-elements_controls_duration">{{duration}}</div>\r\n\r\n                    <div class="show-player_buttons-layer_bottom-elements_controls_volume-wrapper" ng-mouseenter="soundHover()"\r\n                         ng-mouseleave="soundBlur()">\r\n                        <rzslider ng-click="$event.stopPropagation()"\r\n                                  rz-slider-high="soundSliderModel.value"\r\n                                  rz-slider-model="soundSliderModel.start"\r\n                                  rz-slider-options="soundSliderModel.options"\r\n                                  class="show-player_buttons-layer_bottom-elements_controls_volume-slider hidden-layer"\r\n                        >\r\n                        </rzslider>\r\n                        <div class="icon-volume show-player_buttons-layer_bottom-elements_controls_volume" ng-click="toggleMute($event)"></div>\r\n                    </div>\r\n\r\n                    <span class="icon-expand show-player_buttons-layer_bottom-elements_controls_expand" ng-click="toggleFullScreen($event)"></span>\r\n                    <span class="icon-collapse show-player_buttons-layer_bottom-elements_controls_collapse hidden-layer" ng-click="toggleFullScreen($event)"></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- hero image layer -->\r\n        <img class="show-player_hero-image-layer image-layer" ng-src="{{video.hero_images.hero_image_link}}">\r\n    </div>\r\n    <div class="show-player__details" ng-show="video">\r\n        <div class="show-player__header">\r\n            <div class="show-player__category icon-category{{iconTitle}}"></div>\r\n            <div class="show-player__titles">\r\n                <span class="show-player__title">{{video.title}}</span>&nbsp;<span class="show-player__subtitle">{{video.subtitle}}</span>\r\n            </div>\r\n        </div>\r\n        <div class="show-player__editorial-title" ng-show="video.description_title">\r\n            {{video.description_title}}\r\n        </div>\r\n        <div class="show-player__toolbar">\r\n            <span class="icon-watches"></span> {{createdDate}}\r\n            <span class="icon-reddit show-player__toolbar-icon" ng-click="shareVideoItem(\'reddit\')"></span>\r\n            <span class="icon-email show-player__toolbar-icon" ng-click="shareVideoItem(\'email\')"></span>\r\n            <span class="icon-twitter show-player__toolbar-icon" ng-click="shareVideoItem(\'twitter\')"></span>\r\n            <span class="icon-facebook show-player__toolbar-icon" ng-click="shareVideoItem(\'facebook\')"></span>\r\n            <span class="icon-favorites show-player__favorite-button show-player__toolbar-icon"\r\n                  ng-click="toggleFavorites($event)">\r\n                    <i class="icon-favorites__onhover">\r\n                        <img src="images/iconFavoritesFilled.svg" alt="">\r\n                    </i>\r\n            </span>\r\n        </div>\r\n        <perfect-scrollbar class="show-player__description">\r\n            <div ng-bind-html="videoDescription"></div>\r\n        </perfect-scrollbar>\r\n        <div class="show-player__description-fade">\r\n            <div class="show-player__description-fade-inner"></div>\r\n        </div>\r\n        <div class="show-player__tags" ng-show="video.tag_list">\r\n            <span class="show-player__tag" ng-repeat="tag in tags" ui-sref="listTag({tagName: tag})">{{ tag }}</span>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n'),e.put("components/top-menu/top-menu.html",'<div class="top-menu">\r\n    <div class="top-menu_container">\r\n        <div class="top-menu_navigation">\r\n            <div class="top-menu_main">\r\n                <span class="icon-menu top-menu_icon" ng-click="toggleSideMenu()"></span>\r\n                <img class="top-menu_logo" src="images/logo.svg" ng-click="moveToHome()">\r\n            </div>\r\n\r\n            <div class="top-menu_categories">\r\n                <div class="top-menu_categories_item"\r\n                     ng-repeat="category in categoryList"\r\n                     ng-class="{ \'top-menu_categories_item_empty\' : category.empty }"\r\n                     ng-click="categoryClick($event, category)">\r\n                    {{category.title}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="top-menu_advanced" ng-show="showAdvanced" >\r\n            <div class="top-menu_search" ng-class="{\'top-menu_search--opened\': searchResult && searchResult.length}">\r\n                <div class="top-menu_search_string">\r\n                    <button class="top-menu_search_button">\r\n                        <img src="images/iconSearch.svg" alt="">\r\n                    </button>\r\n                    <input class="top-menu_search_input" placeholder="Search" ng-model="searchText" ng-keyup="search()">\r\n                </div>\r\n\r\n                <div class="top-menu_search_results" ng-if="searchResult && searchResult.length">\r\n                    <div class="top-menu_search_results_item" ng-repeat="searchItem in searchResult" ng-click="playFoundVideo(searchItem.id)">\r\n                        <span class="icon-category{{::searchItem.iconName}} top-menu_search_results_item_icon"></span>\r\n                        <span>{{searchItem.title}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <button class="top-menu_login" ng-click="register()" ng-hide="storage.userAuthorized">\r\n                Sign Up\r\n            </button>\r\n            <button class="top-menu_login top-menu_login--last" ng-click="login()" ng-hide="storage.userAuthorized">\r\n                Login\r\n            </button>\r\n            <button class="top-menu_login top-menu_login--last" ng-click="logout()" ng-show="storage.userAuthorized">\r\n                Logout\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),e.put("temp/final/index.html",'<!DOCTYPE html>\r\n<html lang="en">\r\n<head>\r\n    <meta charset="UTF-8">\r\n    <meta name="cmsmagazine" content="f27806ede7b474033059ff5dffb97d37" />\r\n    <title>CIZO</title>\r\n    <link rel="icon" type="image/png" href="images/32x32.png" sizes="32x32">\r\n    <link rel="icon" type="image/png" href="images/16x16.png" sizes="16x16">\r\n    <link rel="shortcut icon" href="images/favicon.ico">\r\n    <link rel="stylesheet" href="/all.min.css?13328517">\r\n    <base href="/">\r\n    <!-- INJECT-HEAD -->\r\n</head>\r\n<body ng-controller="AppCtrl" ng-cloak ng-class="{\'app--no-scroll\': showLogin || showRegister}">\r\n\r\n<div ui-view ng-class="{\'app--blurred\': showLogin || showRegister}"></div>\r\n<login-form\r\n        class="ng-hide"\r\n        ng-show="showLogin"\r\n        host-name="{{ hostName }}"\r\n        storage="storage"\r\n        on-login-close="showLogin = false"\r\n        on-register-open="showLogin = false;showRegister = true"\r\n        on-reset-password="resetPassword()"\r\n></login-form>\r\n<register-form\r\n        class="ng-hide"\r\n        ng-show="showRegister"\r\n        host-name="{{ hostName }}"\r\n        storage="storage"\r\n        on-register-close="showRegister = false"\r\n        on-login-open="showRegister = false;showLogin = true"\r\n></register-form>\r\n\r\n<div class="mature-overlay" ng-show="checkMature()">\r\n    <div class="mature-overlay_window mature-window">\r\n        <span class="icon-close mature-window_icon" ng-click="closeMatureScreen()"></span>\r\n\r\n        <span class="mature-window_title">One more step</span>\r\n        <span class="mature-window_description">Due to nature of this content, please login to confirm your age.</span>\r\n\r\n        <button class="mature-window_sign" ng-click="linkToLogin()">login</button>\r\n        <button class="mature-window_cancel" ng-click="closeMatureScreen()">not now</button>\r\n    </div>\r\n</div>\r\n\r\n<script src="/3d-party.min.js?13328517"></script>\r\n<script src="/ng.min.js?13328517"></script>\r\n<!-- Google Analytics -->\r\n<script>\r\n    (function(i,s,o,g,r,a,m){i[\'GoogleAnalyticsObject\']=r;i[r]=i[r]||function(){\r\n                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\r\n            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\r\n    })(window,document,\'script\',\'//www.google-analytics.com/analytics.js\',\'ga\');\r\n\r\n    ga(\'create\', \'UA-74526766-2\', \'auto\');\r\n    ga(\'send\', \'pageview\');\r\n</script>\r\n<!-- End Google Analytics -->\r\n<script>\r\n    angular.bootstrap(document, [\'app\']);\r\n</script>\r\n\r\n</body>\r\n</html>'),e.put("views/contact/contact.html",'<form class="contact">\r\n    <div class="contact-form ">\r\n        <div class="contact-form_caption">\r\n            <span class="icon-email"></span>\r\n            <span class="">Contact</span>\r\n        </div>\r\n\r\n        <div class="contact-form_decoration"></div>\r\n\r\n        <div class="contact-form_text">\r\n            <span><b>About:</b> By hand-picking the best of what’s next in entertainment, gaming, fashion, concerts, and technology,\r\n            we offer our users a window to preview their future: what to buy, what to watch, where to go.\r\n            CIZO relieves users from the chore of constantly searching, reading, and refreshing a forest of information\r\n            to find the content they need. Just press play, and we’ll do the rest.</span>\r\n            <br>\r\n            <span><b>Disclaimer:</b> Content hosted on CIZO is solely for the purpose of promoting the intended entertainment property,\r\n            product, or event. If you or your company wishes to submit content to our platform, please find our contact\r\n            information below, and we’ll be in touch very shortly, thank you.</span>\r\n\r\n            <span>CIZO, INC.</span>\r\n            <span>1617 Broadway, Mezz. A</span>\r\n            <span>Santa Monica, CA, 90404</span>\r\n            <span>Phone: (310) 210-4820</span>\r\n            <span>app@cizo.com</span>\r\n            <br>\r\n            <span>Tap to view CIZO <span ui-sref="privacy" class="contact-form_link">Privacy Notice</span> and <span ui-sref="terms" class="contact-form_link">Terms of Use</span>.</span>\r\n        </div>\r\n\r\n        <a href="mailto:contact@cizo.com" class="contact-form_button">Contact us</a>\r\n        <a href="mailto:careers@cizo.com" class="contact-form_button">Careers</a>\r\n\r\n    </div>\r\n\r\n    <div class="icon-close contact-form_close" ng-click="closeView()"></div>\r\n</form>'),e.put("views/home/home.html",'<div class="home">\r\n\r\n    <left-side-menu storage="storage"></left-side-menu>\r\n\r\n    <featured-section\r\n            id="featured-player"\r\n            video="featuredItem"\r\n            featured-list="featuredList"\r\n            categories-list="categoriesList"\r\n            featured-item="featuredItem"\r\n            host-name="{{hostName}}"\r\n            storage="storage"\r\n            videos="videosList"\r\n    ></featured-section>\r\n\r\n    <div class="home_wrapper">\r\n        <div class="home_video-items">\r\n            <category-carousel category="category"\r\n                            videos="videosList"\r\n                            storage="storage"\r\n                            selected-video="featuredItem"\r\n                            category-only="false"\r\n                            ng-repeat="category in categoriesList" ng-hide="category.empty"\r\n            ></category-carousel>\r\n        </div>\r\n    </div>\r\n\r\n    <page-footer></page-footer>\r\n</div>\r\n'),e.put("views/list/list.html",'<div class="list">\r\n    <left-side-menu storage="storage"></left-side-menu>\r\n\r\n    <top-menu categories="categoriesList"\r\n              host-name="{{hostName}}"\r\n              videos-list="videosFullList"\r\n              storage="storage"\r\n              show-advanced="true"\r\n    ></top-menu>\r\n\r\n    <div class="list_video-items">\r\n        <list-items storage="storage" videos="videosList" list_type="{{listItem}}" tag-name="{{tagName}}"></list-items>\r\n    </div>\r\n\r\n    <page-footer></page-footer>\r\n</div>'),e.put("views/login/login.html",'<login-form\r\n        class="standalone-page"\r\n        host-name="{{ hostName }}"\r\n        storage="storage"\r\n        on-login-close="loginClose()"\r\n        on-register-open="registerOpen()"\r\n        on-reset-password="resetPassword()"\r\n></login-form>'),
e.put("views/play/play.html",'<div class="play">\r\n    <left-side-menu storage="storage"></left-side-menu>\r\n\r\n    <top-menu categories="categoriesList"\r\n              host-name="{{hostName}}"\r\n              videos-list="videosFullList"\r\n              storage="storage"\r\n              show-advanced="true"\r\n    ></top-menu>\r\n\r\n    <show-player class="play_player"\r\n                 video="videoItem"\r\n                 videos-list="videosList"\r\n                 featured-list="featuredList"\r\n                 host-name="{{hostName}}"\r\n                 sharing-path="{{sharingPath}}"\r\n                 facebook-app-id="{{facebookAppId}}"\r\n                 category-id="{{ selectedCategory.id || \'\' }}"\r\n                 storage="storage"\r\n    ></show-player>\r\n\r\n    <div class="play_video-items" ng-if="!selectedCategory">\r\n        <category-carousel category="category"\r\n                           videos="videosList"\r\n                           storage="storage"\r\n                           category-only="false"\r\n                           selected-video="videoItem"\r\n                           ng-repeat="category in sortedCategoriesList"\r\n        ></category-carousel>\r\n    </div>\r\n    <div class="list_video-items" ng-if="selectedCategory">\r\n        <list-items storage="storage"\r\n                    videos="videosInCategory"\r\n                    selected-video="videoItem"\r\n                    list-type="category"\r\n                    category-name="{{selectedCategory.title}}"\r\n        ></list-items>\r\n    </div>\r\n\r\n    <page-footer></page-footer>\r\n</div>'),e.put("views/privacy/privacy.html",'<form>\r\n    <div class="privacy-form">\r\n        <div class="privacy-form_caption">\r\n            Privacy Notice\r\n        </div>\r\n\r\n        <div class="privacy-form_text">\r\n            CIZO, Inc. (“CIZO”, “we”, “our”, or “us”) respects and is committed to protecting your privacy.\r\n            That is why we have adopted this Privacy Notice.  This Privacy Notice lets you know how and for what\r\n            purposes we are collecting, processing, and using your Personal Information (as defined herein).  We pledge\r\n            that we will take reasonable steps to ensure that your Personal Information will only be used in ways that\r\n            are in compliance with this Privacy Notice.\r\n            <br>\r\n            This Privacy Notice is in effect for any web page, mobile application, third party social media site, email\r\n            list, onsite electronic data collection, generic information, and Personal Information (as defined herein)\r\n            collected and/or owned by us, including but not limited to the CIZO website located at www.cizo.com and the\r\n            CIZO mobile application (the “App”), no matter the method of collection (e.g., mail, facsimile,\r\n            sign-up/sign-in page, survey, promotion), including collection through this website, the App, and any\r\n            online features, services, and/or programs we offer (collectively, the “Web Properties”).  Notwithstanding\r\n            the foregoing, this Privacy Notice is not applicable to any other web page, mobile application, social\r\n            media site, generic information, or Personal Information collected and/or owned by any entity other than\r\n            CIZO or one of its parents, affiliates and/or subsidiaries.\r\n            <br>\r\n            This Privacy Notice also applies to information collected by or for us through a means other than the Web\r\n            Properties.  If the same information is collected through the Web Properties and through a means other than\r\n            the Web Properties, the terms of this Privacy Notice shall apply.\r\n            <br>\r\n            Your use of the Web Properties is also governed by the Terms of Use located at <a ui-sref="terms">Terms of Use</a>.\r\n            <br>\r\n\r\n            <h3>Types of Information Collected</h3>\r\n\r\n            CIZO may collect two types of information when you visit the Web Properties: personal information and usage\r\n            information.\r\n            <br>\r\n\r\n            <b>Personal Information</b>: In order to participate in certain features, services and/or programs of the Web\r\n            Properties, we may require that you provide us with certain specific information, which we may collect\r\n            including, among other similar types of information (collectively, <u>“Personal Information”</u>): (1) contact\r\n            information (e.g., name, address, phone number, email address); (2) demographic information (e.g., date of\r\n            birth); (3) bank account and credit/debit card numbers; (4) resume information (e.g., education, work and\r\n            military history, legal work eligibility status); and (5) your physical location.\r\n            <br>\r\n            <b>Usage Information</b>: We may obtain non-individualized, generic information about you when you visit the Web\r\n            Properties.  This may include your (i) Internet Protocol (or IP) address, protocol and sequence information;\r\n            browser language; browser type; domain name system requests; browsing history (including time spent at a\r\n            domain, time and date of your visit); number of clicks; hypertext transfer protocol headers; application\r\n            client and server banners; and operating system fingerprinting data (collectively, <u>“Browsing Information”</u>);\r\n            and (ii) MAC address, device ID/UDID, or similar device-specific code used for advertising/marketing tracking purposes.\r\n            <br>\r\n\r\n            <h3>How Information Is Collected</h3>\r\n\r\n            We may collect Personal Information and Browsing Information about you from the following sources:\r\n            <ul>\r\n                <li>information we receive from you, or on your behalf, through forms you complete, or if you contact us, for example to raise a query;</li>\r\n                <li>information we receive from you through the Web Properties, such as when creating an account;</li>\r\n                <li>information we receive when you download and register for the App;</li>\r\n                <li>information we receive from your computer or mobile device;</li>\r\n                <li>information we receive from our partners or service providers; and</li>\r\n                <li>information we receive from other sources, as permitted by applicable laws, rules and regulations.</li>\r\n            </ul>\r\n\r\n            We may sponsor promotions through the Web Properties.  Your participation is entirely voluntary.  You may\r\n            be asked to provide personally identifiable information including, but not limited to, your name or email\r\n            address, or to answer questions in order to participate.  We may also transfer Personal Information to\r\n            certain advertising or marketing partners from whom you have requested to receive information.\r\n            <br>\r\n\r\n            <h3>Additional Ways that Information is Collected Through the Web Properties</h3>\r\n\r\n            <b>Browser Log Files</b>: Our servers automatically log each visitor to the Web Properties and collect and record\r\n            certain Browsing Information about each visitor.  The Browsing Information reveals nothing personal about\r\n            the user and includes only the generic information described in the definition of “Browsing Information.”\r\n            We may use this information to examine our traffic in the aggregate, but we do not collect and evaluate\r\n            this information for individuals.\r\n            <br>\r\n            <b>Cookies</b>: From time to time, we and/or our advertisers or other third parties may send a “cookie” to\r\n            your computer.  A cookie is a small piece of data that is sent to your Internet browser from a web server\r\n            and stored on your computer’s hard drive and that can be re-sent to the serving website on subsequent\r\n            visits.  A cookie, by itself, cannot read other data from your hard disk or read other cookie files already\r\n            on your computer.  A cookie, by itself, does not damage your system.  We, our advertisers and other third\r\n            parties may use cookies to identify and keep track of, among other things, those areas of the Web Properties\r\n            and third party websites that you have visited in the past in order to enhance your next visit to the Web\r\n            Properties.  Our advertisers may also use cookies to ascertain how many times that you have seen an advertisement\r\n            and obtain similar analytical information.  You can choose whether or not to accept cookies by changing the\r\n            settings of your Internet browser, but some functionality of the Web Properties may be impaired or not\r\n            function as intended if you choose not to accept cookies.  See the “Third Party Opt Out” section below.\r\n            <br>\r\n            <b>Web Beacons</b>: Some of our web pages and electronic communications may contain images, which may or\r\n            may not be visible to you, known as Web Beacons (sometimes referred to as ‘clear gifs’). Web Beacons collect\r\n            only limited information that includes a cookie number; time and date of a page view; and a description of\r\n            the page on which the Web Beacon resides.  We may also carry Web Beacons placed by third party advertisers.\r\n            These Web Beacons do not carry any Personal Information and are only used to track usage of the Web\r\n            Properties and activities associated with the Web Properties. See the “Third Party Opt Out” section below.\r\n            <br>\r\n            <b>iBeacons and Geolocation</b>:  While using certain features of one or more of the Web Properties, we may\r\n            in the future choose to track the physical location of your mobile device or web browser to send you\r\n            information that is relevant to you.  You will always have control over whether to transmit your physical\r\n            location, and you can prevent such disclosure by disabling Bluetooth and Wi-Fi, declining the request to\r\n            share your location, or adjusting your privacy settings in your mobile device operating system\r\n            (as applicable).\r\n            <br>\r\n            <b>Unique Identifier</b>: We may assign you a unique internal identifier to help keep track of your future\r\n            visits. We use this information to gather aggregate demographic information about our visitors, and we use\r\n            it to personalize the information you see on the Web Properties and some of the electronic communications\r\n            you receive from us.  We keep this information for our internal use, and this information is not shared\r\n            with others.\r\n            <br>\r\n            <b>Third Party Opt Out</b>: Although we do not presently do so, in the future we may allow third-party\r\n            companies to serve advertisements and/or collect certain anonymous information when you visit the Web\r\n            Properties.  These companies may use non-personally identifiable information (including, but not limited to,\r\n            click stream information, browser type, time and date, subject of advertisements clicked or scrolled over)\r\n            during your visits to the Web Properties in order to provide advertisements about goods and services likely\r\n            to be of greater interest to you.  These companies typically use a cookie or third party Web Beacon to\r\n            collect this information. Through these technologies, the third party may have access to and use such\r\n            non-personalized information about your online usage activity.\r\n            <br>\r\n\r\n            <ul>\r\n                <li>\r\n                    You can opt out of certain online behavioral services through any one of the ways described below\r\n                    (you do not need to go to each opt-out site, one is sufficient).  After you opt out, you will\r\n                    continue to receive advertisements, but those advertisements will no longer be as relevant to you.\r\n                </li>\r\n                <li>\r\n                    You can opt out via the Network Advertising Initiative industry opt-out at <a href="www.networkadvertising.org">www.networkadvertising.org</a>.\r\n                </li>\r\n                <li>\r\n                    You can opt out via the Consumer Choice Page at <a href="www.aboutads.info">www.aboutads.info</a>.\r\n                </li>\r\n                <li>\r\n                    You can opt out via the IAB UK’s industry opt-out at <a href="www.youronlinechoices.com">www.youronlinechoices.com</a>.\r\n                </li>\r\n                <li>\r\n                    You can configure your web browser (Chrome, Firefox, Internet Explorer, Safari, etc.) to delete\r\n                    and/or control the use of cookies. More information can be found in the Help system of your web\r\n                    browser.  It is at your discretion whether you use the opt-out described above or manage cookies\r\n                    via the browser.\r\n                </li>\r\n                <li>\r\n                    Note: If you opt out as described above, you should not delete your cookies.  If you delete your cookies, you will need to opt out again.\r\n                </li>\r\n            </ul>\r\n\r\n            <h3>Use of Personal Information</h3>\r\n\r\n            The Personal Information that we collect may be used for five main purposes:\r\n            <ul>\r\n                <li>\r\n                    to enable the features of the Web Properties, including, but not limited to: (a) operating any\r\n                    promotions in which you may participate; (b) setting up and managing your online or mobile\r\n                    application account, including, but not limited to, our processing your requests for information;\r\n                    and/or (c) providing services to you;\r\n                </li>\r\n                <li>\r\n                    to improve the Web Properties by determining which of our features and services are most popular.\r\n                    We may analyze your information and usage information to enable us and our affiliates to provide\r\n                    services to you and develop new features, functionality, and services and otherwise for our\r\n                    internal business purposes;\r\n                </li>\r\n                <li>\r\n                    to personalize your experience on the Web Properties;\r\n                </li>\r\n                <li>\r\n                    to communicate with you and to inform you about our and third parties’ products and services.\r\n                    We and/or any of our third party service providers may send you and keep you updated with\r\n                    information about existing and new services, products, and special offers, by email, telephone,\r\n                    mail or by means of any other contact details you provide to us or our affiliates, or to such\r\n                    third party service providers; and\r\n                </li>\r\n                <li>\r\n                    to license, sell, or share your Personal Information to non-affiliated third party companies\r\n                    whose products and services we believe that you may enjoy.  You may, at any time, opt out of us\r\n                    sharing your Personal Information for such purposes by contacting us as described below in\r\n                    “Choices With Your Personal Information.”\r\n                </li>\r\n            </ul>\r\n\r\n            <h3>When Information Is Disclosed</h3>\r\n\r\n            We might also disclose Personal Information and/or Browsing Information when required by law or in the\r\n            good-faith belief that such disclosure is necessary to: (1) comply with legal processes and applicable\r\n            law; (2) enforce this Privacy Notice; (3) take precautions against liability and to respond to any claim\r\n            that any material, document, image, graphic, logo, design, audio, video, TV clip or trailer, movie clip\r\n            or trailer, and any other information provided to, from or on the Web Properties by you violates the rights\r\n            of third parties; (4) assist government enforcement agencies; or (5) protect our rights, property, or the\r\n            safety or the rights, property, or personal safety of our visitors and the public.\r\n            <br>\r\n            We use reasonable precautions to keep the information that is disclosed to us secure.  We may provide\r\n            Personal Information and Browsing Information to our subsidiaries, affiliated companies, and other\r\n            businesses or persons for the purposes of processing such information on our behalf and promoting the\r\n            goods and services of our trusted business partners, some or all of which may store some or all of your\r\n            information on servers outside of the United States.  We require that these parties agree to process such\r\n            information in compliance with our Privacy Notice or in a similar, industry-standard manner, and we use\r\n            reasonable efforts to limit their use of such information and to use appropriate confidentiality and\r\n            security measures.  The use of your information by one of our trusted business partners may be subject\r\n            to that party’s own Privacy Notice.\r\n            <br>\r\n            We may share Browsing Information with third parties to demonstrate the usage patterns for advertisements,\r\n            content, functionality, promotions, and/or services on the Web Properties and/or on third party websites.\r\n            <br>\r\n            We reserve the right to transfer your Personal Information, as well as any information about or from you,\r\n            in connection with the merger, sale or other disposition of all or part of our business and/or assets.\r\n            We cannot make any representations regarding the use or transfer of your Personal Information or other\r\n            information that we may have in the event of our bankruptcy, reorganization, insolvency, receivership,\r\n            or an assignment for the benefit of creditors, and you expressly agree and consent to the use and/or\r\n            transfer of your Personal Information or other information in connection with any of the above described\r\n            proceedings.  Furthermore, we cannot and will not be responsible for any breach of security by any third\r\n            parties or for any actions of any third parties that receive any of the information that is disclosed to us.\r\n\r\n            <h3>Account, Password and Security</h3>\r\n\r\n            For certain features available through the Web Properties, we may require the use of encryption technologies\r\n            provided for your protection and/or account.  We use reasonable precautions to protect the privacy of your\r\n            password and account information.\r\n            <br>\r\n            You, however, are ultimately responsible for protecting your password and account information from\r\n            disclosure to third parties, and you are not permitted to circumvent the use of required encryption\r\n            technologies.  You agree to: (1) immediately notify us of any unauthorized use of your password and/or any\r\n            other breach of security; and (2) ensure that you log out from your account at the end of each session.\r\n            While we may provide certain encryption technologies and use other reasonable precautions to protect your\r\n            confidential information and provide suitable security, we do not and cannot guarantee or warrant that any\r\n            information transmitted through the Internet is secure, or that such transmissions are free from delay,\r\n            interruption, interception, or error.\r\n\r\n            <h3>Employment Opportunity Information Collection</h3>\r\n\r\n            For individuals interested in job opportunities with us, the Web Properties allow prospective employees\r\n            to request additional job opportunity information and apply for a job online.  The Web Properties may be\r\n            used to collect Personal Information from prospective employees for human resources recruitment purposes.\r\n            By submitting any of the foregoing information, you consent to its dissemination to, and use by, us and\r\n            our affiliates.  The foregoing also applies to job application inquiries and submissions that you may\r\n            transmit to us other than through the Web Properties.\r\n\r\n            <h3>Information From Children</h3>\r\n\r\n            We do not collect Personal Information from any person that we know to be under the age of thirteen (13).\r\n            Specifically, the Web Properties are not intended or designed to attract children under the age of\r\n            thirteen (13).  To access and view certain Content for mature viewers, you will need to affirm that you\r\n            are more than eighteen (18) years of age, or an emancipated minor, or possess legal parental or guardian\r\n            consent, and are fully able and competent to enter into the terms, conditions, obligations, affirmations,\r\n            representations, and warranties set forth in this Privacy Notice, and to abide by and comply with this\r\n            Privacy Notice. In any case, you affirm that you are over the age of thirteen (13), as THE WEB PROPERTIES\r\n            ARE NOT INTENDED FOR CHILDREN UNDER THIRTEEN (13) WHO ARE UNACCOMPANIED BY THEIR PARENTS OR LEGAL GUARDIANS.\r\n            <br>\r\n            Parents and legal guardians should be aware that this Privacy Notice will govern our use of Personal\r\n            Information, but also that information that is voluntarily given by children – or others – in email\r\n            exchanges, bulletin boards or the like, may be used by other parties to generate unsolicited communications.\r\n            We encourage all parents to instruct their children in the safe and responsible use of their Personal\r\n            Information while using the Internet.\r\n\r\n            <h3>Privacy Outside the Web Properties</h3>\r\n\r\n            The Web Properties may now or in the future contain links to other websites, including, but not limited\r\n            to, Facebook, Twitter and Instagram, and contain advertisements of third parties.  We are not and cannot\r\n            be responsible for the privacy practices or the content of any of those websites.  Other than under\r\n            agreements with certain reputable organizations and companies, and except for third party service\r\n            providers (as described in this Privacy Notice), we do not share any of the Personal Information that\r\n            you provide to us with any of the websites to which the Web Properties links, although we may share\r\n            aggregate, non-personally identifiable information with those other third parties.  Please check with\r\n            those websites in order to determine their privacy policies and your rights under them.\r\n\r\n            <h3>European Union Users</h3>\r\n\r\n            If you are visiting us from the European Union, please note that we may collect, transfer, and continue\r\n            to use your Personal Information outside the European Union for any of the purposes described in this\r\n            Privacy Notice.  By using the Web Properties and providing us with your Personal Information, you consent\r\n            to our collection, transfer, and continued use of your Personal Information in accordance with this\r\n            Privacy Notice.\r\n\r\n            <h3>Information Security</h3>\r\n\r\n            We take reasonable efforts to ensure that information collected through the Web Properties is not lost,\r\n            misused or altered inappropriately by administering security measures.  However, all information accessible\r\n            and/or transferred over the Internet can potentially be accessed by unauthorized parties; therefore, we\r\n            cannot guarantee the security of your data transmitted to the Web Properties.\r\n\r\n            <h3>Choices With Your Personal Information</h3>\r\n\r\n            Whether you submit any Personal Information to us is entirely up to you.  You are under no obligation to\r\n            provide Personal Information.  However, this information is essential for the provision and quality of\r\n            some of the services we offer to you, so we cannot provide you with certain services if you choose to\r\n            withhold requested information, including, but not limited to, accessing any content on the Web Properties\r\n            if you are not over the age of thirteen (13), and accessing certain content on the Web Properties that\r\n            is restricted to users over the age of eighteen (18).\r\n            <br>\r\n            You may choose to prevent us from disclosing or using your Personal Information under certain circumstances\r\n            (“opt out”).  You may opt out of any disclosure or use of your Personal Information for purposes that are\r\n            incompatible with the purpose(s) for which it was originally collected or for which you subsequently gave\r\n            authorization by notifying us by one of the methods at the end of this Privacy Notice, or by following\r\n            the procedures set forth in an electronic communication from us, if applicable.  Furthermore, even where\r\n            your Personal Information is to be disclosed and used in accordance with the stated purposes in this\r\n            Privacy Notice, you may elect to opt out of such disclosure to and use by a third party that is not\r\n            acting as our agent.  There are some uses from which you cannot opt out, such as to provide services\r\n            that you have requested from us.\r\n            <br>\r\n            Please note that opting out of the disclosure and use of your Personal Information as a prospective\r\n            employee may prevent you from being hired as an employee to the extent you are using the Web Properties\r\n            to apply for an open position.\r\n            <br>\r\n            When you download the App, you may be able to manage how your mobile device shares certain information\r\n            with us by adjusting your mobile device’s privacy or security settings.  In particular, you may elect\r\n            whether to share location information with our mobile application to access the mobile application’s\r\n            location based services.\r\n\r\n            <h3>Access and Correction</h3>\r\n\r\n            Please contact us in the manner specified at the end of this Privacy Notice to access your\r\n            Personal Information in our possession and correct inaccuracies of that information in our records.\r\n            We ask individuals to identify themselves and the information requested to be accessed and amended\r\n            before processing such requests, and we may decline to process requests in limited circumstances,\r\n            as permitted by applicable privacy legislation.\r\n\r\n            <h3>Your California Privacy Rights</h3>\r\n\r\n            <ul>\r\n                <li>\r\n                    Under California’s “Shine the Light” law, California residents who provide certain personally\r\n                    identifiable information in connection with obtaining products or services for personal, family,\r\n                    or household use are entitled to request and obtain from us (once a calendar year) information\r\n                    about the customer information we shared (if any) with other businesses for their own direct\r\n                    marketing uses.  If applicable, this information would include the categories of customer\r\n                    information and the names and addresses of those businesses with which we shared customer\r\n                    information for the immediately prior calendar year (e.g., requests made in 2016 will receive\r\n                    information regarding 2015 sharing activities, if any).\r\n                </li>\r\n                <li>\r\n                    To obtain this information, please send an email message to app@cizo.com with “Request for\r\n                    California Privacy Information” in the subject line and in the body of your message.  We will\r\n                    provide the requested information to you at your email address in response.\r\n                </li>\r\n                <li>\r\n                    Please be aware that not all information sharing is covered by the “Shine the Light” requirements,\r\n                    and only information on covered sharing will be included in our response.\r\n                </li>\r\n            </ul>\r\n\r\n            <h3>“Do Not Track” Signals</h3>\r\n\r\n            Note that your browser settings may allow you to automatically transmit a “Do Not Track” signal to websites\r\n            and online services you visit. There is no consensus among industry participants as to what “Do Not Track”\r\n            means in this context. Like many websites and online services, CIZO currently does not alter its practices\r\n            when it receives a “Do Not Track” signal from a visitor’s browser. To find out more about “Do Not Track,”\r\n            you may wish to visit <a href="www.allaboutdnt.com">www.allaboutdnt.com</a>.\r\n\r\n            <h3>Your Consent To This Privacy Notice</h3>\r\n\r\n            By using the Web Properties, you consent to the collection and use of your information (including\r\n            Personal Information) by us as specified above or as we otherwise see fit, in compliance with this\r\n            Privacy Notice, unless you inform us otherwise by means of the procedure identified below.  If we decide\r\n            to change this Privacy Notice or some part of it, we will make an effort to post those changes on this\r\n            web page and on our App so that you will always be able to understand what information we collect, how\r\n            we use that information and under what circumstances we may disclose that information to others.  Your\r\n            use of the Web Properties, including, but not limited to, the App, following such publication of any\r\n            amendment of this Privacy Notice will signify your assent to and acceptance of its revised terms for all\r\n            previously collected information and information collected from you in the future.  We may use comments,\r\n            information or feedback that you may submit in any manner that we may choose without notice or compensation\r\n            to you.\r\n            <br>\r\n            If you have additional questions or comments of any kind, or if you see anything on the Web Properties that\r\n            you think is inappropriate or incorrect, please let us know by email or by sending your comments or requests\r\n            to:\r\n\r\n\r\n            <div class="contact-info">\r\n                <span>CIZO, INC.</span>\r\n                <span>1617 Broadway, Mezz. A</span>\r\n                <span>Santa Monica, CA, 90404</span>\r\n                <span>Phone: (310) 210-4820</span>\r\n                <span>app@cizo.com</span>\r\n                <br>\r\n                <span>Copyright © 2016.  CIZO, INC.  All Rights Reserved.</span>\r\n                <br>\r\n                <span>Effective as of: March 16, 2016</span>\r\n                <span>Last updated: March 16, 2016</span>\r\n            </div>\r\n        </div>\r\n\r\n        <button class="privacy-form_sign-up" ng-click="closeView()">Confirm</button>\r\n\r\n    </div>\r\n\r\n    <div class="icon-close privacy-form_close" ng-click="closeView()"></div>\r\n</form>'),
e.put("views/profile/profile.html",'<left-side-menu storage="storage"></left-side-menu>\r\n\r\n<top-menu categories="categoriesList"\r\n          host-name="{{hostName}}"\r\n          videos-list="videosFullList"\r\n          storage="storage"\r\n></top-menu>\r\n\r\n<form class="profile">\r\n    <div class="profile-form">\r\n\r\n        <div class="profile-form_logo">\r\n            <span class="icon-profile"></span>\r\n            <span class="">My Profile</span>\r\n        </div>\r\n\r\n        <div class="profile-form_decoration"></div>\r\n\r\n        <div class="profile-form_title">\r\n            Update password\r\n        </div>\r\n\r\n        <span class="profile-form_description">To reset your password, enter the address you use to login to CIZO.</span>\r\n\r\n        <input ng-model="pass" class="profile-form_input" placeholder="Update password" type="password">\r\n\r\n        <button class="profile-form_sign-up" ng-click="updatePassword()">Update</button>\r\n\r\n    </div>\r\n\r\n</form>\r\n\r\n<message-overlay params="message"></message-overlay>'),e.put("views/register/register.html",'<register-form\r\n        class="standalone-page"\r\n        host-name="{{ hostName }}"\r\n        storage="storage"\r\n        on-register-close="registerClose()"\r\n        on-login-open="loginOpen()"\r\n></register-form>\r\n'),e.put("views/reset-password/reset-password.html",'<form class="profile">\r\n    <div class="reset-password-form">\r\n        <div class="reset-password-form_logo">\r\n            <span class="icon-profile"></span>\r\n            <span class="">My Profile</span>\r\n        </div>\r\n\r\n        <div class="reset-password-form_decoration"></div>\r\n\r\n        <div class="reset-password-form_title">\r\n            Reset password\r\n        </div>\r\n\r\n        <span class="reset-password-form_description">Enter and repeat new password</span>\r\n\r\n        <input ng-model="password" class="reset-password-form_input" placeholder="Password" type="password">\r\n        <input ng-model="repeatPassword" class="reset-password-form_input" placeholder="Repeat Password" type="password">\r\n\r\n        <button class="reset-password-form_sign-up" ng-click="updatePassword()">Reset Password</button>\r\n\r\n        <button class="reset-password-form_cancel" ui-sref="home">Cancel</button>\r\n\r\n    </div>\r\n</form>\r\n<message-overlay params="message" class="register-form"></message-overlay>'),e.put("views/reset/reset.html",'<left-side-menu storage="storage"></left-side-menu>\r\n\r\n<top-menu categories="categoriesList"\r\n          host-name="{{hostName}}"\r\n          videos-list="videosFullList"\r\n          storage="storage"\r\n          show-advanced="false"\r\n></top-menu>\r\n\r\n\r\n<form class="profile">\r\n    <div class="reset-form">\r\n\r\n        <div class="profile-form_logo">\r\n            <span class="icon-profile"></span>\r\n            <span class="">My Profile</span>\r\n        </div>\r\n\r\n        <div class="profile-form_decoration"></div>\r\n\r\n        <div class="profile-form_title">\r\n            Reset password\r\n        </div>\r\n\r\n        <span class="reset-form_description">To reset your password, enter the address you use to login to CIZO.</span>\r\n\r\n        <input ng-model="email" class="reset-form_input" placeholder="Email Address" type="email">\r\n\r\n        <button class="reset-form_sign-up" ng-click="resetPassword()">Send Reset Link</button>\r\n\r\n    </div>\r\n\r\n    <button class="reset-password-form_cancel" ng-click="closeView()">Cancel</button>\r\n</form>\r\n\r\n<message-overlay params="message" class="register-form"></message-overlay>'),e.put("views/share/share.html",'<div class="share" style="background-image: url(\'{{video.hero_images.hero_image_link}}\')"> </div>\r\n\r\n<div class="share_close-button icon-close" ng-click="closeShare()"></div>\r\n\r\n<div class="share-wrapper">\r\n    <div class="share_group">\r\n        <div class="share_group_title">\r\n            <span class="icon-share"></span>\r\n            <span>Share this video</span>\r\n        </div>\r\n\r\n        <div class="share_group_video"\r\n             style="background-image: url(\'{{video.hero_images.hero_image_link}}\')"\r\n        >\r\n            <div class="share_group_video_title">\r\n                <span class="share_group_video_title_caption">{{::video.title}}</span>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="share_group_social">\r\n            <div class="share_group_social_item social-facebook" ng-click="shareVideoItem(\'facebook\')">\r\n                <span class="icon-facebook"></span>\r\n                <span>Facebook</span>\r\n            </div>\r\n            <div class="share_group_social_item social-twitter" ng-click="shareVideoItem(\'twitter\')">\r\n                <span class="icon-twitter icon-adjust-twitter"></span>\r\n                <span>Twitter</span>\r\n            </div>\r\n            <div class="share_group_social_item social-google" ng-click="shareVideoItem(\'google\')">\r\n                <span class="icon-google icon-adjust-google"></span>\r\n                <span>Google</span>\r\n            </div>\r\n            <div class="share_group_social_item social-reddit" ng-click="shareVideoItem(\'reddit\')">\r\n                <span class="icon-reddit icon-adjust-reddit"></span>\r\n                <span>Reddit</span>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="share_group_link-title">\r\n            <div class="share_group_link-title_decoration"></div>\r\n            <span class="share_group_link-title_caption">Link</span>\r\n            <div class="share_group_link-title_decoration"></div>\r\n        </div>\r\n\r\n        <span class="share_group_link">{{shareLink}}</span>\r\n\r\n\r\n    </div>\r\n</div>\r\n\r\n<div class="share_overlay"></div>'),e.put("views/terms/terms.html",'<form>\r\n    <div class="privacy-form">\r\n        <div class="privacy-form_caption">\r\n            Terms of usage\r\n        </div>\r\n\r\n        <div class="privacy-form_text">\r\n            Please read the following Terms of Use (these “Terms”) carefully before using the CIZO, INC. (“CIZO”, “we,”\r\n            “our,” or “us”) website, located at www.cizo.com, or participating in any online features, services and/or\r\n            programs offered by us, including, but not limited to, our App, as defined herein (each, a “Web Property”\r\n            and collectively, the “Web Properties”).  These Terms are in effect for all of our Web Properties,\r\n            including use of the CIZO mobile application (the “App”).\r\n            <br><br>\r\n            These Terms are not applicable to any other web page operated and/or owned by any entity other than CIZO,\r\n            including, but not limited to, any website, mobile application, blog, forum, or other material operated by\r\n            any third party identified on the Web Properties.  When visiting these third-party websites, you should\r\n            refer to the terms and conditions in effect for the applicable owner.\r\n            <br><br>\r\n            PLEASE READ THESE TERMS CAREFULLY, WHICH INCLUDE IMPORTANT INFORMATION ABOUT YOUR LEGAL RIGHTS, REMEDIES,\r\n            AND OBLIGATIONS.   BY ACCESSING OR USING THE WEB PROPERTIES, YOU ARE ENTERING INTO A LEGAL CONTRACT WITH\r\n            CIZO REGARDING YOUR USE OF THE WEB PROPERTIES.  BY ACCESSING OR USING THE WEB PROPERTIES, YOU AGREE TO\r\n            BE BOUND BY THESE TERMS AND ALL ADDITIONAL TERMS INCORPORATED BY REFERENCE.  IF YOU DO NOT AGREE TO\r\n            ANY PORTION OF THESE TERMS, YOU SHOULD NOT ACCESS OR OTHERWISE USE THE WEB PROPERTIES.\r\n            <br><br>\r\n            <b>PROMOTIONAL AND INFORMATION ONLY</b>.  The Web Properties are provided to you as a convenience, for promotional\r\n            purposes, and for your information only. By merely providing access to the Web Properties, we do not\r\n            warrant or represent that: (a) any materials, documents, images, graphics, logos, design, audio, video,\r\n            TV clips and trailers, movie clips and trailers, and any other information provided from or on the Web\r\n            Properties (collectively, the “Content”) is accurate or complete; (b) the Content is up-to-date or current;\r\n            (c) we have any obligation to update any Content; (d) the Content is free from technical inaccuracies\r\n            or programming or typographical errors; (e) the Content is free from changes caused by a third party;\r\n            (f) your access to the Web Properties will be free from interruptions, errors, computer viruses or\r\n            other harmful components; (g) any information obtained in response to questions asked through the\r\n            Web Properties is accurate or complete; and/or (h) the Content is non-infringing of any third party’s\r\n            intellectual property rights.  We are providing the Content for promotional and publicity purposes.\r\n            <br><br>\r\n            <b>WEB PROPERTIES USE AND CONTENT</b>. You may view, copy or print a single copy of any page from the Web\r\n            Properties for personal, non-commercial purposes if you do not remove, modify, or alter any copyright\r\n            and proprietary rights notices that may be present. You may not otherwise use, modify, copy, print,\r\n            display, distribute, publish, or sell any information from the Web Properties without our express, prior,\r\n            written consent.  YOU MAY NOT USE ANY WEB PROPERTY FOR ANY COMMERCIAL USE.  Any special rules for the\r\n            software, audio files, video files, downloads, and other items accessible through the Web Properties\r\n            may be included elsewhere in the Web Properties and are incorporated into these Terms by reference.\r\n            You agree that you will not access the Content through any technology or means other than through the\r\n            video playback pages of the Web Properties or other explicitly authorized means CIZO may designate.\r\n            <br><br>\r\n            <b>UPDATES</b>.  We may make changes to the Web Properties, the Content, the User Content and/or these Terms,\r\n            and/or stop providing any of the Web Properties and/or the Content, at any time and without further\r\n            notice to you.  We will make an effort to update this web page with any changes to these Terms and\r\n            you are encouraged to review these Terms frequently (the date of the most recent revision to these\r\n            Terms appears at the end of these Terms).\r\n            <br><br>\r\n            <b>PRIVACY</b>. We know that privacy is very important to you, and it is very important to us as well.\r\n            You consent to receive electronic communications from us. We will communicate with you by email or\r\n            by posting notices on our Web Properties. You agree that all agreements, notices, disclosures and\r\n            other communications that we provide to you electronically satisfy any legal requirement that such\r\n            communication be in writing. Personal data that you provide regarding yourself will be handled\r\n            in accordance with our Privacy Notice located at <a ui-sref="privacy">Privacy Notice</a>.\r\n            <br><br>\r\n            <b>USER ACCOUNT, PASSWORD AND SECURITY</b>. To the extent that a user account is created by you to access and\r\n            use any Web Property (“User Account”), the following shall apply:\r\n\r\n            <ul>\r\n                <li>\r\n                    (a) \tUSER ACCOUNT. To access certain features, Content and/or User Content available through the Web\r\n                    Properties, we recommend that you sign up by using your Facebook login account information. If you cannot\r\n                    or do not want to use your Facebook credentials, we require that you sign up using your email address and\r\n                    a password to create a User Account. We use reasonable precautions to protect the privacy of your password\r\n                    and User Account information. You, however, are ultimately responsible for protecting your password and\r\n                    User Account information from disclosure to third parties, and you are not permitted to circumvent the use\r\n                    of required encryption technologies, if any. You agree to (i) immediately notify us of any unauthorized\r\n                    use of your password or User Account, or any other breach of security; (ii) ensure that you exit from your\r\n                    User Account at the end of each session; and (iii) use a security passcode to secure your device where\r\n                    the App may be installed or your User Account information is stored. While we provide certain encryption\r\n                    technologies and use other reasonable precautions to protect your confidential information and provide\r\n                    suitable security, we do not and cannot guarantee or warrant that information transmitted through\r\n                    the Internet is secure, or that such transmissions are free from delay, interruption, interception or error.\r\n                </li>\r\n                <li>\r\n                    (b)\tACCURATE INFORMATION. In creating and using your User Account, you agree to: (i) provide true,\r\n                    accurate, current, and complete information about yourself on any registration form required for\r\n                    the Web Properties, including, but not limited to, your email address and age (such information\r\n                    being the “Registration Data”); and (ii) maintain and promptly update the Registration Data to keep\r\n                    it true, accurate, current, and complete.  If you provide any information that is untrue,\r\n                    inaccurate, not current, or incomplete, or if we have reasonable grounds to suspect that such\r\n                    information is untrue, inaccurate, not current, or incomplete, then we have the right to suspend\r\n                    or terminate your User Account.\r\n                </li>\r\n                <li>\r\n                    (c)\tNON-TRANSFERABILITY OF USER ACCOUNT. User Accounts are non-transferable, and all users are\r\n                    obligated to take preventative measures to prohibit unauthorized users from accessing the Web\r\n                    Properties with his or her password. We are entitled to act on all instructions received by\r\n                    anyone using your User Account.  In the event that more than one User Account is assigned\r\n                    to the same individual, the duplicate account will be cancelled.\r\n                </li>\r\n                <li>\r\n                    (d)\tACCOUNT DEACTIVATION. We reserve the right to deactivate or cancel a User Account and/or your\r\n                    access to the App in our sole discretion, including for the following reasons: (i) you request\r\n                    such deactivation; (ii) you are deceased; (iii) you do not respond to repeated communication\r\n                    attempts regarding the status of your User Account or use of the App; or (iv) you reside in or\r\n                    relocate to a country where use of a User Account or the App is prohibited under applicable law.\r\n                </li>\r\n                <li>\r\n                    (e)\tDATA RETENTION POLICY, MANAGING YOUR INFORMATION.  We will retain User Account information\r\n                    and some automatically collected information (including, but not limited to, the type of mobile\r\n                    device you use, information about the way you use the App, and Browsing Information) for as long\r\n                    as you use the App and for a reasonable time thereafter, and we may store it in the aggregate.\r\n                    If you would like us to delete your User Account information that you have provided via the App,\r\n                    please contact us at app@cizo.com and we will respond in a reasonable time. Information that you\r\n                    enter into the App or Web Properties will generally remain there until you use it or we receive\r\n                    another legitimate request to remove it.\r\n                </li>\r\n            </ul>\r\n            <br><br>\r\n            <b>USER CONTENT</b>.  The Web Properties may in the future permit the submission of various forms of content\r\n            submitted by you and other users, such as materials, statements, reviews, ratings, opinions, personal\r\n            accounts, documents, images, graphics, logos, designs, videos, text files, audio files, and comments\r\n            (collectively, “User Content”) and the hosting, sharing, downloading, publishing and/or republishing\r\n            of such User Content. WE DO NOT GUARANTEE ANY CONFIDENTIALITY WITH RESPECT TO ANY USER CONTENT.\r\n            TO PROTECT YOUR PRIVACY AND THE PRIVACY OF OTHERS, YOU AGREE THAT YOU WILL NOT PROVIDE ANY USER CONTENT\r\n            THAT CONTAINS PERSONALLY IDENTIFIABLE INFORMATION (SUCH AS NAME, PHONE NUMBER, EMAIL OR MAILING ADDRESS,\r\n            SOCIAL SECURITY NUMBER, ETC.) BELONGING TO YOU OR ANYONE ELSE. UPLOADING IMAGES OR VIDEOS OF OTHER PEOPLE\r\n            WITHOUT THEIR PERMISSION IS STRICTLY PROHIBITED.\r\n            <br><br>\r\n            You shall be solely responsible for your User Content, and the consequences of posting or publishing it.\r\n            We do not endorse any User Content or any opinion, recommendation, or advice expressed therein, and we\r\n            expressly disclaim any and all liability in connection with User Content.  You acknowledge that CIZO\r\n            reserves the right to pre-screen User Content and we have the right (but not the obligation) in our sole\r\n            discretion to refuse, move, and/or remove User Content that is available on or through the Web Properties.\r\n            <br><br>\r\n            <b>OBJECTIONABLE MATERIAL</b>. You acknowledge that in using the Web Properties and accessing the Content and/or\r\n            User Content, you may encounter material that you deem to be disturbing, offensive or objectionable.\r\n            You agree to use the Web Properties at your sole risk and that we shall have no liability to you\r\n            for material that may be disturbing, objectionable or offensive to you.\r\n            <br><br>\r\n            <b>NOT INTENDED FOR CHILDREN</b>.  We do not collect Personal Information from any person that we know to be\r\n            under the age of thirteen (13).  Specifically, the Web Properties are not intended or designed to attract\r\n            children under the age of thirteen (13).  To access and view certain Content for mature viewers, you will\r\n            need to affirm that you are more than eighteen (18) years of age, or an emancipated minor, or possess\r\n            legal parental or guardian consent, and are fully able and competent to enter into the terms, conditions,\r\n            obligations, affirmations, representations, and warranties set forth in these Terms, and to abide by and\r\n            comply with these Terms. In any case, you affirm that you are over the age of thirteen (13), as\r\n            THE WEB PROPERTIES ARE NOT INTENDED FOR CHILDREN UNDER THIRTEEN (13) WHO ARE UNACCOMPANIED BY\r\n            THEIR PARENTS OR LEGAL GUARDIANS.\r\n            <br><br>\r\n            <b>DISCLAIMERS</b>.\r\n            <ul>\r\n                <li>\r\n                    (a)\tNO WARRANTIES FOR WEB PROPERTIES. When using the Web Properties, information will be transmitted\r\n                    in such a way that may be beyond our control. As such, we make no warranty concerning the delay,\r\n                    failure, interruption, or corruption of any data, the Content, the User Content, or other\r\n                    information transmitted in connection with the use of the Web Properties. YOU EXPRESSLY AGREE THAT\r\n                    YOUR USE OF THE WEB PROPERTIES IS AT YOUR SOLE RISK. THE WEB PROPERTIES, THE CONTENT, AND THE USER\r\n                    CONTENT ARE PROVIDED “AS IS” AND “AS AVAILABLE” FOR YOUR USE, WITHOUT WARRANTIES OF ANY KIND, EITHER\r\n                    EXPRESS OR IMPLIED, UNLESS SUCH WARRANTIES ARE LEGALLY INCAPABLE OF EXCLUSION. WE MAKE NO\r\n                    REPRESENTATIONS OR WARRANTIES THAT THE WEB PROPERTIES, THE CONTENT, THE USER CONTENT OR ANY SERVICES\r\n                    OFFERED IN CONNECTION WITH THE WEB PROPERTIES, INCLUDING, BUT NOT LIMITED TO, THE APP, ARE OR WILL\r\n                    REMAIN UNINTERRUPTED OR ERROR-FREE, THAT DEFECTS WILL BE CORRECTED, OR THAT THE WEB PAGES ON OR\r\n                    THROUGH THE WEB PROPERTIES, OR THE SERVERS USED IN CONNECTION WITH THE WEB PROPERTIES, ARE OR WILL\r\n                    REMAIN FREE FROM ANY VIRUSES, WORMS, TIME BOMBS, DROP DEAD DEVICES, TROJAN HORSES, OR OTHER HARMFUL\r\n                    COMPONENTS. WE DO NOT GUARANTEE THAT YOU WILL BE ABLE TO ACCESS OR USE THE WEB PROPERTIES AT TIMES\r\n                    OR LOCATIONS OF YOUR CHOOSING, OR THAT WE WILL HAVE ADEQUATE CAPACITY FOR THE WEB PROPERTIES AS A\r\n                    WHOLE OR IN ANY SPECIFIC GEOGRAPHIC AREA. WE MAKE NO REPRESENTATION OR WARRANTY REGARDING GOVERNMENT\r\n                    COMPLIANCE OF ANY SOFTWARE USED IN RUNNING THE WEB PROPERTIES.\r\n                </li>\r\n                <li>\r\n                    (b)\tINDEMNIFICATION. You agree to defend, indemnify, and hold harmless CIZO and our directors,\r\n                    officers, employees, and agents from and against any and all claims, demands, suits, proceedings,\r\n                    liabilities, judgments, losses, damages, expenses, and costs (including, but not limited to,\r\n                    reasonable attorneys’ fees) assessed or incurred by us, directly or indirectly, with respect to or\r\n                    arising out of: (i) your failure to comply with these Terms; (ii) your breach of your obligations\r\n                    under these Terms; and/or (iii) your use of the rights granted hereunder, including, but not\r\n                    limited to, any claims made by any third parties.\r\n                </li>\r\n            </ul>\r\n\r\n            <b>LIMITATION OF LIABILITY</b>.  IN NO EVENT WILL WE BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\r\n            EXEMPLARY, PUNITIVE, OR CONSEQUENTIAL DAMAGES ARISING FROM YOUR USE OF OR INABILITY TO USE THE WEB\r\n            PROPERTIES, CONTENT AND/OR USER CONTENT PROVIDED IN CONNECTION WITH THE WEB PROPERTIES OR FOR ANY\r\n            OTHER CLAIM RELATED IN ANY WAY TO YOUR USE OF THE WEB PROPERTIES, CONTENT AND/OR ANY USER CONTENT\r\n            PROVIDED THROUGH THE WEB PROPERTIES. ADDITIONALLY, WE SHALL NOT BE LIABLE FOR NEGATIVE REPERCUSSIONS\r\n            TO ANY PARTY BASED ON THE USE OF OR INABILITY TO USE THE WEB PROPERTIES, INCLUDING, BUT NOT LIMITED TO,\r\n            LOST GOODWILL OR LOST PROFITS. WE SHALL BE LIABLE ONLY TO THE EXTENT OF ACTUAL DAMAGES INCURRED BY YOU,\r\n            NOT TO EXCEED THE AMOUNT YOU ACTUALLY PAID TO US FOR GOODS OR SERVICES IN THE PRIOR SIX (6) MONTHS,\r\n            IF ANYTHING. WE ARE NOT LIABLE FOR ANY PERSONAL INJURY, INCLUDING DEATH, OR PROPERTY DAMAGE CAUSED BY\r\n            YOUR USE OR MISUSE OF THE WEB PROPERTIES, CONTENT AND/OR USER CONTENT. REMEDIES UNDER THESE TERMS ARE\r\n            EXCLUSIVE AND ARE LIMITED TO THOSE EXPRESSLY PROVIDED FOR IN THESE TERMS. BECAUSE SOME STATES OR\r\n            JURISDICTIONS DO NOT ALLOW THE EXCLUSION OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL\r\n            DAMAGES, IN SUCH STATES OR JURISDICTIONS OUR LIABILITY WILL BE LIMITED TO THE GREATEST EXTENT\r\n            PERMITTED BY APPLICABLE LAW.\r\n            <br><br>\r\n\r\n            <b>THIRD PARTY CONTENT AND THIRD PARTY APPLICATIONS</b>. We may provide hyperlinks to other websites\r\n            maintained by third parties, or may provide third party content on the Web Properties by framing or other\r\n            methods (collectively, “Third Party Content”). In addition, the Web Properties may include certain\r\n            applications, features, programs and services provided by third parties (collectively, the “Third Party\r\n            Applications”). We do not monitor Third Party Content or Third Party Applications and can make no guarantee\r\n            as to the accuracy or completeness of such Third Party Content or Third Party Applications.  THE LINKS TO\r\n            THIRD PARTY WEBSITES, ANY THIRD PARTY CONTENT, AND ANY THIRD PARTY APPLICATIONS MAY BE PROVIDED FOR YOUR\r\n            CONVENIENCE AND INFORMATION ONLY. THE CONTENT ON ANY LINKED WEBSITE OR IN ANY THIRD PARTY APPLICATION IS\r\n            NOT UNDER OUR CONTROL AND, JUST AS WITH THE WEB PROPERTIES, WE ARE NOT RESPONSIBLE FOR THE CONTENT OF LINKED\r\n            WEBSITES AND/OR THIRD PARTY APPLICATIONS, INCLUDING ANY FURTHER LINKS CONTAINED IN A THIRD PARTY WEBSITE.\r\n            WE MAKE NO REPRESENTATIONS OR WARRANTIES IN CONNECTION WITH ANY THIRD PARTY CONTENT OR THIRD PARTY\r\n            APPLICATIONS, WHICH AT ALL TIMES AND IN EACH INSTANCE IS PROVIDED “AS IS.” IF YOU DECIDE TO ACCESS ANY\r\n            OF THE THIRD PARTY WEBSITES LINKED TO THE WEB PROPERTIES, ANY THIRD PARTY CONTENT, AND/OR ANY THIRD\r\n            PARTY APPLICATION, YOU DO SO ENTIRELY AT YOUR OWN RISK.\r\n            <br><br>\r\n            If a third party links or refers to the Web Properties, it is not necessarily an indication of an\r\n            endorsement, authorization, sponsorship, affiliation, joint venture, or partnership by or with us. In most\r\n            cases, we are not even aware that a third party has linked to or refers to the Web Properties.\r\n            <br><br>\r\n            <b>INTELLECTUAL PROPERTY</b>. The Content of the Web Properties is intellectual property owned, controlled\r\n            and/or licensed by us. Specifically, we affirm that we have a valid license from the video content owners\r\n            to use and display the video content, including TV and movie clips, on our Web Properties, and we do not\r\n            claim ownership of such video content. All applicable intellectual property laws, including copyright laws,\r\n            protect our rights in and to the Content. No portion of the Content and/or the User Content may be\r\n            reproduced in any form or by any means, except as provided in Section 2 (Web Properties Use and Content)\r\n            and elsewhere in these Terms.\r\n            <br><br>\r\n            We are the copyright owner or authorized licensee of all trademarks, service marks, and logos used and\r\n            displayed on the Web Properties. All trademarks and service marks of CIZO, or our subsidiaries or affiliates,\r\n            that may be referred to on the Web Properties are the property of CIZO, or one of our subsidiaries or\r\n            affiliates. Other parties’ trademarks and service marks that may be referred to on the Web Properties are\r\n            the property of their respective owners. Nothing on the Web Properties should be construed as granting,\r\n            by implication, estoppel, or otherwise, any license or right to use any of CIZO’s, or our subsidiaries’\r\n            or affiliates’, trademarks, service marks, or copyrights without our prior written permission.\r\n            We aggressively enforce our intellectual property rights. Neither the name of CIZO, our subsidiaries\r\n            or affiliates, nor any of our other trademarks, service marks, or copyrighted materials may be used in\r\n            any way, including in any advertising, hyperlink, publicity, or promotional materials of any kind,\r\n            whether relating to the Web Properties or otherwise, without our prior, written permission, except\r\n            that a third party website that desires to link to the Web Properties and that complies with the\r\n            requirements of Section 11 (Third Party Content and Third Party Applications) above may use the name\r\n            “CIZO” or the title of any Content in or as part of that link.\r\n            <br><br>\r\n            <b>COPYRIGHT COMPLAINTS</b>.  We own, protect and enforce copyright and other rights in our own intellectual\r\n            property, and respect the intellectual property rights of others. Materials may be made available on or\r\n            through the Web Properties by third parties not within our control, for example, by users who post User\r\n            Content on the Web Properties. It is our policy not to permit materials known by us to be infringing to\r\n            remain on or available through the Web Properties. Please notify us promptly if you believe that any\r\n            materials on or available through the Web Properties infringe on your intellectual property rights or the\r\n            intellectual property rights of anyone else. Once we receive proper notice of claimed infringement under\r\n            the Digital Millennium Copyright Act (the “DMCA”), we will respond promptly to remove the material claimed\r\n            to be infringing and will follow the procedures specified in the DMCA to resolve the claim between the\r\n            notifying party and the alleged infringer who provided the content at issue. When notifying us of potential\r\n            infringement, you must include the following:\r\n            <ul>\r\n                <li>\r\n                    identification of the copyrighted work(s) claimed to have been infringed. If multiple copyrighted\r\n                    works, then a representative list of such works on the Web Properties;\r\n                </li>\r\n                <li>\r\n                    identification of the supposedly infringing material that is to be removed;\r\n                </li>\r\n                <li>\r\n                    information reasonably sufficient to permit us to locate the material on the Web Properties;\r\n                </li>\r\n                <li>\r\n                    contact information reasonably sufficient to permit us to contact the complaining party, such as\r\n                    an address, telephone number, or email address;\r\n                </li>\r\n                <li>\r\n                    a statement that the complaining party has a good faith belief that use of the material is in fact\r\n                    infringing and/or not authorized by the copyright owner, its agent, or the law;\r\n                </li>\r\n                <li>\r\n                    a statement that, under penalty of perjury, the information in the notification is accurate and\r\n                    where relevant that the complaining party is authorized to act on behalf of the copyright owner; and\r\n                </li>\r\n                <li>\r\n                    the signature, physical or electronic, of the copyright owner or a person authorized to act on\r\n                    his or her behalf.\r\n                </li>\r\n            </ul>\r\n\r\n            A provider of content subject to a claim of infringement may make a counter notification. To file a counter\r\n            notification with us, please provide the DMCA Agent a written communication containing the following:\r\n            <ul>\r\n                <li>\r\n                    identification of the supposedly infringing material that is to be removed;\r\n                </li>\r\n                <li>\r\n                    a statement that, under penalty of perjury, you have a good faith belief that the material was\r\n                    removed or disabled as a result of mistake or misidentification of the material to be removed\r\n                    or disabled;\r\n                </li>\r\n                <li>\r\n                    your name, address, and telephone number, and a statement that you consent to the jurisdiction of\r\n                    the Federal District Court for the judicial district in which your postal address is located,\r\n                    and that you will accept service of process from the party who submitted the infringement\r\n                    notification or his, her, or its principal or agent; and\r\n                </li>\r\n                <li>the signature, physical or electronic, of you or a person authorized to act on your behalf.</li>\r\n            </ul>\r\n\r\n            We will promptly provide the party that provided the notice of claimed infringement with a copy of the\r\n            counter notification, and inform the complaining party that we restore the removed or disabled content\r\n            in ten (10) business days. If we do not receive notice that a lawsuit has been filed within ten (10)\r\n            business days after we provide notice of the counter-notification, we will restore the removed or\r\n            disabled materials. Until that time, your materials will remain removed or disabled.\r\n            <br><br>\r\n            Notice of alleged infringement must be sent by electronic mail to our DMCA Agent at app@cizo.com or by\r\n            certified mail and marked “Copyright Infringement” to Iat Wong, Attn: DMCA AGENT.\r\n            <br><br>\r\n            Before filing such a notification, make a careful determination as to whether or not the use of the material\r\n            at issue is or may be protected by the “fair use” doctrine. You could potentially be held liable for costs\r\n            and attorneys’ fees should you file a takedown notice where there is no infringing use. If you are unsure\r\n            whether there is infringement, it may be advisable to seek legal counsel.\r\n            <br><br>\r\n            <b>TERMINATION OF SERVICE</b>. We may terminate your right to access secured portions of the Web Properties\r\n            at any time, without notice, for conduct that we believe violates these Terms and/or is harmful to other\r\n            users of the Web Properties, to us, to our partners, to the contributors, to the business of our Internet\r\n            service provider, or to other information providers.\r\n            <br><br>\r\n            <b>ADDITIONAL REMEDIES</b>.  You acknowledge that your conduct that is inconsistent with the provisions\r\n            of these Terms may cause us irreparable damage for which remedies other than monetary relief may be\r\n            inadequate.  In such instances, you agree that we may seek injunctive or other equitable relief seeking\r\n            to restrain such conduct without the necessity of proving actual harm or posting a bond.\r\n            <br><br>\r\n            <b>GOVERNING LAW AND JURISDICTION</b>. You agree that all matters relating to your access to, or use of,\r\n            this website and our mobile application shall be governed by the laws of the State of Delaware. You agree\r\n            and hereby submit to the exclusive personal jurisdiction and venue of the state and federal courts in\r\n            Delaware, with respect to such matters.\r\n            <br><br>\r\n            <b>LOCAL LAWS</b>.  We make no representation that Content or materials on the Web Properties are\r\n            appropriate or available for use in jurisdictions outside the United States.  Access to the Web Properties\r\n            from jurisdictions where such access is illegal is prohibited.  If you choose to access the Web Properties\r\n            from other jurisdictions, you do so at your own initiative and are responsible for compliance with\r\n            applicable local laws.\r\n            <br><br>\r\n            <b>EXPORT RESTRICTIONS</b>.  Any software and all underlying information and technology downloaded or\r\n            viewed from any Web Property or in connection with the services (collectively, the “Software or Technical\r\n            Data”) by you may be subject to U.S. export controls, including the Export Administration Act (50 U.S.C.\r\n            Appx. §§ 2401 et seq.) and the Export Administration Regulations (50 C.F.R. Parts 730-774), and may be\r\n            subject to export or import regulations in other countries.  You are solely responsible for complying\r\n            with all trade regulations and laws, both foreign and domestic, in your use and viewing of the Web\r\n            Properties, the Content, the User Content, and any of our services, including, but not limited to,\r\n            the Software or Technical Data.  Except as authorized by law, you agree and warrant not to export\r\n            or re-export the Software or Technical Data to any county, or to any person, entity, or end-user\r\n            subject to U.S. export controls, including, but not limited to, persons or entities listed on the U.S.\r\n            Department of Commerce Bureau of Export Administration’s Denied Parties List and the U.S. Department of\r\n            Treasury’s Specially Designated Nationals.  You further represent and warrant that no U.S. federal\r\n            agency has suspended, revoked, or denied your export privileges.\r\n            <br><br>\r\n            <b>PROVISIONS RELATING TO APPLE</b>.  Although you can download the App through the Apple Store App and\r\n            use the App on Apple iPhones, iPods, iPads or other Apple devices, Apple is not responsible for:\r\n            (1) the content of the App; (2) providing maintenance or support services for the App;\r\n            (3) any product warranties, whether express or implied by law, or other warranty obligations;\r\n            (4) any claims, including product liability claims, losses, liabilities, damages, cost,\r\n            or expenses attributable to any failure of the App to conform to any warranty or failure to conform\r\n            to any applicable legal or regulatory requirement, or arising out of consumer protection or other\r\n            similar legislation; and (5) the investigation, defense, settlement and discharge of any intellectual\r\n            property claim brought by a third party against you or CIZO.\r\n            <br><br>\r\n            By agreeing to these Terms, you acknowledge and agree that you are only using the App on an Apple device\r\n            that you own or control, and you are using it as permitted by the Usage Rules set forth in the App Store\r\n            Terms of Service.  You further acknowledge and agree that Apple, and its subsidiaries, will have the right\r\n            (and will be deemed to have accepted the right) to enforce these Terms as a third party beneficiary thereof.\r\n            You represent and warrant to Apple that (i) you are not located in a country that is subject to a\r\n            U.S. Government embargo or that is designated as a “terrorist supporting country”; and (ii) you are not\r\n            listed on any U.S. Government list of prohibited or restricted parties.\r\n\r\n            <b>CUSTOMER COMMENTS</b>. By submitting comments, information or feedback to us through email and/or the\r\n            Web Properties, you agree that the information submitted will be subject to our Privacy Notice\r\n            located at <a ui-sref="privacy">Privacy Notice</a>.\r\n            <br><br>\r\n            <div class="contact-info">\r\n                <span><b>Your Consent To This Agreement</b></span>\r\n                <br>\r\n                <span>\r\n                    By accessing and using the Web Properties, you consent to and agree to be bound by these Terms.\r\n                    If we decide to change these Terms or some part of them, we will make an effort to post those changes\r\n                    on this web page and on our App so that you will always be able to understand and agree to the terms\r\n                    and conditions governing your use of the Web Properties.  Your use of the Web Properties, including,\r\n                    but not limited to, the App, following your acceptance of any amendment of these Terms will signify\r\n                    your assent to and acceptance of its revised terms for all previously collected information and\r\n                    information collected from you in the future. If you have additional questions or comments of any\r\n                    kind, or if you see anything on the Web Properties that you think is inappropriate, please let us\r\n                    know by sending your comments or requests to:\r\n                </span>\r\n\r\n\r\n                <span>CIZO, INC.</span>\r\n                <span>1617 Broadway, Mezz. A</span>\r\n                <span>Santa Monica, CA, 90404</span>\r\n                <span>Phone: (310) 210-4820</span>\r\n                <span>app@cizo.com</span>\r\n                <br><br>\r\n                <span>Copyright © 2016.  CIZO, INC.  All Rights Reserved.</span>\r\n                <br><br>\r\n                <span>Effective as of: March 16, 2016</span>\r\n                <span>Last updated: March 16, 2016</span>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <button class="privacy-form_sign-up" ng-click="closeView()">Confirm</button>\r\n\r\n    </div>\r\n\r\n    <div class="icon-close privacy-form_close" ng-click="closeView()"></div>\r\n</form>');
}]),angular.module("app.services").factory("userServ",userServ),userServ.$inject=["$http","$q","$log","moment","ezfb","storageServ"],angular.module("app.services").factory("videoServ",videoServ),videoServ.$inject=["$http","$q","$log"],angular.module("app.directives").directive("videoSrc",videoSrc),videoSrc.$inject=[],angular.module("app.wrappers",[]).factory("lodash",_lodash),_lodash.$inject=["$log"],angular.module("app.wrappers").factory("moment",_moment),angular.module("app.routerHelper").provider("routerHelper",routerHelperProvider),routerHelperProvider.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"],angular.module("app.routes",[]).constant("routesList",[{state:"register",config:{url:"/register",templateUrl:"views/register/register.html",controller:"RegisterCtrl",controllerAs:"videos"}},{state:"login",config:{url:"/login",templateUrl:"views/login/login.html",controller:"LoginCtrl",controllerAs:"login"}},{state:"reset",config:{url:"/reset",templateUrl:"views/reset/reset.html",controller:"ResetCtrl",controllerAs:"reset"}},{state:"home",config:{url:"",templateUrl:"views/home/home.html",controller:"HomeCtrl",controllerAs:"home"}},{state:"main",config:{url:"/",templateUrl:"views/home/home.html",controller:"HomeCtrl",controllerAs:"home"}},{state:"play",config:{url:"/play/:videoId/:categoryId",templateUrl:"views/play/play.html",controller:"PlayCtrl",controllerAs:"play"}},{state:"list",config:{url:"/list/:listType",templateUrl:"views/list/list.html",controller:"ListCtrl",controllerAs:"list"}},{state:"listTag",config:{url:"/tag/:tagName",templateUrl:"views/list/list.html",controller:"ListCtrl",controllerAs:"list"}},{state:"share",config:{url:"/share/:videoId",templateUrl:"views/share/share.html",controller:"ShareCtrl",controllerAs:"share"}},{state:"shared_play",config:{url:"/videos/:videoId",templateUrl:"views/play/play.html",controller:"PlayCtrl",controllerAs:"play"}},{state:"terms",config:{url:"/terms",templateUrl:"views/terms/terms.html",controller:"TermsCtrl",controllerAs:"terms"}},{state:"privacy",config:{url:"/privacy",templateUrl:"views/privacy/privacy.html",controller:"PrivacyCtrl",controllerAs:"privacy"}},{state:"resetPassword",config:{url:"/resetPassword/:resetToken",templateUrl:"views/reset-password/reset-password.html",controller:"resetPasswordCtrl",controllerAs:"resetPassword"}},{state:"profile",config:{url:"/profile",templateUrl:"views/profile/profile.html",controller:"ProfileCtrl",controllerAs:"profile"}},{state:"contact",config:{url:"/contact",templateUrl:"views/contact/contact.html",controller:"ContactCtrl",controllerAs:"contact"}}]),angular.module("app.services").factory("storageServ",storageServ),storageServ.$inject=["$window"],function(){function e(e,t,r,n,o){function i(i){function l(e){return e.mature_content&&!n.isUnexpiredToken(i.storage.token)}function c(){i.storage.showMatureScreen=!0}function d(){i.itemsOffset=-1*a*i.currentStep+"px"}function u(){var e=i.videosForCategory.length>(i.currentStep+1)*s;e&&(i.currentStep++,d())}function m(e){return o.getIconName(e.id)}function p(){i.currentStep>0&&i.currentStep--,d()}function g(){i.category&&i.category.id?i.videosForCategory=e.filter(i.videos||[],function(e){return e.category_id===i.category.id}):i.videosForCategory=i.videos||[];var t=e.findIndex(i.videosForCategory,function(e){return e===i.selectedVideo});t<0?i.currentStep=0:i.currentStep=Math.trunc(t/s),d()}function y(e,n){var o=void 0;o="true"===i.categoryOnly?{videoId:n.id,categoryId:e.id}:{videoId:n.id},l(n)?(r.loginTarget="play",r.loginTargetParams=o,c()):t.go("play",o)}i=angular.extend(i,{itemsOffset:0,currentStep:0,videosForCategory:[],moveNext:u,movePrev:p,selectVideo:y,replayVideo:y,getIconName:m}),i.$watch("videos",g),i.$watch("selectedVideo",g)}var s=4,a=1232;return{restrict:"E",templateUrl:"components/category-carousel/category-carousel.html",link:i,transclude:!1,scope:{videos:"=",selectedVideo:"=",category:"=",storage:"=",categoryOnly:"@"}}}angular.module("app.directives").directive("categoryCarousel",e),e.$inject=["lodash","$state","$rootScope","userServ","playerServ"]}(),angular.module("app.directives").directive("categoryItems",categoryItems),categoryItems.$inject=["$state","$rootScope","lodash","playerServ","userServ","$timeout"],angular.module("app.directives").directive("featuredCarousel",featuredCarousel),featuredCarousel.$inject=["lodash","userServ"],angular.module("app.directives").directive("featuredSection",featuredSection),featuredSection.$inject=["lodash","$state","playerServ"],angular.module("app.directives").directive("featuredPlayer",featuredPlayer),featuredPlayer.$inject=["$log","$rootScope","moment","lodash","$sce","$timeout","$anchorScroll","$q","$interval","$filter","playerServ","RecursionHelper","userServ"],angular.module("app.directives").directive("listItems",listItems),listItems.$inject=["$state","$rootScope","lodash","playerServ","userServ","$timeout"],angular.module("app.directives").directive("leftSideMenu",leftSideMenu),leftSideMenu.$inject=["$state","userServ"],angular.module("app.directives").directive("loginForm",loginForm),loginForm.$inject=["$rootScope","$state","userServ","storageServ","playerServ"],angular.module("app.directives").directive("messageOverlay",messageOverlay),messageOverlay.$inject=[],angular.module("app.directives").directive("playItems",playItems),playItems.$inject=["$state","$rootScope","lodash","playerServ","userServ","$timeout"],angular.module("app.directives").directive("registerForm",registerForm),registerForm.$inject=["$rootScope","userServ","moment","playerServ","lodash"],function(){angular.module("app.directives").directive("pageFooter",function(){function e(e){}return{restrict:"E",templateUrl:"components/page-footer/page-footer.html",replace:!0,link:e,scope:!1}})}(),angular.module("app.directives").directive("showPlayer",showPlayer),showPlayer.$inject=["$log","moment","lodash","$sce","$timeout","$anchorScroll","$q","$interval","$filter","$state","playerServ","userServ","storageServ"],angular.module("app.directives").directive("topMenu",topMenu),topMenu.$inject=["$state","$rootScope","$anchorScroll","$http","$timeout","$q","$log","playerServ","lodash"],angular.module("app.controls").controller("ContactCtrl",ContactCtrl),ContactCtrl.$inject=["$scope","$state"],angular.module("app.controls").controller("HomeCtrl",HomeCtrl),HomeCtrl.$inject=["$scope","$rootScope","playerServ","userServ","lodash","storageServ"],angular.module("app.controls").controller("ListCtrl",ListCtrl),ListCtrl.$inject=["$scope","$state","$stateParams","$rootScope","userServ","playerServ","lodash"],angular.module("app.controls").controller("PlayCtrl",PlayCtrl),PlayCtrl.$inject=["$scope","$rootScope","$stateParams","lodash","playerServ","userServ"],angular.module("app.controls").controller("LoginCtrl",LoginCtrl),LoginCtrl.$inject=["$scope","$rootScope","$state"],angular.module("app.controls").controller("PrivacyCtrl",PrivacyCtrl),PrivacyCtrl.$inject=["$scope","$state"],angular.module("app.controls").controller("ProfileCtrl",ProfileCtrl),ProfileCtrl.$inject=["$scope","$state","userServ","playerServ"],angular.module("app.controls").controller("RegisterCtrl",RegisterCtrl),RegisterCtrl.$inject=["$scope","$state","$rootScope"],angular.module("app.controls").controller("ResetCtrl",ResetCtrl),ResetCtrl.$inject=["$scope","$rootScope","$state","userServ","playerServ"],angular.module("app.controls").controller("resetPasswordCtrl",resetPasswordCtrl),resetPasswordCtrl.$inject=["$scope","$state","userServ","playerServ","$stateParams"],angular.module("app.controls").controller("ShareCtrl",ShareCtrl),ShareCtrl.$inject=["$scope","$rootScope","$stateParams","lodash","$state","playerServ"],angular.module("app.controls").controller("TermsCtrl",TermsCtrl),TermsCtrl.$inject=["$scope","$state"];
//# sourceMappingURL=ng.min.js.map
