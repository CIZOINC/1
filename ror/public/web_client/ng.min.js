"use strict";function AppCtrl(e,t,n,r){e=angular.extend(e,{title:"Cizo",hostName:"http://staging.cizo.com",categoriesList:[],storage:{storageSeenKey:"seen",seenItems:[]}}),applicationStart(t,n,r)}function applicationStart(e,t,n){e.configureStates(t),n.go("main")}function categoriesServ(e,t,n){function r(r){return t(function(t,s){function a(e){n.info("categories list obtained"),t(e)}function l(e){n.info("categories list obtaining error with status "+e.status),s(e)}e({method:"GET",url:r.hostName+"/categories"}).then(a,l)})}function s(r,s){return t(function(t,a){function l(e){n.info("category data created"),t(e)}function i(e){n.info("category data creation error with status "+e.status),a(e)}e({method:"POST",url:r.hostName+"/categories",data:s}).then(l,i)})}function a(r,s){return t(function(t,a){function l(e){n.info("category data delivered"),t(e)}function i(e){n.info("category data getting error with status "+e.status),a(e)}e({method:"GET",url:r.hostName+"/categories/"+s}).then(l,i)})}function l(r,s,a){return t(function(t,l){function i(e){n.info("category data updated"),t(e)}function o(e){n.info("category data updating error with status "+e.status),l(e)}e({method:"PUT",url:r.hostName+"/categories/"+s,data:a}).then(i,o)})}function i(r,s){return t(function(t,a){function l(e){n.info("category data deleted"),t(e)}function i(e){n.info("category data deleting error with status "+e.status),a(e)}e({method:"DELETE",url:r.hostName+"/categories/"+s}).then(l,i)})}return{getCategoriesList:r,makeCategory:s,getCategory:a,setCategory:l,deleteCategory:i}}function playerServ(e){function t(){return!document.fullscreenElement&&!document.mozFullScreenElement&&null!==document.webkitFullscreenElement&&!document.msFullscreenElement}function n(n){return e(function(e){var r=t();r?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():$document.msExitFullscreen&&document.msExitFullscreen(),e()):(n.screen.requestFullscreen?n.screen.requestFullscreen():n.screen.mozRequestFullScreen?n.screen.mozRequestFullScreen():n.screen.webkitRequestFullScreen?n.screen.webkitRequestFullScreen():n.screen.msRequestFullscreen&&n.screen.msRequestFullscreen(),e())})}function r(e,t){if(e&&e.id){var n=e.id,r=void 0,s=_.findIndex(t,function(e){return e.id===n});return s>0&&(r=t[s-1]),r}}function s(e,t){if(e){var n=e.id,r=void 0,s=_.findIndex(t,function(e){return e.id===n});return s+1<t.length&&(r=t[s+1]),r}}return{toggleFullScreen:n,getElementFullscreenState:t,getPreviousVideo:r,getNextVideo:s}}function videoSrc(){return{restrict:"A",link:{pre:function(e,t,n){function r(){if(s&&s.length){for(var t=0,n=s.length;n>t;t++)if(a=l[0].canPlayType(s[t].type),"maybe"==a||"probably"==a){l.attr("src",s[t].src),l.attr("type",s[t].type);break}""==a&&e.$emit("onVideoError",{type:"Can't play file"})}}var s,a,l=t;e.$watch(n.videoSrc,function(e,t){s&&e==t||(s=e,r())})}}}}function _lodash(e){return _}function _moment(){return moment}function routerHelperProvider(e,t,n){function r(e){function r(e,r){for(var s=0;s<e.length;s++)t.state(e[s].state,e[s].config);r&&!a&&(a=!0,n.otherwise(r))}function s(){return e.get()}var a=!1;return{configureStates:r,getStates:s}}this.$get=r,r.$inject=["$state"]}function storageServ(e){function t(t){return JSON.parse(e.localStorage.getItem(t))}function n(t,n){e.localStorage.setItem(t,JSON.stringify(n))}function r(t){e.localStorage.removeItem(t)}return{getItem:t,setItem:n,deleteItem:r}}function featuredPlayer(e,t,n,r,s,a,l,i,o){function c(c,d,u){function y(){return{start:0,value:0,options:{floor:0,ceil:500,hideLimitLabels:!0,onChange:function(){console.log("change to "+c.sliderModel.value),c.screen.currentTime=c.sliderModel.value}}}}function p(e,t){e&&e.stopPropagation(),M(t)}function m(){c.isIntermissionState=!0,P(),I(!0),c.intermissionCountdownValue=0,c.intermissionStopTimer=i(function(){c.intermissionCountdownValue++,c.intermissionCountdownValue>c.intermissionCountdownMax&&(i.cancel(c.intermissionStopTimer),c.playNextVideo())},50)}function _(e,t){e&&e.stopPropagation(),t&&(c.isIntermissionPaused=!1,c.intermissionStopTimer&&i.cancel(c.intermissionStopTimer)),c.isIntermissionPaused?(c.intermissionStopTimer=i(function(){c.intermissionCountdownValue++,c.intermissionCountdownValue>c.intermissionCountdownMax&&(i.cancel(c.intermissionStopTimer),c.playNextVideo())},50),c.isIntermissionPaused=!1):(c.intermissionStopTimer&&i.cancel(c.intermissionStopTimer),c.isIntermissionPaused=!0)}function v(e){e&&e.stopPropagation(),o.getElementFullscreenState()&&q(),c.featuredPlayer.classList.add("hidden-layer"),c.screen.pause()}function g(){if(c.video){var e=c.video.id,t=void 0,r=n.findIndex(c.filteredList,function(t){return t.id===e});return r+1<c.filteredList.length&&(t=c.filteredList[r+1]),t||(t=c.feedList[0]),t}}function f(e){e&&e.stopPropagation(),_(void 0,!0);var t=g();t&&t.featured?(c.screen.pause(),o.getElementFullscreenState()&&q(!0),c.video=t,c.isIntermissionState=!1,I(!1),s(function(){c.screen.play()},500)):(c.screen.pause(),c.featuredPlayer.classList.add("hidden-layer"),c.feedList[0].isWatching=!0)}function h(e){e&&e.stopPropagation(),_(void 0,!0);var t=b(c.video,c.filteredList);t&&(c.screen.pause(),o.getElementFullscreenState()&&q(!0),c.video=t,c.isIntermissionState=!1,I(!1),s(function(){c.screen.play()},500))}function b(){if(c.video&&c.video.id){var e=c.video.id,t=void 0,r=n.findIndex(c.filteredList,function(t){return t.id===e});return r>0&&(t=c.filteredList[r-1]),t}}function L(){var e=3e3;c.waitingTimer&&s.cancel(c.waitingTimer),V(!1),c.topElementsRightSide.classList.remove("hidden-layer"),c.buttonLayer.classList.add("player_buttons-layer--hover"),c.waitingTimer=s(function(){V(!0),c.topElementsRightSide.classList.add("hidden-layer"),c.buttonLayer.classList.remove("player_buttons-layer--hover")},e)}function S(e){var t={11:"movie",12:"tv",13:"games",14:"lifestyle"};return"featured-player_buttons-layer_bottom-elements_titles_current_category icon-category"+r.trustAsHtml(t[String(e)])}function x(e){var n=t(e),r=t();return r.to(n)}function w(){V(!1),c.topElementsRightSide.classList.remove("hidden-layer"),o.getElementFullscreenState()&&c.isIntermissionState?c.buttonLayer.classList.remove("featured-player_buttons-layer--hover"):c.buttonLayer.classList.add("featured-player_buttons-layer--hover")}function P(){V(!0),c.topElementsRightSide.classList.add("hidden-layer"),c.buttonLayer.classList.remove("featured-player_buttons-layer--hover")}function q(e){return e&&e.stopPropagation(),l(function(e){o.toggleFullScreen(c).then(function(){var t=o.getElementFullscreenState();E(t),e()})})}function V(e){if(!c.isIntermissionState){var t="undefined"!=typeof e?!e:c.controlsOverlayLayer.classList.contains("hidden-layer");s(function(){c.$broadcast("rzSliderForceRender")}),c.imageLayer.classList.contains("hidden-layer")&&(t?(T(!0),$(c.screen.paused?!1:!0)):T(!1))}}function C(t){return t&&t.stopPropagation(),c.isIntermissionState?(c.isIntermissionState=!1,_(void 0,!0),void f()):(F(!0),s(function(){c.$broadcast("rzSliderForceRender")}),void(c.screen.paused?(c.screen.play(),e.info("start playing"),$(!0)):(c.screen.pause(),e.info("set to pause"),$(!1))))}function k(e){return e?"add":"remove"}function $(e){c.pauseButton.classList[k(!e)]("hidden-layer"),c.playButton.classList[k(e)]("hidden-layer")}function F(e){d[0].classList[k(e)]("featured-player--play-state"),c.currentTitle.classList[k(e)]("featured-player_buttons-layer_bottom-elements_titles_current_title--play-state"),c.currentBlock.classList[k(e)]("featured-player_buttons-layer_bottom-elements_titles_current--play-state"),c.titlesOverlayLayer.classList[k(!e)]("featured-player_buttons-layer_bottom-elements_titles--hero-image"),c.titlesOverlayLayer.classList[k(!e)]("hidden-layer"),c.controlsOverlayLayer.classList[k(!e)]("hidden-layer"),c.nextVideoLayer.classList[k(!e)]("hidden-layer")}function T(e){c.titlesOverlayLayer.classList[k(!e)]("hidden-layer"),c.controlsOverlayLayer.classList[k(!e)]("hidden-layer"),c.playButton.classList[k(!e)]("hidden-layer"),c.pauseButton.classList[k(!e)]("hidden-layer"),c.topElementsRightSide.classList[k(!e)]("hidden-layer"),c.buttonLayer.classList[k(e)]("featured-player_buttons-layer--show-buttons"),e?c.topElementsClose.classList[k(!e)]("hidden-layer"):c.topElementsClose.classList.add("hidden-layer")}function E(e){c.descriptionLayer.classList[k(e)]("featured-player_description-layer--fullscreen"),c.buttonLayer.classList[k(e)]("featured-player_buttons-layer--fullscreen"),c.buttonLayer.classList[k(!e)]("featured-player_buttons-layer--hover"),c.topElementsClose.classList[k(!e)]("hidden-layer"),c.expandButton.classList[k(e)]("hidden-layer"),c.collapseButton.classList[k(!e)]("hidden-layer")}function I(e){c.buttonLayer.classList.remove("player_buttons-layer--hover"),c.buttonLayer.classList[k(e)]("featured-player_buttons-layer--intermission"),c.prevButton.classList[k(!e)]("hidden-layer"),c.nextButton.classList[k(!e)]("hidden-layer"),c.countDown.classList[k(!e)]("hidden-layer"),c.intermissionTitle.classList[k(!e)]("hidden-layer"),c.intermissionPause.classList[k(!e)]("hidden-layer"),c.titlesOverlayLayer.classList[k(e)]("hidden-layer"),c.controlsOverlayLayer.classList[k(e)]("hidden-layer"),c.imageNextLayer.classList[k(!e)]("hidden-layer"),c.videoLayer.classList[k(e)]("hidden-layer"),$(!1)}function M(e){c.descriptionLayer.classList[k(!e)]("hidden-layer"),c.titlesOverlayLayer.classList[k(e)]("hidden-layer"),o.getElementFullscreenState()?c.buttonLayer.classList[k(!e)]("featured-player_buttons-layer--fullscreen"):c.buttonLayer.classList[k(!1)]("featured-player_buttons-layer--fullscreen"),c.video.isWatching?c.controlsOverlayLayer.classList[k(e)]("hidden-layer"):c.controlsOverlayLayer.classList[k(!0)]("hidden-layer"),c.topElementsRightSide.classList[k(e)]("hidden-layer"),e?(c.playButton.classList[k(e)]("hidden-layer"),c.pauseButton.classList[k(e)]("hidden-layer")):$(c.screen.paused?!1:!0)}c=angular.extend(c,{isIntermissionState:!1,isIntermissionPaused:!1,intermissionCountdownValue:0,intermissionCountdownMax:100,screenList:angular.element(d[0].querySelector("div.video-layer video")),screen:angular.element(d[0].querySelector("div.video-layer video"))[0],sliderModel:new y,featuredPlayer:angular.element(document.querySelector("featured-player"))[0],titlesOverlayLayer:angular.element(d[0].querySelector(".featured-player_buttons-layer_bottom-elements_titles"))[0],controlsOverlayLayer:angular.element(d[0].querySelector(".featured-player_buttons-layer_bottom-elements_controls"))[0],topElementsLayer:angular.element(d[0].querySelector(".featured-player_buttons-layer_top-elements"))[0],topElementsClose:angular.element(d[0].querySelector(".featured-player_buttons-layer_top-elements_close-button"))[0],topElementsRightSide:angular.element(d[0].querySelector(".featured-player_buttons-layer_top-elements_rightside"))[0],currentTitle:angular.element(d[0].querySelector(".featured-player_buttons-layer_bottom-elements_titles_current_title"))[0],currentBlock:angular.element(d[0].querySelector(".featured-player_buttons-layer_bottom-elements_titles_current"))[0],buttonLayer:angular.element(d[0].querySelectorAll(".featured-player_buttons-layer"))[0],videoLayer:angular.element(d[0].querySelector("div.video-layer"))[0],nextVideoLayer:angular.element(d[0].querySelector(".featured-player_buttons-layer_bottom-elements_titles_next"))[0],imageLayer:angular.element(d[0].querySelector("div.hero-image-layer"))[0],imageNextLayer:angular.element(d[0].querySelector("div.featured-player_hero-image-layer-next"))[0],descriptionLayer:angular.element(d[0].querySelector("div.featured-player_description-layer"))[0],playButton:angular.element(d[0].querySelector(".featured-player_buttons-layer_center-elements_play-button"))[0],pauseButton:angular.element(d[0].querySelector(".featured-player_buttons-layer_center-elements_pause-button"))[0],prevButton:angular.element(d[0].querySelector(".featured-player_buttons-layer_center-elements_prev"))[0],nextButton:angular.element(d[0].querySelector(".featured-player_buttons-layer_center-elements_next"))[0],countDown:angular.element(d[0].querySelector(".featured-player_buttons-layer_center-elements_group_controls_progress"))[0],intermissionTitle:angular.element(d[0].querySelector(".featured-player_buttons-layer_center-elements_group_title"))[0],intermissionPause:angular.element(d[0].querySelector(".featured-player_buttons-layer_center-elements_group_bottom"))[0],slider:angular.element(d[0].querySelector(".featured-player_buttons-layer_bottom-elements_controls_slider"))[0],expandButton:angular.element(d[0].querySelector(".featured-player_buttons-layer_bottom-elements_controls_expand"))[0],collapseButton:angular.element(d[0].querySelector(".featured-player_buttons-layer_bottom-elements_controls_collapse"))[0],togglePlayPause:C,imageHover:w,imageBlur:P,toggleFullScreen:q,toggleControlsVisibility:V,toggleDescription:p,setIntermission:m,pauseIntermissionToggle:_,closeFeatured:v,nextVideo:g(),playNextVideo:f,getNextVideo:g,playPreviousVideo:h,getPreviousVideo:b,showControlsOnMove:L}),a.yOffset=150,c.screenList.bind("timeupdate",function(){c.timePassed=t().startOf("year").add(c.screen.currentTime,"s").format("mm:ss"),c.duration=t().startOf("year").add(c.screen.duration,"s").format("mm:ss"),c.sliderModel.value=c.screen.currentTime,c.sliderModel.options.ceil=c.screen.duration,c.$apply()}),c.screenList.bind("ended",function(){o.getElementFullscreenState()?q().then(function(){c.setIntermission()}):c.setIntermission()}),c.$watch("video",function(e,t){c.video&&c.video.streams&&(c.sources=c.video.streams.map(function(e){return{src:r.trustAsResourceUrl(e.link),type:"video/"+e.stream_type}}),c.iconTitle=c.video&&c.video.category_id?S(c.video.category_id):"",c.createdDate=c.video&&c.video.created_at?x(c.video.created_at):void 0,c.nextVideo=g(),s(function(){c.featuredPlayer.classList.contains("hidden-layer")||(C(),a("featured-player"))}))})}return{restrict:"E",templateUrl:"components/featured-player/featuredPlayer.html",link:c,transclude:!0,scope:{video:"=",filteredList:"=",feedList:"="}}}function menu(e,t,n,r){function s(s){function a(e,t,n){e?t.classList.add(n):t.classList.remove(n)}function l(e){var t="undefined"!=typeof e?e:s.isMenuVisible;t?(s.isMenuVisible=!1,s.menuContainer.classList.remove("menu_container--menu-visible"),s.navbar.classList.remove("navbar--menu-visible"),s.menuContainerOuter.classList.remove("menu_container_outer--menu-visible"),s.categoriesPanel.classList.remove("categories-panel--menu-visible")):(s.isMenuVisible=!0,s.menuContainer.classList.add("menu_container--menu-visible"),s.navbar.classList.add("navbar--menu-visible"),s.menuContainerOuter.classList.add("menu_container_outer--menu-visible"),s.categoriesPanel.classList.add("categories-panel--menu-visible"))}function i(e){s.searchText="",s.searchResult=[],s.searchedVideo=e,o(!1)}function o(e){a(!e,s.searchMenu,"hidden-layer"),a(!e,s.searchResults,"hidden-layer"),a(e,s.mainMenu,"hidden-layer"),e&&s.searchInput.focus()}function c(){s.searchText="",s.searchResult=[],s.searchInput.focus()}function d(r){return t(function(t){function a(e){n.info("search list obtained"),t(e)}function l(e){n.info("search list obtaining error with status "+e.status),reject(e)}e({method:"GET",url:s.host+"/search?search="+r}).then(a,l)})}function u(){s.searchText.length>2&&s.debouncedSearch()}function y(e){var t={11:"movie",12:"tv",13:"games",14:"lifestyle"};return r.trustAsHtml(t[String(e)])}var p=600;s=angular.extend(s,{isMenuVisible:!1,searchText:"",searchResult:[],menuContainer:document.querySelector(".menu_container"),navbar:document.querySelector(".navbar"),menuContainerOuter:document.querySelector(".menu_container_outer"),categoriesPanel:document.querySelector(".categories-panel"),mainMenu:document.querySelector(".navbar-main"),searchMenu:document.querySelector(".navbar_search"),searchResults:document.querySelector(".search-results"),backToMainButton:document.querySelector(".navbar_search_back"),searchInput:document.querySelector(".navbar_search_input"),clearSearchButton:document.querySelector(".navbar_search_clear"),toggleMenu:l,toggleMenuType:o,searchItemClick:i,clearSearchInput:c,searchInputUpdate:u,categoryIconMap:y,debouncedSearch:_.debounce(function(){d(s.searchText).then(function(e){s.searchResult=e.data.data})},p)})}return{restrict:"E",templateUrl:"components/menu/menu.html",link:s,transclude:!1,scope:{host:"=",searchedVideo:"="}}}function player(e,t,n,r,s,a,l,i,o){function c(c,d,u){function y(){return{start:0,value:0,options:{floor:0,ceil:500,hideLimitLabels:!0,onChange:function(){console.log("change to "+c.sliderModel.value),c.screen.currentTime=c.sliderModel.value}}}}function p(e,t){if(!c.video.isSeen){var n=10;e>=t-n&&(c.video.isSeen=!0,c.storage.seenItems.push(c.video.id),o.setItem(c.storage.storageSeenKey,c.storage.seenItems))}}function m(){c.nextVideo?c.nextVideoBackground="background-image: url("+c.nextVideo.hero_images.hero_image_link+")":c.nextVideoBackground="display: none"}function _(e,t){e&&e.stopPropagation(),R(t)}function v(){c.isIntermissionState=!0,c.video.isWatching=!1,O(!0),c.intermissionCountdownValue=0,c.intermissionStopTimer=i(function(){c.intermissionCountdownValue++,c.intermissionCountdownValue>c.intermissionCountdownMax&&(i.cancel(c.intermissionStopTimer),c.playNextVideo())},50)}function g(e,t){e&&e.stopPropagation(),t&&(c.isIntermissionPaused=!1,c.intermissionStopTimer&&i.cancel(c.intermissionStopTimer)),c.isIntermissionPaused?(c.intermissionStopTimer=i(function(){c.intermissionCountdownValue++,c.intermissionCountdownValue>c.intermissionCountdownMax&&(i.cancel(c.intermissionStopTimer),c.playNextVideo())},50),c.isIntermissionPaused=!1):(c.intermissionStopTimer&&i.cancel(c.intermissionStopTimer),c.isIntermissionPaused=!0)}function f(){if(c.video){var e=c.video.id,t=void 0,r=n.findIndex(c.filteredList,function(t){return t.id===e});return r+1<c.filteredList.length&&(t=c.filteredList[r+1]),t}}function h(e){e&&e.stopPropagation(),g(void 0,!0);var t=f();t&&(c.screen.pause(),V()?C(!0).then(function(){a("player"+t.id)}):a("player"+t.id),$(),t.isWatching=!0)}function b(e){e&&e.stopPropagation(),g(void 0,!0);var t=L();t&&(c.screen.pause(),V()?C(!0).then(function(){a("player"+t.id)}):a("player"+t.id),$(),t.isWatching=!0)}function L(){var e=c.video.id,t=void 0,r=n.findIndex(c.filteredList,function(t){return t.id===e});return r>0&&(t=c.filteredList[r-1]),t}function S(){var e=3e3;c.waitingTimer&&s.cancel(c.waitingTimer),k(!1),c.topElementsRightSide.classList.remove("hidden-layer"),c.buttonLayer.classList.add("player_buttons-layer--hover"),c.waitingTimer=s(function(){k(!0),c.topElementsRightSide.classList.add("hidden-layer"),c.buttonLayer.classList.remove("player_buttons-layer--hover")},e)}function x(e){var t={11:"movie",12:"tv",13:"games",14:"lifestyle"};return r.trustAsHtml(t[String(e)])}function w(e){var n=t(e),r=t();return r.to(n)}function P(){k(!1),c.topElementsRightSide.classList.remove("hidden-layer"),V()||c.isIntermissionState?c.buttonLayer.classList.remove("player_buttons-layer--hover"):c.buttonLayer.classList.add("player_buttons-layer--hover")}function q(){k(!0),c.topElementsRightSide.classList.add("hidden-layer"),c.buttonLayer.classList.remove("player_buttons-layer--hover")}function V(){return!document.fullscreenElement&&!document.mozFullScreenElement&&null!==document.webkitFullscreenElement&&!document.msFullscreenElement}function C(e){return e&&e.stopPropagation&&e.stopPropagation(),l(function(e){var t=V();c.video.isWatching&&(t?(B(!1),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():$document.msExitFullscreen&&document.msExitFullscreen(),e()):(B(!0),c.screen.requestFullscreen?c.screen.requestFullscreen():c.screen.mozRequestFullScreen?c.screen.mozRequestFullScreen():c.screen.webkitRequestFullScreen?c.screen.webkitRequestFullScreen():c.screen.msRequestFullscreen&&c.screen.msRequestFullscreen(),e()))})}function k(e){if(!c.isIntermissionState){var t="undefined"!=typeof e?!e:c.controlsOverlayLayer.classList.contains("hidden-layer");s(function(){c.$broadcast("rzSliderForceRender")}),c.imageLayer.classList.contains("hidden-layer")&&(t?(M(!0),E(c.screen.paused?!1:!0)):M(!1))}}function $(){function e(e,t,r){n.each(angular.element(document.querySelectorAll(t)),function(t){t.classList[e](r)})}e("remove","player","player--play-state"),e("add","player .video-layer","hidden-layer"),e("remove","player .hero-image-layer","hidden-layer"),e("add",".player_buttons-layer_bottom-elements_titles","player_buttons-layer_bottom-elements_titles--hero-image"),e("add",".player_buttons-layer_bottom-elements_controls","hidden-layer"),e("add",".player_buttons-layer_bottom-elements_titles_next","hidden-layer"),e("remove",".player_buttons-layer_center-elements_play-button","hidden-layer"),e("add",".player_buttons-layer_center-elements_pause-button","hidden-layer"),e("remove",".player_buttons-layer","player_buttons-layer--fullscreen"),e("remove",".player_buttons-layer_bottom-elements_titles_current_title","player_buttons-layer_bottom-elements_titles_current_title--play-state"),e("remove",".player_buttons-layer_bottom-elements_titles_current","player_buttons-layer_bottom-elements_titles_current--play-state"),e("remove",".player_buttons-layer","player_buttons-layer--intermission"),e("add",".player_buttons-layer_center-elements_prev","hidden-layer"),e("add",".player_buttons-layer_center-elements_next","hidden-layer"),e("add",".player_buttons-layer_center-elements_group_controls_progress","hidden-layer"),e("add",".player_buttons-layer_center-elements_group_title","hidden-layer"),e("add",".player_buttons-layer_center-elements_group_bottom","hidden-layer"),e("add",".player_hero-image-layer-next","hidden-layer"),e("add",".player_description-layer","hidden-layer"),e("remove",".player_buttons-layer_bottom-elements_titles","hidden-layer"),n.each(angular.element(document.querySelectorAll("video")),function(e){e.pause()}),n.each(c.filteredList,function(e){e.isWatching=!1;var t=document.querySelectorAll("#player"+e.id+" .player_buttons-layer")[0],n=angular.element(t.querySelector(".player_buttons-layer_center-elements_play-button"))[0],r=angular.element(t.querySelector(".player_buttons-layer_center-elements_pause-button"))[0],s=angular.element(t.querySelector(".player_buttons-layer_center-elements_replay-button"))[0];e.isSeen?(t.classList.add("player_buttons-layer--replay"),n.classList.add("hidden-layer"),r.classList.add("hidden-layer"),s.classList.remove("hidden-layer")):(t.classList.remove("player_buttons-layer--replay"),s.classList.add("hidden-layer"))})}function F(t){return t&&t.stopPropagation(),c.isIntermissionState?(c.isIntermissionState=!1,g(void 0,!0),void h()):(c.video.isWatching||$(),c.videoLayer.classList.contains("hidden-layer")&&(c.videoLayer.classList.remove("hidden-layer"),c.imageLayer.classList.add("hidden-layer"),!c.video.isWatching)?void(c.video.isWatching=!0):(I(!0),s(function(){c.$broadcast("rzSliderForceRender")}),void(c.screen.paused?(c.screen.play(),e.info("start playing"),E(!0)):(c.screen.pause(),e.info("set to pause"),E(!1)))))}function T(e){return e?"add":"remove"}function E(e){c.pauseButton.classList[T(!e)]("hidden-layer"),c.playButton.classList[T(e)]("hidden-layer")}function I(e){d[0].classList[T(e)]("player--play-state"),c.currentTitle.classList[T(e)]("player_buttons-layer_bottom-elements_titles_current_title--play-state"),c.currentBlock.classList[T(e)]("player_buttons-layer_bottom-elements_titles_current--play-state"),c.titlesOverlayLayer.classList[T(!e)]("player_buttons-layer_bottom-elements_titles--hero-image"),c.titlesOverlayLayer.classList[T(!e)]("hidden-layer"),c.controlsOverlayLayer.classList[T(!e)]("hidden-layer"),c.nextVideoLayer.classList[T(!e)]("hidden-layer"),c.replayButton.classList[T(e)]("hidden-layer"),c.buttonLayer.classList[T(!e)]("player_buttons-layer--replay")}function M(e){c.titlesOverlayLayer.classList[T(!e)]("hidden-layer"),c.controlsOverlayLayer.classList[T(!e)]("hidden-layer"),c.playButton.classList[T(!e)]("hidden-layer"),c.pauseButton.classList[T(!e)]("hidden-layer"),c.topElementsRightSide.classList[T(!e)]("hidden-layer"),c.buttonLayer.classList[T(e)]("player_buttons-layer--show-buttons"),V()&&e?c.topElementsClose.classList[T(!e)]("hidden-layer"):c.topElementsClose.classList.add("hidden-layer")}function B(e){c.descriptionLayer.classList[T(e)]("player_description-layer--fullscreen"),c.buttonLayer.classList[T(e)]("player_buttons-layer--fullscreen"),c.buttonLayer.classList[T(!e)]("player_buttons-layer--hover"),c.topElementsClose.classList[T(!e)]("hidden-layer"),c.expandButton.classList[T(e)]("hidden-layer"),c.collapseButton.classList[T(!e)]("hidden-layer")}function O(e){c.buttonLayer.classList.remove("player_buttons-layer--hover"),c.buttonLayer.classList[T(e)]("player_buttons-layer--intermission"),c.prevButton.classList[T(!e)]("hidden-layer"),c.nextButton.classList[T(!e)]("hidden-layer"),c.countDown.classList[T(!e)]("hidden-layer"),c.intermissionTitle.classList[T(!e)]("hidden-layer"),c.intermissionPause.classList[T(!e)]("hidden-layer"),c.titlesOverlayLayer.classList[T(e)]("hidden-layer"),c.controlsOverlayLayer.classList[T(e)]("hidden-layer"),c.imageNextLayer.classList[T(!e)]("hidden-layer"),c.videoLayer.classList[T(e)]("hidden-layer"),E(!1)}function R(e){c.descriptionLayer.classList[T(!e)]("hidden-layer"),c.titlesOverlayLayer.classList[T(e)]("hidden-layer"),V()?c.buttonLayer.classList[T(!e)]("player_buttons-layer--fullscreen"):c.buttonLayer.classList[T(!1)]("player_buttons-layer--fullscreen"),c.video.isWatching?c.controlsOverlayLayer.classList[T(e)]("hidden-layer"):c.controlsOverlayLayer.classList[T(!0)]("hidden-layer"),c.topElementsRightSide.classList[T(e)]("hidden-layer"),e?(c.playButton.classList[T(e)]("hidden-layer"),c.pauseButton.classList[T(e)]("hidden-layer"),c.replayButton.classList[T(e)]("hidden-layer")):c.video.isSeen?c.replayButton.classList[T(!1)]("hidden-layer"):E(c.screen.paused?!1:!0)}function N(e){c.buttonLayer.classList[T(e)]("player_buttons-layer--replay"),c.isWatching?c.replayButton.classList[T(!0)]("hidden-layer"):(c.replayButton.classList[T(!e)]("hidden-layer"),e?(c.playButton.classList[T(!0)]("hidden-layer"),c.pauseButton.classList[T(!0)]("hidden-layer")):E(c.screen.paused?!1:!0))}if(c=angular.extend(c,{isIntermissionState:!1,iconTitle:c.video&&c.video.category_id?x(c.video.category_id):"",createdDate:c.video&&c.video.created_at?w(c.video.created_at):void 0,intermissionCountdownValue:0,intermissionCountdownMax:100,screenList:angular.element(d[0].querySelector("div.video-layer video")),screen:angular.element(d[0].querySelector("div.video-layer video"))[0],sliderModel:new y,titlesOverlayLayer:angular.element(d[0].querySelector(".player_buttons-layer_bottom-elements_titles"))[0],controlsOverlayLayer:angular.element(d[0].querySelector(".player_buttons-layer_bottom-elements_controls"))[0],topElementsLayer:angular.element(d[0].querySelector(".player_buttons-layer_top-elements"))[0],topElementsClose:angular.element(d[0].querySelector(".player_buttons-layer_top-elements_close-button"))[0],topElementsRightSide:angular.element(d[0].querySelector(".player_buttons-layer_top-elements_rightside"))[0],currentTitle:angular.element(d[0].querySelector(".player_buttons-layer_bottom-elements_titles_current_title"))[0],currentBlock:angular.element(d[0].querySelector(".player_buttons-layer_bottom-elements_titles_current"))[0],buttonLayer:angular.element(d[0].querySelectorAll(".player_buttons-layer"))[0],videoLayer:angular.element(d[0].querySelector("div.video-layer"))[0],nextVideoLayer:angular.element(d[0].querySelector(".player_buttons-layer_bottom-elements_titles_next"))[0],imageLayer:angular.element(d[0].querySelector("div.hero-image-layer"))[0],imageNextLayer:angular.element(d[0].querySelector("div.player_hero-image-layer-next"))[0],descriptionLayer:angular.element(d[0].querySelector("div.player_description-layer"))[0],playButton:angular.element(d[0].querySelector(".player_buttons-layer_center-elements_play-button"))[0],pauseButton:angular.element(d[0].querySelector(".player_buttons-layer_center-elements_pause-button"))[0],replayButton:angular.element(d[0].querySelector(".player_buttons-layer_center-elements_replay-button"))[0],prevButton:angular.element(d[0].querySelector(".player_buttons-layer_center-elements_prev"))[0],nextButton:angular.element(d[0].querySelector(".player_buttons-layer_center-elements_next"))[0],countDown:angular.element(d[0].querySelector(".player_buttons-layer_center-elements_group_controls_progress"))[0],intermissionTitle:angular.element(d[0].querySelector(".player_buttons-layer_center-elements_group_title"))[0],intermissionPause:angular.element(d[0].querySelector(".player_buttons-layer_center-elements_group_bottom"))[0],slider:angular.element(d[0].querySelector(".player_buttons-layer_bottom-elements_controls_slider"))[0],expandButton:angular.element(d[0].querySelector(".player_buttons-layer_bottom-elements_controls_expand"))[0],collapseButton:angular.element(d[0].querySelector(".player_buttons-layer_bottom-elements_controls_collapse"))[0],togglePlayPause:F,imageHover:P,imageBlur:q,toggleFullScreen:C,toggleControlsVisibility:k,toggleDescription:_,setIntermission:v,pauseIntermissionToggle:g,nextVideo:f(),playNextVideo:h,getNextVideo:f,playPreviousVideo:b,getPreviousVideo:L,showControlsOnMove:S}),a.yOffset=150,m(),c.screenList.bind("timeupdate",function(){c.timePassed=t().startOf("year").add(c.screen.currentTime,"s").format("mm:ss"),c.duration=t().startOf("year").add(c.screen.duration,"s").format("mm:ss"),c.sliderModel.value=c.screen.currentTime,c.sliderModel.options.ceil=c.screen.duration,c.$apply(),p(c.screen.currentTime,c.screen.duration)}),c.screenList.bind("ended",function(){V()?C().then(function(){c.nextVideo&&c.setIntermission()}):c.nextVideo&&c.setIntermission()}),c.$watch("filteredList",function(e,t){if(!angular.equals(e,t)){c.nextVideo=f(),m();var r=n.find(c.filteredList,function(e){return c.video.id===e.id});r.isWatching&&c.togglePlayPause()}}),c.$watch("video.isWatching",function(e,t){angular.equals(e,t)||c.video.isWatching&&(c.togglePlayPause(),c.needFullscreen&&C())}),c.video&&c.video.streams){var z=n.find(c.video.streams,function(e){return"mp4"===e.stream_type});c.videoLink=r.trustAs(r.RESOURCE_URL,z.link)}N(c.video.isSeen)}return{restrict:"E",templateUrl:"components/player/player.html",link:c,transclude:!0,scope:{video:"=",filteredList:"=",storage:"="}}}function searchedPlayer(e,t,n,r,s,a,l,i,o){function c(n,i,c){function d(){return{start:0,value:0,options:{floor:0,ceil:500,hideLimitLabels:!0,onChange:function(){console.log("change to "+n.sliderModel.value),n.screen.currentTime=n.sliderModel.value}}}}function u(e,t){e&&e.stopPropagation(),q(t)}function y(){var e=3e3;n.waitingTimer&&s.cancel(n.waitingTimer),h(!1),n.topElementsRightSide.classList.remove("hidden-layer"),n.buttonLayer.classList.add("player_buttons-layer--hover"),n.waitingTimer=s(function(){h(!0),n.topElementsRightSide.classList.add("hidden-layer"),n.buttonLayer.classList.remove("player_buttons-layer--hover")},e)}function p(e){e&&e.stopPropagation(),n.screen.pause(),o.getElementFullscreenState()?f().then(function(){n.video=void 0}):n.video=void 0}function m(e){var t={11:"movie",12:"tv",13:"games",14:"lifestyle"};return"searched-player_buttons-layer_bottom-elements_titles_current_category icon-category"+r.trustAsHtml(t[String(e)])}function _(e){var n=t(e),r=t();return r.to(n)}function v(){h(!1),n.topElementsRightSide.classList.remove("hidden-layer"),o.getElementFullscreenState()&&n.isIntermissionState?n.buttonLayer.classList.remove("searched-player_buttons-layer--hover"):n.buttonLayer.classList.add("searched-player_buttons-layer--hover")}function g(){h(!0),n.topElementsRightSide.classList.add("hidden-layer"),n.buttonLayer.classList.remove("searched-player_buttons-layer--hover")}function f(e){
return e&&e.stopPropagation(),l(function(e){o.toggleFullScreen(n).then(function(){var t=o.getElementFullscreenState();P(t),e()})})}function h(e){var t="undefined"!=typeof e?!e:n.controlsOverlayLayer.classList.contains("hidden-layer");s(function(){n.$broadcast("rzSliderForceRender")}),t?(w(!0),S(n.screen.paused?!1:!0)):w(!1)}function b(t){return t&&t.stopPropagation(),n.isIntermissionState?(n.isIntermissionState=!1,pauseIntermissionToggle(void 0,!0),void playNextVideo()):(x(!0),s(function(){n.$broadcast("rzSliderForceRender")}),void(n.screen.paused?(n.screen.play(),e.info("start playing"),S(!0)):(n.screen.pause(),e.info("set to pause"),S(!1))))}function L(e){return e?"add":"remove"}function S(e){n.pauseButton.classList[L(!e)]("hidden-layer"),n.playButton.classList[L(e)]("hidden-layer")}function x(e){i[0].classList[L(e)]("searched-player--play-state"),n.currentTitle.classList[L(e)]("searched-player_buttons-layer_bottom-elements_titles_current_title--play-state"),n.currentBlock.classList[L(e)]("searched-player_buttons-layer_bottom-elements_titles_current--play-state"),n.titlesOverlayLayer.classList[L(!e)]("searched-player_buttons-layer_bottom-elements_titles--hero-image"),n.titlesOverlayLayer.classList[L(!e)]("hidden-layer"),n.controlsOverlayLayer.classList[L(!e)]("hidden-layer")}function w(e){n.titlesOverlayLayer.classList[L(!e)]("hidden-layer"),n.controlsOverlayLayer.classList[L(!e)]("hidden-layer"),n.playButton.classList[L(!e)]("hidden-layer"),n.pauseButton.classList[L(!e)]("hidden-layer"),n.topElementsRightSide.classList[L(!e)]("hidden-layer"),n.buttonLayer.classList[L(e)]("searched-player_buttons-layer--show-buttons"),e?n.topElementsClose.classList[L(!e)]("hidden-layer"):n.topElementsClose.classList.add("hidden-layer")}function P(e){n.descriptionLayer.classList[L(e)]("searched-player_description-layer--fullscreen"),n.buttonLayer.classList[L(e)]("searched-player_buttons-layer--fullscreen"),n.buttonLayer.classList[L(!e)]("searched-player_buttons-layer--hover"),n.topElementsClose.classList[L(!e)]("hidden-layer"),n.expandButton.classList[L(e)]("hidden-layer"),n.collapseButton.classList[L(!e)]("hidden-layer")}function q(e){n.descriptionLayer.classList[L(!e)]("hidden-layer"),n.titlesOverlayLayer.classList[L(e)]("hidden-layer"),o.getElementFullscreenState()?n.buttonLayer.classList[L(!e)]("searched-player_buttons-layer--fullscreen"):n.buttonLayer.classList[L(!1)]("searched-player_buttons-layer--fullscreen"),n.video.isWatching?n.controlsOverlayLayer.classList[L(e)]("hidden-layer"):n.controlsOverlayLayer.classList[L(!0)]("hidden-layer"),n.topElementsRightSide.classList[L(e)]("hidden-layer"),e?(n.playButton.classList[L(e)]("hidden-layer"),n.pauseButton.classList[L(e)]("hidden-layer")):S(n.screen.paused?!1:!0)}n=angular.extend(n,{isIntermissionState:!1,isIntermissionPaused:!1,intermissionCountdownValue:0,intermissionCountdownMax:100,screenList:angular.element(i[0].querySelector("div.video-layer video")),screen:angular.element(i[0].querySelector("div.video-layer video"))[0],sliderModel:new d,searchedPlayer:angular.element(document.querySelector("searched-player"))[0],titlesOverlayLayer:angular.element(i[0].querySelector(".searched-player_buttons-layer_bottom-elements_titles"))[0],controlsOverlayLayer:angular.element(i[0].querySelector(".searched-player_buttons-layer_bottom-elements_controls"))[0],topElementsLayer:angular.element(i[0].querySelector(".searched-player_buttons-layer_top-elements"))[0],topElementsClose:angular.element(i[0].querySelector(".searched-player_buttons-layer_top-elements_close-button"))[0],topElementsRightSide:angular.element(i[0].querySelector(".searched-player_buttons-layer_top-elements_rightside"))[0],currentTitle:angular.element(i[0].querySelector(".searched-player_buttons-layer_bottom-elements_titles_current_title"))[0],currentBlock:angular.element(i[0].querySelector(".searched-player_buttons-layer_bottom-elements_titles_current"))[0],buttonLayer:angular.element(i[0].querySelectorAll(".searched-player_buttons-layer"))[0],videoLayer:angular.element(i[0].querySelector("div.video-layer"))[0],imageLayer:angular.element(i[0].querySelector("div.hero-image-layer"))[0],descriptionLayer:angular.element(i[0].querySelector("div.searched-player_description-layer"))[0],playButton:angular.element(i[0].querySelector(".searched-player_buttons-layer_center-elements_play-button"))[0],pauseButton:angular.element(i[0].querySelector(".searched-player_buttons-layer_center-elements_pause-button"))[0],slider:angular.element(i[0].querySelector(".searched-player_buttons-layer_bottom-elements_controls_slider"))[0],expandButton:angular.element(i[0].querySelector(".searched-player_buttons-layer_bottom-elements_controls_expand"))[0],collapseButton:angular.element(i[0].querySelector(".searched-player_buttons-layer_bottom-elements_controls_collapse"))[0],togglePlayPause:b,imageHover:v,imageBlur:g,toggleFullScreen:f,toggleControlsVisibility:h,toggleDescription:u,showControlsOnMove:y,closeVideo:p}),a.yOffset=150,n.screenList.bind("timeupdate",function(){n.timePassed=t().startOf("year").add(n.screen.currentTime,"s").format("mm:ss"),n.duration=t().startOf("year").add(n.screen.duration,"s").format("mm:ss"),n.sliderModel.value=n.screen.currentTime,n.sliderModel.options.ceil=n.screen.duration,n.$apply()}),n.screenList.bind("ended",function(){o.getElementFullscreenState()?f().then(function(){n.video=void 0}):n.video=void 0}),n.$watch("video",function(e,t){n.video&&n.video.streams&&(n.sources=n.video.streams.map(function(e){return{src:r.trustAsResourceUrl(e.link),type:"video/"+e.stream_type}}),n.iconTitle=n.video&&n.video.category_id?m(n.video.category_id):"",n.createdDate=n.video&&n.video.created_at?_(n.video.created_at):void 0,s(function(){n.searchedPlayer.classList.contains("hidden-layer")||(b(),a("searched-player"))}))})}return{restrict:"E",templateUrl:"components/searched-player/searchedPlayer.html",link:c,transclude:!0,scope:{video:"="}}}function MainCtrl(e,t,n,r,s,a,l,i){function o(t){e.filterCategory.category_id=t;var n=t?t:0;s.each(e.categories,function(e){e.selected=!1,e.cssClass=L}),e.categories&&e.categories[n]&&(e.categories[n].selected=!0,e.categories[n].cssClass=b),t?e.filteredVideoList=s.filter(e.videosList,function(e){return e.category_id===t}):e.filteredVideoList=e.videosList}function c(t){var n="undefined"!=typeof t?t:e.isMenuVisible,r=document.querySelector(".menu_container"),s=document.querySelector(".navbar"),a=document.querySelector(".menu_container_outer"),l=document.querySelector(".categories-panel");n?(e.isMenuVisible=!1,r.classList.remove("menu_container--menu-visible"),s.classList.remove("navbar--menu-visible"),a.classList.remove("menu_container_outer--menu-visible"),l.classList.remove("categories-panel--menu-visible")):(e.isMenuVisible=!0,r.classList.add("menu_container--menu-visible"),s.classList.add("navbar--menu-visible"),a.classList.add("menu_container_outer--menu-visible"),l.classList.add("categories-panel--menu-visible"))}function d(t){function n(e){return e?"add":"remove"}e.eFeaturedList.classList[n(t)]("hidden-layer"),e.eCategoriesPanel.classList[n(t)]("hidden-layer"),e.eSearchedVideo.classList[n(!t)]("hidden-layer"),e.eFeedList.classList[n(t)]("hidden-layer")}function u(t){e.isFeaturedScrolled=!0,e.featuredScrollLeft=t.pageX,console.log("mouse down")}function y(){e.isFeaturedScrolled=!1,console.log("mouse up")}function p(t){if(e.isFeaturedScrolled){var n=document.querySelectorAll(".featured")[0];n.scrollLeft=n.scrollLeft-(t.pageX-e.featuredScrollLeft)/20}}function m(t){if(t){t.stopPropagation();var n=parseInt(t.target.id.replace("featured-","")),r=s.findIndex(e.featuredList,function(e){return e.id===n}),a=angular.extend({},e.featuredList[r]);e.featuredList.splice(r,1),e.featuredList.unshift(a);var i=document.querySelectorAll(".featured")[0],o=document.querySelectorAll("featured-player")[0];o.classList.remove("hidden-layer"),i.scrollLeft=0,l(function(){e.featuredItem=e.featuredList[0]})}}function _(){return r(function(t){n.getCategoriesList(e).then(function(n){e.categoriesList=n.data.data,t()})})}function v(){return r(function(n){t.getVideosList(e).then(function(t){e.videosList=s.filter(t.data.data,function(e){return e.hero_images&&e.hero_images.hero_image_link&&e.streams&&e.streams.length}),n()})})}function g(){return r(function(t){s.each(e.videosList,function(t){var n=s.find(e.categoriesList,function(e){return e.id===t.category_id});n&&(t.categoryName=n.title),t.isWatching=!1,t.isFullscreen=!1,o()}),t(e.videosList)})}function f(){return r(function(n){t.getFeaturedList(e).then(function(t){e.featuredList=t.data.data,e.featuredItem=e.featuredList[0],n()})})}function h(t){return r(function(n){e.storage.seenItems=i.getItem(e.storage.storageSeenKey)||[],s.each(t,function(t){t.isSeen=s.contains(e.storage.seenItems,t.id)}),n()})}var b="categories-panel_item categories-panel_item--selected",L="categories-panel_item";e=angular.extend(e,{filteredVideoList:[],featuredList:[],videosList:[],searchedVideo:void 0,isFeaturedScrolled:!1,categories:{0:{icon:"all",selected:!0,cssClass:b},11:{icon:"categorymovie",selected:!1,cssClass:L},12:{icon:"categorytv",selected:!1,cssClass:L},13:{icon:"categorygames",selected:!1,cssClass:L},14:{icon:"categorylifestyle",selected:!1,cssClass:L}},needFullscreen:!1,isMenuVisible:!1,filterCategory:{category_id:""},eFeaturedList:document.querySelector(".featured"),eCategoriesPanel:document.querySelector(".categories-panel"),eSearchedVideo:document.querySelector(".searched-video"),eFeedList:document.querySelector(".player-list"),filterByCategory:o,toggleMenu:c,toggleSearchVideoPlay:d,featuredMouseDown:u,featuredMouseUp:y,featuredMouseMove:p,featuredPlay:m}),_().then(v).then(g).then(h),f(),e.$watch("searchedVideo",function(){d(e.searchedVideo)})}function videoServ(e,t,n){function r(r){return t(function(t,s){function a(e){n.info("video list obtained"),t(e)}function l(e){n.info("video list obtaining error with status "+e.status),s(e)}e({method:"GET",url:r.hostName+"/videos"}).then(a,l)})}function s(r,s){return t(function(t,a){function l(e){n.info("video data created"),t(e)}function i(e){n.info("video data creation error with status "+e.status),a(e)}e({method:"POST",url:r.hostName+"/videos",data:s}).then(l,i)})}function a(r,s){return t(function(t,a){function l(e){n.info("video data delivered"),t(e)}function i(e){n.info("video data getting error with status "+e.status),a(e)}e({method:"GET",url:r.hostName+"/videos/"+s}).then(l,i)})}function l(r,s,a){return t(function(t,l){function i(e){n.info("video data updated"),t(e)}function o(e){n.info("video data updating error with status "+e.status),l(e)}e({method:"PUT",url:r.hostName+"/videos/"+s,data:a}).then(i,o)})}function i(r,s){return t(function(t,a){function l(e){n.info("video data deleted"),t(e)}function i(e){n.info("video data deleting error with status "+e.status),a(e)}e({method:"DELETE",url:r.hostName+"/videos/"+s}).then(l,i)})}function o(r){return t(function(t,s){function a(e){n.info("video list obtained"),t(e)}function l(e){n.info("video list obtaining error with status "+e.status),s(e)}e({method:"GET",url:r.hostName+"/featured"}).then(a,l)})}function c(r,s,a){var l=new FormData,i=l.append("heroImage",a);return t(function(t,a){function l(e){n.info("hero image uploaded"),t(e)}function o(e){n.info("hero image uploading error with status "+e.status),a(e)}e({method:"POST",url:r.hostName+"/videos/"+s+"/heroimage",data:i}).then(l,o)})}function d(r,s){return t(function(t,a){function l(e){n.info("streams called"),n.info(JSON.stringify(e)),t(e)}function i(e){n.info("streams call receiving error with status "+e.status),a(e)}e({method:"POST",url:r.hostName+"/videos/"+s+"/streams"}).then(l,i)})}return{getVideosList:r,makeVideo:s,getVideo:a,setVideo:l,deleteVideo:i,getFeaturedList:o,uploadHeroImage:c,sendStreams:d}}function VideosCtrl(e,t,n){n.getVideosList(e).then(function(n){e.videosList=n.data.data,t.info("data received")},function(e){t.error("receiving error happened: "+e)})}function WatchCtrl(e,t,n,r){var s;t.link&&(s=n.trustAs(n.RESOURCE_URL,t.link.replace(/%2F/g,"/"))),e.page="Watch",e.playerSettings={width:r.innerWidth,link:s}}angular.module("app.controls",["ngSanitize"]),angular.module("app.wrappers",[]),angular.module("app.routerHelper",["ui.router","app.wrappers"]),angular.module("app.services",[]),angular.module("app.directives",["app.services"]),angular.module("templates",[]),angular.module("app",["app.services","app.controls","app.directives","app.routerHelper","app.wrappers","app.routes","ngSanitize","templates","rzModule","angular-svg-round-progress"]).controller("AppCtrl",AppCtrl),AppCtrl.$inject=["$scope","routerHelper","routesList","$state"],angular.module("app.services").factory("categoriesServ",categoriesServ),categoriesServ.$inject=["$http","$q","$log"],angular.module("app.services").service("playerServ",playerServ),playerServ.$inject=["$q"],angular.module("app.helpers",[]).factory("RecursionHelper",["$compile",function(e){return{compile:function(t,n){angular.isFunction(n)&&(n={post:n});var r,s=t.contents().remove();return{pre:n&&n.pre?n.pre:null,post:function(t,a){r||(r=e(s)),r(t,function(e){a.append(e)}),n&&n.post&&n.post.apply(null,arguments)}}}}}]),angular.module("templates").run(["$templateCache",function(e){e.put("index_template.html",'<!DOCTYPE html>\r\n<html lang="en">\r\n<head>\r\n    <meta charset="UTF-8">\r\n    <title>Cizo</title>\r\n    <link rel="stylesheet" href="all.min.css">\r\n</head>\r\n<body ng-controller="AppCtrl">\r\n\r\n<div ui-view></div>\r\n\r\n<script src="3d-party.min.js"></script>\r\n<script src="ng.min.js"></script>\r\n<script>\r\n    angular.bootstrap(document, [\'app\']);\r\n</script>\r\n\r\n</body>\r\n</html>'),e.put("components/featured-player/featuredPlayer.html",'<div class="container-fluid featured-player" video-id="{{video.id}}">\r\n    <div class="row">\r\n        <div class="col-xs-12 no-padding">\r\n            <!-- video layer -->\r\n            <div class="col-xs-12 no-padding video-layer">\r\n                <video class="col-xs-12 no-padding" video-src="sources" preload=\'none\'></video>\r\n            </div>\r\n\r\n            <!-- next hero image layer -->\r\n            <div class="col-xs-12 no-padding hero-image-layer featured-player_hero-image-layer-next hidden-layer" style="background-image: url({{nextVideo.hero_images.hero_image_link}})">\r\n            </div>\r\n\r\n            <!-- description layer-->\r\n            <div class="col-xs-12 no-padding featured-player_description-layer hidden-layer">\r\n                <div class="featured-player_description-layer_container">\r\n                    <div class="featured-player_description-layer_container_close-container">\r\n                        <div class="featured-player_description-layer_container_close-container_button icon-close" ng-click="toggleDescription($event, false)"></div>\r\n                    </div>\r\n\r\n                    <div class="featured-player_description-layer_container_titles">\r\n                        <div class="featured-player_description-layer_container_titles_category icon-category{{iconTitle}}"></div>\r\n\r\n                        <div class="featured-player_description-layer_container_titles_labels">\r\n                            <span class="featured-player_description-layer_container_titles_labels_created">\r\n                                {{createdDate}}\r\n                            </span>\r\n                            <span class="featured-player_description-layer_container_titles_labels_title">\r\n                                {{video.title}}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                    <div class="featured-player_description-layer_container_text">\r\n                        {{video.description}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- buttons layer-->\r\n            <div class="featured-player_buttons-layer"\r\n                 ng-mouseenter="imageHover()"\r\n                 ng-mouseleave="imageBlur()"\r\n                 ng-click="togglePlayPause()"\r\n                 ng-dblclick="toggleFullScreen()"\r\n                 ng-mousemove="showControlsOnMove()"\r\n                    >\r\n                <!-- top buttons-->\r\n                <div class="featured-player_buttons-layer_top-elements">\r\n                    <div>\r\n                        <div class="icon-close featured-player_buttons-layer_top-elements_close-button" ng-click="closeFeatured($event)"></div>\r\n                    </div>\r\n\r\n\r\n                    <div class="featured-player_buttons-layer_top-elements_rightside">\r\n                        <span class="icon-favorites featured-player_buttons-layer_top-elements_rightside_buttons"></span>\r\n                        <span class="icon-info featured-player_buttons-layer_top-elements_rightside_buttons" ng-click="toggleDescription($event, true)"></span>\r\n                        <span class="icon-share featured-player_buttons-layer_top-elements_rightside_buttons"></span>\r\n                    </div>\r\n                </div>\r\n                <!-- center elements-->\r\n                <div class="featured-player_buttons-layer_center-elements stop-selection">\r\n\r\n                    <div class="featured-player_buttons-layer_center-elements_group">\r\n                        <div class="featured-player_buttons-layer_center-elements_group_title hidden-layer" ng-show="getNextVideo()">\r\n                            Up next\r\n                            <div class="featured-player_buttons-layer_center-elements_group_title_caption">{{nextVideo.title}}</div>\r\n                        </div>\r\n                        <div class="featured-player_buttons-layer_center-elements_group_controls">\r\n                            <div class="featured-player_buttons-layer_center-elements_prev-next-wrapper">\r\n                                <span class="icon-back featured-player_buttons-layer_center-elements_prev hidden-layer" ng-click="playPreviousVideo($event)"  ng-show="getPreviousVideo()"></span>\r\n                            </div>\r\n\r\n                            <div class="featured-player_buttons-layer_center-elements_group_controls_wrapper">\r\n                                <div  class="featured-player_buttons-layer_center-elements_group_controls_progress hidden-layer"\r\n                                      round-progress\r\n                                      max="intermissionCountdownMax"\r\n                                      current="intermissionCountdownValue"\r\n                                      color="url(#progress-gradient)"\r\n                                      bgcolor="rgba(255, 255, 255, 0.4)"\r\n                                      stroke="20"\r\n                                      semi="false"\r\n                                      round="100"\r\n                                      rounded="false"\r\n                                      clockwise="true"\r\n                                      responsive="false"\r\n                                      duration="800"\r\n                                      animation="easeInOutQuart"\r\n                                      animation-delay="0">\r\n                                    <svg>\r\n                                        <linearGradient id="progress-gradient" x1="0" x2="0" y1="0" y2="1">\r\n                                            <stop offset="5%"  stop-color="#24abbc"></stop>\r\n                                            <stop offset="95%" stop-color="#3bfcec"></stop>\r\n                                        </linearGradient>\r\n                                    </svg>\r\n                                </div>\r\n                                <div class="featured-player_buttons-layer_center-elements_group_controls_wrapper-play-pause">\r\n                                    <img src="images/iconVideoPlay.svg" ng-click="togglePlayPause($event)" class="featured-player_buttons-layer_center-elements_play-button">\r\n                                    <img src="images/iconVideoPause.svg" ng-click="togglePlayPause($event)" class="featured-player_buttons-layer_center-elements_pause-button hidden-layer">\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div class="featured-player_buttons-layer_center-elements_prev-next-wrapper">\r\n                                <span class="icon-forward featured-player_buttons-layer_center-elements_next hidden-layer" ng-click="playNextVideo($event)" ng-show="getNextVideo()"></span>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div class="featured-player_buttons-layer_center-elements_group_bottom hidden-layer">\r\n                            <span class="featured-player_buttons-layer_center-elements_pause-intermission" ng-click="pauseIntermissionToggle($event)">{{isIntermissionPaused ? \'Continue\' : \'Pause\'}}</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <!-- bottom elements-->\r\n                <div class="featured-player_buttons-layer_bottom-elements">\r\n                    <div class="featured-player_buttons-layer_bottom-elements_titles featured-player_buttons-layer_bottom-elements_titles--hero-image">\r\n                        <div class="featured-player_buttons-layer_bottom-elements_titles_current">\r\n                            <div ng-class="iconTitle"></div>\r\n\r\n                            <div class="featured-player_buttons-layer_bottom-elements_titles_current_title">\r\n                                <span class="featured-player_buttons-layer_bottom-elements_titles_current_title_created">\r\n                                    {{createdDate}}\r\n                                </span>\r\n                                <span class="featured-player_buttons-layer_bottom-elements_titles_current_title">\r\n                                    {{video.title}}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="featured-player_buttons-layer_bottom-elements_titles_next hidden-layer" ng-show="nextVideo" ng-click="playNextVideo($event)">\r\n\r\n                            <div class="featured-player_buttons-layer_bottom-elements_titles_next_image" style="background-image: url({{nextVideo.hero_images.hero_image_link}})"></div>\r\n                            <div class="featured-player_buttons-layer_bottom-elements_titles_next_up-text">up next...</div>\r\n                            <div class="featured-player_buttons-layer_bottom-elements_titles_next_up-title">{{nextVideo.title}}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="featured-player_buttons-layer_bottom-elements_controls hidden-layer">\r\n\r\n                        <div class="featured-player_buttons-layer_bottom-elements_controls_time-position">{{timePassed}}</div>\r\n\r\n                        <div class="featured-player_buttons-layer_bottom-elements_controls_slider">\r\n                            <rzslider ng-click="$event.stopPropagation()"\r\n                                      rz-slider-high="sliderModel.value"\r\n                                      rz-slider-model="sliderModel.start"\r\n                                      rz-slider-options="sliderModel.options"\r\n                                      >\r\n                            </rzslider>\r\n                        </div>\r\n\r\n                        <div class="featured-player_buttons-layer_bottom-elements_controls_duration">{{duration}}</div>\r\n\r\n                        <span class="icon-expand featured-player_buttons-layer_bottom-elements_controls_expand" ng-click="toggleFullScreen($event)"></span>\r\n                        <span class="icon-collapse featured-player_buttons-layer_bottom-elements_controls_collapse hidden-layer" ng-click="toggleFullScreen($event)"></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</div>'),e.put("components/menu/menu.html",'<nav class="navbar">\r\n    <div class="navbar-main">\r\n        <div class="icon-menu navbar-main_button" ng-click="toggleMenu()" ></div>\r\n        <img class="navbar-main_logo" src="images/logo.svg">\r\n        <div class="icon-search navbar-main_button" ng-click="toggleMenuType(true)"></div>\r\n    </div>\r\n\r\n    <div class="navbar_search hidden-layer">\r\n        <span class="navbar_search_back icon-back navbar_search_buttons" ng-click="toggleMenuType(false)"></span>\r\n        <input class="navbar_search_input" ng-model="searchText" ng-keyup="searchInputUpdate()">\r\n        <span class="navbar_search_clear icon-close navbar_search_buttons" ng-click="clearSearchInput()"></span>\r\n    </div>\r\n</nav>\r\n\r\n<div class="menu">\r\n    <div class="menu_container">\r\n        <div class="menu_item">\r\n            <span class="menu_item_icon icon-home"></span>\r\n            <span class="menu_item_title">Home</span>\r\n            <span class="menu_item_counter"></span>\r\n            <span class="menu_item_next icon-forward"></span>\r\n        </div>\r\n        <div class="menu_item">\r\n            <span class="menu_item_icon icon-unseen"></span>\r\n            <span class="menu_item_title">Unseen</span>\r\n            <span class="menu_item_counter"></span>\r\n            <span class="menu_item_next icon-forward"></span>\r\n        </div>\r\n        <div class="menu_item">\r\n            <span class="menu_item_icon icon-skipped"></span>\r\n            <span class="menu_item_title">Skipped</span>\r\n            <span class="menu_item_counter"></span>\r\n            <span class="menu_item_next icon-forward"></span>\r\n        </div>\r\n        <div class="menu_item">\r\n            <span class="menu_item_icon icon-seen"></span>\r\n            <span class="menu_item_title">Seen</span>\r\n            <span class="menu_item_counter"></span>\r\n            <span class="menu_item_next icon-forward"></span>\r\n        </div>\r\n        <div class="menu_item">\r\n            <span class="menu_item_icon icon-favorites"></span>\r\n            <span class="menu_item_title">Favorites</span>\r\n            <span class="menu_item_counter"></span>\r\n            <span class="menu_item_next icon-forward"></span>\r\n        </div>\r\n        <div class="menu_item">\r\n            <span class="menu_item_icon icon-profile"></span>\r\n            <span class="menu_item_title">Sign in</span>\r\n            <span class="menu_item_counter"></span>\r\n            <span class="menu_item_next icon-forward"></span>\r\n        </div>\r\n    </div>\r\n    <div class="menu_container_outer"  ng-click="toggleMenu(true)"></div>\r\n\r\n</div>\r\n\r\n<div class="search-results  hidden-layer">\r\n    <div ng-repeat="foundedVideo in searchResult" class="search-results_item" ng-click="searchItemClick(foundedVideo)">\r\n        <span class="search-results_item_category  icon-category{{categoryIconMap(foundedVideo.category_id)}}"></span>\r\n        <span class="search-results_item_title">{{foundedVideo.title}}</span>\r\n        <span class="search-results_item_play icon-play"></span>\r\n    </div>\r\n</div>'),e.put("components/player/player.html",'<div class="container-fluid player" video-id="{{::video.id}}">\r\n    <div class="row">\r\n        <div class="col-xs-12 no-padding">\r\n            <!-- video layer -->\r\n            <div class="col-xs-12 no-padding video-layer hidden-layer">\r\n                <video class="col-xs-12 no-padding"  preload=\'none\'>\r\n                    <source src="{{::videoLink}}" type="video/mp4">\r\n                </video>\r\n            </div>\r\n\r\n            <!-- hero image layer -->\r\n            <div class="col-xs-12 no-padding hero-image-layer player_hero-image-layer" style="background-image: url({{::video.hero_images.hero_image_link}})">\r\n            </div>\r\n\r\n            <!-- next hero image layer -->\r\n            <div class="col-xs-12 no-padding hero-image-layer player_hero-image-layer-next hidden-layer" style="background-image: url({{::nextVideo.hero_images.hero_image_link}})">\r\n            </div>\r\n\r\n\r\n\r\n            <!-- description layer-->\r\n            <div class="col-xs-12 no-padding player_description-layer hidden-layer">\r\n                <div class="player_description-layer_container">\r\n                    <div class="player_description-layer_container_close-container">\r\n                        <div class="player_description-layer_container_close-container_button icon-close" ng-click="toggleDescription($event, false)"></div>\r\n                    </div>\r\n\r\n                    <div class="player_description-layer_container_titles">\r\n                        <div class="player_description-layer_container_titles_category icon-category{{::iconTitle}}"></div>\r\n\r\n                        <div class="player_description-layer_container_titles_labels">\r\n                            <span class="player_description-layer_container_titles_labels_created">\r\n                                {{::createdDate}}\r\n                            </span>\r\n                            <span class="player_description-layer_container_titles_labels_title">\r\n                                {{::video.title}}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                    <div class="player_description-layer_container_text">\r\n                        {{video.description}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- buttons layer-->\r\n            <div class="player_buttons-layer"\r\n                 ng-mouseenter="imageHover()"\r\n                 ng-mouseleave="imageBlur()"\r\n                 ng-click="togglePlayPause()"\r\n                 ng-dblclick="toggleFullScreen()"\r\n                 ng-mousemove="showControlsOnMove()"\r\n                    >\r\n                <!-- top buttons-->\r\n                <div class="player_buttons-layer_top-elements">\r\n                    <div>\r\n                        <span class="icon-close player_buttons-layer_top-elements_close-button hidden-layer"></span>\r\n                    </div>\r\n\r\n\r\n                    <div class="player_buttons-layer_top-elements_rightside hidden-layer">\r\n                        <span class="icon-favorites player_buttons-layer_top-elements_rightside_buttons"></span>\r\n                        <span class="icon-info player_buttons-layer_top-elements_rightside_buttons" ng-click="toggleDescription($event, true)"></span>\r\n                        <span class="icon-share player_buttons-layer_top-elements_rightside_buttons"></span>\r\n                    </div>\r\n                </div>\r\n                <!-- center elements-->\r\n                <div class="player_buttons-layer_center-elements stop-selection">\r\n\r\n                    <div class="player_buttons-layer_center-elements_group">\r\n                        <div class="player_buttons-layer_center-elements_group_title hidden-layer" ng-show="getNextVideo()">\r\n                            Up next\r\n                            <div class="player_buttons-layer_center-elements_group_title_caption">{{nextVideo.title}}</div>\r\n                        </div>\r\n                        <div class="player_buttons-layer_center-elements_group_controls">\r\n                            <div class="player_buttons-layer_center-elements_prev-next-wrapper">\r\n                                <span class="icon-back player_buttons-layer_center-elements_prev hidden-layer" ng-click="playPreviousVideo($event)"  ng-show="getPreviousVideo()"></span>\r\n                            </div>\r\n\r\n                            <div class="player_buttons-layer_center-elements_group_controls_wrapper">\r\n                                <div  class="player_buttons-layer_center-elements_group_controls_progress hidden-layer"\r\n                                      round-progress\r\n                                      max="intermissionCountdownMax"\r\n                                      current="intermissionCountdownValue"\r\n                                      color="url(#progress-gradient)"\r\n                                      bgcolor="rgba(255, 255, 255, 0.4)"\r\n                                      stroke="20"\r\n                                      semi="false"\r\n                                      round="100"\r\n                                      rounded="false"\r\n                                      clockwise="true"\r\n                                      responsive="false"\r\n                                      duration="800"\r\n                                      animation="easeInOutQuart"\r\n                                      animation-delay="0">\r\n                                    <svg>\r\n                                        <linearGradient id="progress-gradient" x1="0" x2="0" y1="0" y2="1">\r\n                                            <stop offset="5%"  stop-color="#24abbc"/>\r\n                                            <stop offset="95%" stop-color="#3bfcec"/>\r\n                                        </linearGradient>\r\n                                    </svg>\r\n                                </div>\r\n                                <div class="player_buttons-layer_center-elements_group_controls_wrapper-play-pause">\r\n                                    <img src="images/iconVideoPlay.svg" ng-click="togglePlayPause($event)" class="player_buttons-layer_center-elements_play-button">\r\n                                    <img src="images/iconVideoPause.svg" ng-click="togglePlayPause($event)" class="player_buttons-layer_center-elements_pause-button hidden-layer">\r\n                                    <img src="images/iconVideoReplay.svg" ng-click="togglePlayPause($event)" class="player_buttons-layer_center-elements_replay-button">\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div class="player_buttons-layer_center-elements_prev-next-wrapper">\r\n                                <span class="icon-forward player_buttons-layer_center-elements_next hidden-layer" ng-click="playNextVideo($event)" ng-show="getNextVideo()"></span>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div class="player_buttons-layer_center-elements_group_bottom hidden-layer">\r\n                            <span class="player_buttons-layer_center-elements_pause-intermission" ng-click="pauseIntermissionToggle($event)">{{isIntermissionPaused ? \'Continue\' : \'Pause\'}}</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <!-- bottom elements-->\r\n                <div class="player_buttons-layer_bottom-elements">\r\n                    <div class="player_buttons-layer_bottom-elements_titles player_buttons-layer_bottom-elements_titles--hero-image">\r\n                        <div class="player_buttons-layer_bottom-elements_titles_current">\r\n                            <div class="player_buttons-layer_bottom-elements_titles_current_category icon-category{{::iconTitle}}"></div>\r\n\r\n                            <div class="player_buttons-layer_bottom-elements_titles_current_title">\r\n                                <span class="player_buttons-layer_bottom-elements_titles_current_title_created">\r\n                                    {{::createdDate}}\r\n                                </span>\r\n                                <span class="player_buttons-layer_bottom-elements_titles_current_title">\r\n                                    {{::video.title}}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="player_buttons-layer_bottom-elements_titles_next hidden-layer" ng-show="nextVideo" ng-click="playNextVideo($event)">\r\n\r\n                            <div class="player_buttons-layer_bottom-elements_titles_next_image" style="background-image: url({{nextVideo.hero_images.hero_image_link}})"></div>\r\n                            <div class="player_buttons-layer_bottom-elements_titles_next_up-text">up next...</div>\r\n                            <div class="player_buttons-layer_bottom-elements_titles_next_up-title">{{nextVideo.title}}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="player_buttons-layer_bottom-elements_controls hidden-layer">\r\n\r\n                        <div class="player_buttons-layer_bottom-elements_controls_time-position">{{timePassed}}</div>\r\n\r\n                        <div class="player_buttons-layer_bottom-elements_controls_slider">\r\n                            <rzslider ng-click="$event.stopPropagation()"\r\n                                      rz-slider-high="sliderModel.value"\r\n                                      rz-slider-model="sliderModel.start"\r\n                                      rz-slider-options="sliderModel.options"\r\n                                      ></rzslider>\r\n                        </div>\r\n\r\n                        <div class="player_buttons-layer_bottom-elements_controls_duration">{{duration}}</div>\r\n\r\n                        <span class="icon-expand player_buttons-layer_bottom-elements_controls_expand" ng-click="toggleFullScreen($event)"></span>\r\n                        <span class="icon-collapse player_buttons-layer_bottom-elements_controls_collapse hidden-layer" ng-click="toggleFullScreen($event)"></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</div>'),
e.put("components/searched-player/searchedPlayer.html",'<div class="container-fluid searched-player" video-id="{{video.id}}">\r\n    <div class="row">\r\n        <div class="col-xs-12 no-padding">\r\n            <!-- video layer -->\r\n            <div class="col-xs-12 no-padding video-layer">\r\n                <video class="col-xs-12 no-padding" video-src="sources" preload=\'none\'></video>\r\n            </div>\r\n\r\n            <!-- description layer-->\r\n            <div class="col-xs-12 no-padding searched-player_description-layer hidden-layer">\r\n                <div class="searched-player_description-layer_container">\r\n                    <div class="searched-player_description-layer_container_close-container">\r\n                        <div class="searched-player_description-layer_container_close-container_button icon-close" ng-click="toggleDescription($event, false)"></div>\r\n                    </div>\r\n\r\n                    <div class="searched-player_description-layer_container_titles">\r\n                        <div class="searched-player_description-layer_container_titles_category icon-category{{iconTitle}}"></div>\r\n\r\n                        <div class="searched-player_description-layer_container_titles_labels">\r\n                            <span class="searched-player_description-layer_container_titles_labels_created">\r\n                                {{createdDate}}\r\n                            </span>\r\n                            <span class="searched-player_description-layer_container_titles_labels_title">\r\n                                {{video.title}}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                    <div class="searched-player_description-layer_container_text">\r\n                        {{video.description}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- buttons layer-->\r\n            <div class="searched-player_buttons-layer"\r\n                 ng-mouseenter="imageHover()"\r\n                 ng-mouseleave="imageBlur()"\r\n                 ng-click="togglePlayPause()"\r\n                 ng-dblclick="toggleFullScreen()"\r\n                 ng-mousemove="showControlsOnMove()"\r\n                    >\r\n                <!-- top buttons-->\r\n                <div class="searched-player_buttons-layer_top-elements">\r\n                    <div>\r\n                        <div class="icon-close searched-player_buttons-layer_top-elements_close-button" ng-click="closeVideo($event)"></div>\r\n                    </div>\r\n\r\n\r\n                    <div class="searched-player_buttons-layer_top-elements_rightside">\r\n                        <span class="icon-favorites searched-player_buttons-layer_top-elements_rightside_buttons"></span>\r\n                        <span class="icon-info searched-player_buttons-layer_top-elements_rightside_buttons" ng-click="toggleDescription($event, true)"></span>\r\n                        <span class="icon-share searched-player_buttons-layer_top-elements_rightside_buttons"></span>\r\n                    </div>\r\n                </div>\r\n                <!-- center elements-->\r\n                <div class="searched-player_buttons-layer_center-elements stop-selection">\r\n\r\n                    <div class="searched-player_buttons-layer_center-elements_group">\r\n\r\n                        <div class="searched-player_buttons-layer_center-elements_group_controls">\r\n                            <div class="searched-player_buttons-layer_center-elements_group_controls_wrapper">\r\n                                <div class="searched-player_buttons-layer_center-elements_group_controls_wrapper-play-pause">\r\n                                    <img src="images/iconVideoPlay.svg" ng-click="togglePlayPause($event)" class="searched-player_buttons-layer_center-elements_play-button">\r\n                                    <img src="images/iconVideoPause.svg" ng-click="togglePlayPause($event)" class="searched-player_buttons-layer_center-elements_pause-button hidden-layer">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <!-- bottom elements-->\r\n                <div class="searched-player_buttons-layer_bottom-elements">\r\n                    <div class="searched-player_buttons-layer_bottom-elements_titles searched-player_buttons-layer_bottom-elements_titles--hero-image">\r\n                        <div class="searched-player_buttons-layer_bottom-elements_titles_current">\r\n                            <div ng-class="iconTitle"></div>\r\n\r\n                            <div class="searched-player_buttons-layer_bottom-elements_titles_current_title">\r\n                                <span class="searched-player_buttons-layer_bottom-elements_titles_current_title_created">\r\n                                    {{createdDate}}\r\n                                </span>\r\n                                <span class="searched-player_buttons-layer_bottom-elements_titles_current_title">\r\n                                    {{video.title}}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="searched-player_buttons-layer_bottom-elements_controls hidden-layer">\r\n\r\n                        <div class="searched-player_buttons-layer_bottom-elements_controls_time-position">{{timePassed}}</div>\r\n\r\n                        <div class="searched-player_buttons-layer_bottom-elements_controls_slider">\r\n                            <rzslider ng-click="$event.stopPropagation()"\r\n                                      rz-slider-high="sliderModel.value"\r\n                                      rz-slider-model="sliderModel.start"\r\n                                      rz-slider-options="sliderModel.options"\r\n                                      >\r\n                            </rzslider>\r\n                        </div>\r\n\r\n                        <div class="searched-player_buttons-layer_bottom-elements_controls_duration">{{duration}}</div>\r\n\r\n                        <span class="icon-expand searched-player_buttons-layer_bottom-elements_controls_expand" ng-click="toggleFullScreen($event)"></span>\r\n                        <span class="icon-collapse searched-player_buttons-layer_bottom-elements_controls_collapse hidden-layer" ng-click="toggleFullScreen($event)"></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</div>'),e.put("views/main/main.html",'<menu host="hostName" searched-video="searchedVideo"></menu>\r\n\r\n<div class="featured"\r\n     ng-mousedown="featuredMouseDown($event)"\r\n     ng-mouseup="featuredMouseUp()"\r\n     ng-mousemove="featuredMouseMove($event)"\r\n     >\r\n    <div  style="background-image: url({{::featured.hero_images.hero_image_link}})"\r\n          ng-attr-id="{{ \'featured-\' + featured.id }}"\r\n          ng-repeat="featured in featuredList"\r\n          class="featured_hero-image"\r\n          ng-click="featuredPlay($event)" >\r\n    </div>\r\n</div>\r\n\r\n<div class="categories-panel categories-panel--margin">\r\n    <div class="categories-panel_item" ng-click="filterByCategory()" ng-class="categories[0].cssClass">\r\n        <div class="categories-panel_item_icon categories-panel_item_icon--all-icon icon-all  "></div>\r\n        <div class="categories-panel_item_title">All</div>\r\n    </div>\r\n    <div class="categories-panel_item" ng-click="filterByCategory(11)" ng-class="categories[11].cssClass">\r\n        <div class="categories-panel_item_icon icon-{{categories[11].icon}}" ></div>\r\n        Movies\r\n    </div>\r\n    <div class="categories-panel_item" ng-click="filterByCategory(13)" ng-class="categories[13].cssClass">\r\n        <div class="categories-panel_item_icon icon-{{categories[13].icon}}" ></div>\r\n        Games\r\n    </div>\r\n    <div class="categories-panel_item" ng-click="filterByCategory(12)" ng-class="categories[12].cssClass">\r\n        <div class="categories-panel_item_icon icon-{{categories[12].icon}}" ></div>\r\n        TV Shows\r\n    </div>\r\n    <div class="categories-panel_item" ng-click="filterByCategory(14)" ng-class="categories[14].cssClass">\r\n        <div class="categories-panel_item_icon icon-{{categories[14].icon}}" ></div>\r\n        Lifestyle\r\n    </div>\r\n</div>\r\n\r\n\r\n<searched-player id="search-player" class="col-xs-12 col-md-8 col-md-offset-2 searched-video hidden-layer" video="searchedVideo"></searched-player>\r\n\r\n<featured-player class="col-xs-12 col-md-8 col-md-offset-2 hidden-layer" id="featured-player" video="featuredItem" filtered-list="featuredList" feed-list="filteredVideoList"></featured-player>\r\n\r\n\r\n<div class="container-fluid player-list">\r\n    <div class="row" ng-repeat="videoItem in filteredVideoList")>\r\n        <player id="player{{videoItem.id}}"  class="col-xs-12 col-md-8 col-md-offset-2" video="videoItem" filtered-list="filteredVideoList" storage="storage"></player>\r\n    </div>\r\n</div>'),e.put("views/videos/videos.html",'<div>\r\n    <h2>Videos</h2>\r\n\r\n    <div class="list-group">\r\n        <div class="list-group-item" ng-repeat="movie in videosList">\r\n            <div class="list-group-item-heading"><b>{{movie.title}}</b></div>\r\n            <div class="list-group-item-text">{{movie.description}}</div>\r\n            <a ui-sref="watch({link: movie.streams[0].link })">Watch</a>\r\n        </div>\r\n    </div>\r\n</div>'),e.put("views/watch/watch.html",'<!--<video autoplay preload="auto" width="{{playerSettings.width}}">\r\n    <source src="{{playerSettings.link}}">\r\n</video>-->\r\n\r\n<player width="{{playerSettings.width}}">\r\n    <source src="{{playerSettings.link}}">\r\n</player>')}]),angular.module("app.directives").directive("videoSrc",videoSrc),videoSrc.$inject=[],angular.module("app.wrappers",[]).factory("lodash",_lodash),_lodash.$inject=["$log"],angular.module("app.wrappers").factory("moment",_moment),angular.module("app.routerHelper").provider("routerHelper",routerHelperProvider),routerHelperProvider.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"],angular.module("app.routes",[]).constant("routesList",[{state:"main",config:{url:"/",templateUrl:"views/main/main.html",controller:"MainCtrl",controllerAs:"main"}},{state:"videos",config:{url:"/videos",templateUrl:"views/videos/videos.html",controller:"VideosCtrl",controllerAs:"videos"}}]),angular.module("app.services").factory("storageServ",storageServ),storageServ.$inject=["$window"],angular.module("app.directives").directive("featuredPlayer",featuredPlayer),featuredPlayer.$inject=["$log","moment","lodash","$sce","$timeout","$anchorScroll","$q","$interval","playerServ"],angular.module("app.directives").directive("menu",menu),menu.$inject=["$http","$q","$log","$sce"],angular.module("app.directives").directive("player",player),player.$inject=["$log","moment","lodash","$sce","$timeout","$anchorScroll","$q","$interval","storageServ"],angular.module("app.directives").directive("searchedPlayer",searchedPlayer),searchedPlayer.$inject=["$log","moment","lodash","$sce","$timeout","$anchorScroll","$q","$interval","playerServ"],angular.module("app.controls").controller("MainCtrl",MainCtrl),MainCtrl.$inject=["$scope","videoServ","categoriesServ","$q","lodash","$document","$timeout","storageServ"],angular.module("app.services").factory("videoServ",videoServ),videoServ.$inject=["$http","$q","$log"],angular.module("app.controls").controller("VideosCtrl",VideosCtrl),VideosCtrl.$inject=["$scope","$log","videoServ"],angular.module("app.controls").controller("WatchCtrl",WatchCtrl),WatchCtrl.$inject=["$scope","$stateParams","$sce","$window"];
//# sourceMappingURL=ng.min.js.map
