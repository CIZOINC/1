"use strict";function AppCtrl(t,e,n,i){t.title="Cizo",t.hostName="http://staging.cizo.com",applicationStart(e,n,i)}function applicationStart(t,e,n){t.configureStates(e),n.go("main")}function init_templates(){return"dummy"}function _moment(){return moment}function routerHelperProvider(t,e,n){function i(t){function i(t,i){t.forEach(function(t){e.state(t.state,t.config)}),i&&!a&&(a=!0,n.otherwise(i))}function r(){return t.get()}var a=!1;return{configureStates:i,getStates:r}}this.$get=i,i.$inject=["$state"]}function player(t,e){function n(){}function i(i,r,a){function o(){var e=angular.element(document.querySelector("video.screen"))[0],n=angular.element(document.querySelector("div.play-button span"))[0];e.paused?(e.play(),t.info("start playing"),n.classList.add("glyphicon-play"),n.classList.remove("glyphicon-pause"),i.$apply()):(e.pause(),t.info("set to pause"),n.classList.add("glyphicon-pause"),n.classList.remove("glyphicon-play"),i.$apply())}var s=angular.element(document.querySelector("video.screen"));s.on("click",n),s.on("timeupdate",function(){i.timePassed=e().startOf("year").add(s[0].currentTime,"s").format("mm:ss"),i.duration=e().startOf("year").add(s[0].duration,"s").format("mm:ss"),i.$apply()});var l=angular.element(document.querySelector("div.play-button span"));l.on("click",o)}return{restrict:"E",templateUrl:"components/player/player.html",link:i,transclude:!0,scope:{width:"@"}}}function MainCtrl(t){t.trending="Trending",t.categories="Categories",t.videos="Videos"}function VideosCtrl(t,e,n){n.getVideosList(t).then(function(n){t.videosList=n.data.data,e.info("data received")},function(t){e.error("receiving error happened: "+t)})}function videoServ(t,e,n){function i(i){return e(function(e,r){function a(t){n.info("video list obtained"),e(t)}function o(t){n.info("video list obtaining error with status "+t.status),r(t)}t({method:"GET",url:i.hostName+"/videos"}).then(a,o)})}function r(i,r){return e(function(e,a){function o(t){n.info("video data created"),e(t)}function s(t){n.info("video data creation error with status "+t.status),a(t)}t({method:"POST",url:i.hostName+"/videos",data:r}).then(o,s)})}function a(i,r){return e(function(e,a){function o(t){n.info("video data delivered"),e(t)}function s(t){n.info("video data getting error with status "+t.status),a(t)}t({method:"GET",url:i.hostName+"/videos/"+r}).then(o,s)})}function o(i,r,a){return e(function(e,o){function s(t){n.info("video data updated"),e(t)}function l(t){n.info("video data updating error with status "+t.status),o(t)}t({method:"PUT",url:i.hostName+"/videos/"+r,data:a}).then(s,l)})}function s(i,r){return e(function(e,a){function o(t){n.info("video data deleted"),e(t)}function s(t){n.info("video data deleting error with status "+t.status),a(t)}t({method:"DELETE",url:i.hostName+"/videos/"+r}).then(o,s)})}function l(i,r,a){var o=new FormData,s=o.append("heroImage",a);return e(function(e,a){function o(t){n.info("hero image uploaded"),e(t)}function l(t){n.info("hero image uploading error with status "+t.status),a(t)}t({method:"POST",url:i.hostName+"/videos/"+r+"/heroimage",data:s}).then(o,l)})}function d(i,r){return e(function(e,a){function o(t){n.info("streams called"),n.info(JSON.stringify(t)),e(t)}function s(t){n.info("streams call receiving error with status "+t.status),a(t)}t({method:"POST",url:i.hostName+"/videos/"+r+"/streams"}).then(o,s)})}return{getVideosList:i,makeVideo:r,getVideo:a,setVideo:o,deleteVideo:s,uploadHeroImage:l,sendStreams:d}}function WatchCtrl(t,e,n,i){var r;e.link&&(r=n.trustAs(n.RESOURCE_URL,e.link.replace(/%2F/g,"/"))),t.page="Watch",t.playerSettings={width:i.innerWidth,link:r}}angular.module("app",["app.services","app.controls","app.directives","app.routerHelper","app.wrappers","app.routes","ngSanitize","templates"]).controller("AppCtrl",AppCtrl),AppCtrl.$inject=["$scope","routerHelper","routesList","$state"],angular.module("templates",[]).constant("init",init_templates),angular.module("app.helpers",[]).factory("RecursionHelper",["$compile",function(t){return{compile:function(e,n){angular.isFunction(n)&&(n={post:n});var i,r=e.contents().remove();return{pre:n&&n.pre?n.pre:null,post:function(e,a){i||(i=t(r)),i(e,function(t){a.append(t)}),n&&n.post&&n.post.apply(null,arguments)}}}}}]),angular.module("templates").run(["$templateCache",function(t){t.put("components/player/player.html",'<div class="container">\r\n    <video class="screen" width="{{width}}" autoplay  ng-transclude></video>\r\n    <div class="like-button">\r\n        <span class="glyphicon glyphicon-heart-empty"></span>\r\n    </div>\r\n    <div class="play-button">\r\n        <span class="glyphicon glyphicon-play"></span>\r\n    </div>\r\n    <div class="info-panel">\r\n        <span>{{timePassed}} / {{duration}}</span>\r\n    </div>\r\n</div>'),t.put("views/main/main.html",'<div>\r\n    <div class="btn-group-vertical">\r\n        <a class="btn btn-default" ui-sref="videos">{{videos}}</a>\r\n        <a class="btn btn-default">{{categories}}</a>\r\n        <a class="btn btn-default">{{trending}}</a>\r\n    </div>\r\n</div>'),t.put("views/videos/videos.html",'<div>\r\n    <h2>Videos</h2>\r\n    <div>\r\n        <div ng-repeat="video in videosList">\r\n            <div>{{video.title}}</div>\r\n            <div>{{video.description}}</div>\r\n            {{video.streams.link}}\r\n            <a ui-sref="watch({link: video.streams[0].link })">Watch</a>\r\n        </div>\r\n    </div>\r\n</div>'),t.put("views/watch/watch.html",'<!--<video autoplay preload="auto" width="{{playerSettings.width}}">\r\n    <source src="{{playerSettings.link}}">\r\n</video>-->\r\n\r\n<player width="{{playerSettings.width}}">\r\n    <source src="{{playerSettings.link}}">\r\n</player>')}]),angular.module("templates").run(["$templateCache",function(t){t.put("components/player/player.html",'<div class="container">\r\n    <video class="screen" width="{{width}}" autoplay  ng-transclude></video>\r\n    <div class="like-button">\r\n        <span class="glyphicon glyphicon-heart-empty"></span>\r\n    </div>\r\n    <div class="play-button">\r\n        <span class="glyphicon glyphicon-play"></span>\r\n    </div>\r\n    <div class="info-panel">\r\n        <span>{{timePassed}} / {{duration}}</span>\r\n    </div>\r\n</div>'),t.put("views/main/main.html",'<div>\r\n    <div class="btn-group-vertical">\r\n        <a class="btn btn-default" ui-sref="videos">{{videos}}</a>\r\n        <a class="btn btn-default">{{categories}}</a>\r\n        <a class="btn btn-default">{{trending}}</a>\r\n    </div>\r\n</div>'),t.put("views/videos/videos.html",'<div>\r\n    <h2>Videos</h2>\r\n\r\n    <div class="list-group">\r\n        <div class="list-group-item" ng-repeat="movie in videosList">\r\n            <div class="list-group-item-heading"><b>{{movie.title}}</b></div>\r\n            <div class="list-group-item-text">{{movie.description}}</div>\r\n            <a ui-sref="watch({link: movie.streams[0].link })">Watch</a>\r\n        </div>\r\n    </div>\r\n</div>'),t.put("views/watch/watch.html",'<!--<video autoplay preload="auto" width="{{playerSettings.width}}">\r\n    <source src="{{playerSettings.link}}">\r\n</video>-->\r\n\r\n<player width="{{playerSettings.width}}">\r\n    <source src="{{playerSettings.link}}">\r\n</player>')}]),angular.module("app.wrappers",[]).factory("moment",_moment),angular.module("app.routerHelper",["ui.router"]).provider("routerHelper",routerHelperProvider),routerHelperProvider.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"],angular.module("app.routes",[]).constant("routesList",[{state:"main",config:{url:"/",templateUrl:"views/main/main.html",controller:"MainCtrl",controllerAs:"main"}},{state:"videos",config:{url:"/videos",templateUrl:"views/videos/videos.html",controller:"VideosCtrl",controllerAs:"videos"}},{state:"watch",config:{url:"/watch/:link",templateUrl:"views/watch/watch.html",controller:"WatchCtrl",controllerAs:"watch"}}]),angular.module("app.directives",[]).directive("player",player),player.$inject=["$log","moment"],angular.module("app.controls",["ngSanitize"]).controller("MainCtrl",MainCtrl),MainCtrl.$inject=["$scope"],angular.module("app.controls").controller("VideosCtrl",VideosCtrl),VideosCtrl.$inject=["$scope","$log","videoServ"],angular.module("app.services",[]).factory("videoServ",videoServ),videoServ.$inject=["$http","$q","$log"],angular.module("app.controls").controller("WatchCtrl",WatchCtrl),WatchCtrl.$inject=["$scope","$stateParams","$sce","$window"];
//# sourceMappingURL=all-ng.min.js.map
