{"version":3,"sources":["AppCtrl-compiled.js","wrappers/moment-compiled.js","common/router/routeHelper-compiled.js","components/player/player-compiled.js","views/main/MainCtrl-compiled.js","views/videos/VideosCtrl-compiled.js","views/watch/WatchCtrl-compiled.js","common/recursionHelper-compiled.js","common/router/routes-compiled.js"],"names":["AppCtrl","$scope","routerHelper","routesList","$state","title","applicationStart","configureStates","go","_moment","moment","routerHelperProvider","$locationProvider","$stateProvider","$urlRouterProvider","RouterHelper","states","otherwisePath","forEach","state","config","hasOtherwise","otherwise","getStates","get","this","$get","$inject","player","$log","clickScreen","linkFn","scope","element","attrs","togglePlayPause","screen","angular","document","querySelector","playBtn","paused","play","info","classList","add","remove","$apply","pause","on","timePassed","startOf","currentTime","format","duration","likeBtn","restrict","templateUrl","link","transclude","width","MainCtrl","trending","categories","videos","VideosCtrl","videosList","id","created_at","updated_at","description","mpaa_rating","category_id","viewable","tags","streams","type","transcode_status","hero_image_link","liked","view_count","WatchCtrl","$stateParams","$sce","$window","decoded","trustAs","RESOURCE_URL","replace","page","playerSettings","innerWidth","module","controller","factory","$compile","compile","isFunction","post","compiledContents","contents","pre","clone","append","apply","arguments","provider","constant","url","controllerAs","directive"],"mappings":"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","file":"all-ng.min.js","sourcesContent":["'use strict';\n\n//angular.bootstrap(document, ['app']);\n\nangular.module('app', ['app.controls', 'app.directives', 'app.routerHelper', 'app.wrappers', 'app.routes', 'ngSanitize']).controller('AppCtrl', AppCtrl);\n\n/* @ngInject */\nfunction AppCtrl($scope, routerHelper, routesList, $state) {\n    $scope.title = 'Cizo';\n    applicationStart(routerHelper, routesList, $state);\n}\nAppCtrl.$inject = ['$scope', 'routerHelper', 'routesList', '$state'];\n\nfunction applicationStart(routerHelper, routesList, $state) {\n    \"use strict\";\n\n    routerHelper.configureStates(routesList);\n    $state.go('main');\n}\n\n//# sourceMappingURL=AppCtrl-compiled.js.map","'use strict';\r\n\r\n/*global angular*/\r\nangular.module('app.wrappers', []).factory('moment', _moment);\r\n\r\nfunction _moment() {\r\n    return moment;\r\n}\r\n\r\n//# sourceMappingURL=moment-compiled.js.map","'use strict';\n\nangular.module('app.routerHelper', ['ui.router']).provider('routerHelper', routerHelperProvider);\n\nrouterHelperProvider.$inject = ['$locationProvider', '$stateProvider', '$urlRouterProvider'];\n/* @ngInject */\nfunction routerHelperProvider($locationProvider, $stateProvider, $urlRouterProvider) {\n    /* jshint validthis:true */\n    this.$get = RouterHelper;\n\n    //$locationProvider.html5Mode(true);\n\n    RouterHelper.$inject = ['$state'];\n    /* @ngInject */\n    function RouterHelper($state) {\n        var hasOtherwise = false;\n\n        return {\n            configureStates: configureStates,\n            getStates: getStates\n        };\n\n        ///////////////\n\n        function configureStates(states, otherwisePath) {\n            states.forEach(function (state) {\n                $stateProvider.state(state.state, state.config);\n            });\n            if (otherwisePath && !hasOtherwise) {\n                hasOtherwise = true;\n                $urlRouterProvider.otherwise(otherwisePath);\n            }\n        }\n\n        function getStates() {\n            return $state.get();\n        }\n    }\n}\n\n//# sourceMappingURL=routeHelper-compiled.js.map","'use strict';\n\n/*global angular*/\nangular.module('app.directives', []).directive('player', player);\n\n/* @ngInject */\nfunction player($log, moment) {\n    \"use strict\";\n\n    function clickScreen() {}\n\n    function linkFn(scope, element, attrs) {\n        function togglePlayPause() {\n            var screen = angular.element(document.querySelector(\"video.screen\"))[0];\n            var playBtn = angular.element(document.querySelector('div.play-button span'))[0];\n            if (screen.paused) {\n                screen.play();\n                $log.info('start playing');\n                playBtn.classList.add('glyphicon-play');\n                playBtn.classList.remove('glyphicon-pause');\n                scope.$apply();\n            } else {\n                screen.pause();\n                $log.info('set to pause');\n                playBtn.classList.add('glyphicon-pause');\n                playBtn.classList.remove('glyphicon-play');\n                scope.$apply();\n            }\n        }\n\n        var screen = angular.element(document.querySelector('video.screen'));\n        screen.on('click', clickScreen);\n        screen.on('timeupdate', function () {\n            scope.timePassed = moment().startOf('year').add(screen[0].currentTime, 's').format('mm:ss');\n            scope.duration = moment().startOf('year').add(screen[0].duration, 's').format('mm:ss');\n            scope.$apply();\n        });\n\n        var likeBtn = angular.element(document.querySelector('div.play-button span'));\n        likeBtn.on('click', togglePlayPause);\n    }\n\n    return {\n        restrict: 'E',\n        templateUrl: 'components/player/player.html',\n        link: linkFn,\n        transclude: true,\n        scope: {\n            width: '@'\n        }\n    };\n}\nplayer.$inject = ['$log', 'moment'];\n\n//# sourceMappingURL=player-compiled.js.map","'use strict';\n\n/*global angular*/\nangular.module('app.controls', ['ngSanitize']).controller('MainCtrl', MainCtrl);\n\n/* @ngInject */\nfunction MainCtrl($scope) {\n    \"use strict\";\n\n    $scope.trending = 'Trending';\n    $scope.categories = 'Categories';\n    $scope.videos = 'Videos';\n}\nMainCtrl.$inject = ['$scope'];\n\n//# sourceMappingURL=MainCtrl-compiled.js.map","'use strict';\n\n/*global angular*/\nangular.module('app.controls').controller('VideosCtrl', VideosCtrl);\n\n/* @ngInject */\nfunction VideosCtrl($scope) {\n    \"use strict\";\n\n    $scope.videosList = [{\n        \"id\": 1,\n        \"created_at\": \"2015-12-09T09:23:13.990Z\",\n        \"updated_at\": \"2015-12-09T09:23:13.990Z\",\n        \"title\": \"Simpsons\",\n        \"description\": \"Long movie about the family\",\n        \"mpaa_rating\": \"G\",\n        \"category_id\": 0,\n        \"viewable\": true,\n        \"tags\": [\"string\"],\n        \"streams\": [{\n            \"link\": \"https://s3.amazonaws.com/cizo-assets/staging/stream/simpsons/mp4/video.mp4\",\n            \"type\": \"mp4\",\n            \"transcode_status\": \"string\"\n        }],\n        \"hero_image_link\": \"string\",\n        \"liked\": false,\n        \"view_count\": 0\n    }, {\n        \"id\": 2,\n        \"created_at\": \"2015-12-09T09:23:13.990Z\",\n        \"updated_at\": \"2015-12-09T09:23:13.990Z\",\n        \"title\": \"Star wars\",\n        \"description\": \"string\",\n        \"mpaa_rating\": \"G\",\n        \"category_id\": 3,\n        \"viewable\": true,\n        \"tags\": [\"string\"],\n        \"streams\": [{\n            \"link\": \"https://s3.amazonaws.com/cizo-assets/staging/stream/starwars/mp4/video.mp4\",\n            \"type\": \"mp4\",\n            \"transcode_status\": \"string\"\n        }],\n        \"hero_image_link\": \"string\",\n        \"liked\": true,\n        \"view_count\": 0\n    }, {\n        \"id\": 3,\n        \"created_at\": \"2015-12-04T09:23:13.990Z\",\n        \"updated_at\": \"2015-12-04T09:23:13.990Z\",\n        \"title\": \"None\",\n        \"description\": \"string\",\n        \"mpaa_rating\": \"PG-13\",\n        \"category_id\": 2,\n        \"viewable\": true,\n        \"tags\": [\"string\"],\n        \"streams\": [{\n            \"link\": \"string\",\n            \"type\": \"string\",\n            \"transcode_status\": \"string\"\n        }],\n        \"hero_image_link\": \"string\",\n        \"liked\": true,\n        \"view_count\": 0\n    }];\n}\n\nVideosCtrl.$inject = ['$scope'];\n\n//# sourceMappingURL=videosCtrl-compiled.js.map","'use strict';\n\n/*global angular*/\nangular.module('app.controls').controller('WatchCtrl', WatchCtrl);\n\n/* @ngInject */\nfunction WatchCtrl($scope, $stateParams, $sce, $window) {\n    \"use strict\";\n\n    var decoded;\n    if ($stateParams.link) {\n        decoded = $sce.trustAs($sce.RESOURCE_URL, $stateParams.link.replace(/%2F/g, '/'));\n    }\n    $scope.page = 'Watch';\n    $scope.playerSettings = {\n        width: $window.innerWidth,\n        link: decoded\n    };\n}\n\nWatchCtrl.$inject = ['$scope', '$stateParams', '$sce', '$window'];\n\n//# sourceMappingURL=WatchCtrl-compiled.js.map","'use strict';\n\n/*global angular*/\nangular.module('app.helpers', []).factory('RecursionHelper', ['$compile', function ($compile) {\n    \"use strict\";\n\n    return {\n        /**\r\n         * Manually compiles the element, fixing the recursion loop.\r\n         * @param element\r\n         * @param [link] A post-link function, or an object with function(s) registered via pre and post properties.\r\n         * @returns {pre: *, post: RecursionHelper.post} object containing the linking functions.\r\n         */\n        compile: function compile(element, link) {\n            // Normalize the link parameter\n            if (angular.isFunction(link)) {\n                link = { post: link };\n            }\n\n            // Break the recursion loop by removing the contents\n            var contents = element.contents().remove();\n            var compiledContents;\n            //noinspection JSValidateTypes\n            return {\n                pre: link && link.pre ? link.pre : null,\n                /**\r\n                 * Compiles and re-adds the contents\r\n                 */\n                post: function post(scope, element) {\n                    // Compile the contents\n                    if (!compiledContents) {\n                        compiledContents = $compile(contents);\n                    }\n                    // Re-add the compiled contents to the element\n                    compiledContents(scope, function (clone) {\n                        element.append(clone);\n                    });\n\n                    // Call the post-linking function, if any\n                    if (link && link.post) {\n                        link.post.apply(null, arguments);\n                    }\n                }\n            };\n        }\n    };\n}]);\n\n//# sourceMappingURL=recursionHelper-compiled.js.map","'use strict';\n\nangular.module('app.routes', []).constant('routesList', [{\n    state: 'main',\n    config: {\n        url: '/',\n        templateUrl: 'views/main/main.html',\n        controller: 'MainCtrl',\n        controllerAs: 'main'\n    }\n}, {\n    state: 'videos',\n    config: {\n        url: '/videos',\n        templateUrl: 'views/videos/videos.html',\n        controller: 'VideosCtrl',\n        controllerAs: 'videos'\n    }\n}, {\n    state: 'watch',\n    config: {\n        url: '/watch/:link',\n        templateUrl: 'views/watch/watch.html',\n        controller: 'WatchCtrl',\n        controllerAs: 'watch'\n    }\n}]);\n\n//# sourceMappingURL=routes-compiled.js.map"],"sourceRoot":"/source/"}